// meta={"simUrl":"https://trg-arcade.userpxt.io/v1.0.16/---simulator","cdnUrl":"https://pxt.azureedge.net","version":"0.0.4","target":"arcade","targetVersion":"1.0.16","repo":"microsoft/jacdac-multitool"}
// total=2363781 new=14.20% cached=79.39% other=6.41%
(function (ectx) {
'use strict';
const runtime = ectx.runtime;
const oops = ectx.oops;
const doNothing = ectx.doNothing;
const pxsim = ectx.pxsim;
const globals = ectx.globals;
const maybeYield = ectx.maybeYield;
const setupDebugger = ectx.setupDebugger;
const isBreakFrame = ectx.isBreakFrame;
const breakpoint = ectx.breakpoint;
const trace = ectx.trace;
const checkStack = ectx.checkStack;
const leave = ectx.leave;
const checkResumeConsumed = ectx.checkResumeConsumed;
const setupResume = ectx.setupResume;
const setupLambda = ectx.setupLambda;
const checkSubtype = ectx.checkSubtype;
const failedCast = ectx.failedCast;
const buildResume = ectx.buildResume;
const mkVTable = ectx.mkVTable;
const bind = ectx.bind;
const leaveAccessor = ectx.leaveAccessor;
const __this = runtime;
const pxtrt = pxsim.pxtrt;
let yieldSteps = 1;
ectx.setupYield(function() { yieldSteps = 100; })
pxsim.setTitle("JD namer");
pxsim.setConfigData({
 "37": 160,
 "38": 120
}, {
 "DISPLAY_WIDTH": 37,
 "DISPLAY_HEIGHT": 38
});
pxtrt.mapKeyNames = [
 "",
 "MACaddress",
 "__draw",
 "__drawCore",
 "__preUpdate",
 "__update",
 "__visible",
 "_action",
 "_attach",
 "_ax",
 "_ay",
 "_buffer",
 "_cached",
 "_close",
 "_closeHandler",
 "_closed",
 "_col",
 "_connected",
 "_controlledSprites",
 "_controller",
 "_data",
 "_destroyCore",
 "_detach",
 "_dt",
 "_errorHandler",
 "_factory",
 "_fx",
 "_fy",
 "_handle",
 "_header",
 "_height",
 "_hitbox",
 "_id",
 "_image",
 "_kind",
 "_kindsOverlappedWith",
 "_lastListenerTime",
 "_lastState",
 "_lastX",
 "_lastY",
 "_layer",
 "_layers",
 "_length",
 "_localTime",
 "_map",
 "_max",
 "_messageHandler",
 "_millis",
 "_min",
 "_name",
 "_obstacles",
 "_offset",
 "_offsetX",
 "_offsetY",
 "_openHandler",
 "_overlappers",
 "_owner",
 "_player",
 "_pressed",
 "_pressedElasped",
 "_prune",
 "_read_so_far",
 "_repeatCount",
 "_retPort",
 "_row",
 "_scale",
 "_sendCmd",
 "_sendCore",
 "_sendReport",
 "_sendWithAck",
 "_shortId",
 "_socknum",
 "_sprites",
 "_ssid",
 "_stateChangedHandler",
 "_text",
 "_timeout",
 "_update",
 "_vx",
 "_vy",
 "_width",
 "_x",
 "_y",
 "_z",
 "action",
 "active",
 "activeCard",
 "add",
 "addChunk",
 "addShape",
 "addSprite",
 "added",
 "advertisementData",
 "alignX",
 "alignY",
 "allPending",
 "allSprites",
 "analog",
 "anchor",
 "applyTo",
 "areaHeight",
 "areaWidth",
 "autoOff",
 "ax",
 "ay",
 "background",
 "basicCard",
 "bottom",
 "boundTo",
 "broadcast",
 "buckets",
 "buffer",
 "button",
 "buttons",
 "bytesAvailable",
 "cachedTileView",
 "cachedVx",
 "cachedVy",
 "camera",
 "canResolveClipping",
 "candidates",
 "card",
 "cardSpacing",
 "cardWidth",
 "cardsPerRow",
 "cardsTop",
 "cb",
 "cellHeight",
 "cellWidth",
 "change",
 "charHeight",
 "charWidth",
 "checkKw",
 "classClients",
 "classDescription",
 "classNum",
 "clear",
 "clearInterior",
 "clearNameCache",
 "clearNames",
 "clearObstacles",
 "clients",
 "close",
 "closed",
 "cmd",
 "col",
 "collisionHandlers",
 "color",
 "columnCount",
 "columns",
 "compress",
 "condition",
 "config",
 "connect",
 "connectSSL",
 "connected",
 "conntype",
 "constrain",
 "contains",
 "content",
 "controlledSprites",
 "controller",
 "crc",
 "createMovingSprite",
 "createParticle",
 "createSocket",
 "createdHandlers",
 "currAnimation",
 "currIndent",
 "currentDevice",
 "cursor",
 "cursorCount",
 "cursorRowHeight",
 "customGestureHandlers",
 "data",
 "defaultLifespan",
 "defaultRate",
 "deltaTime",
 "deltaTimeMillis",
 "destroy",
 "destroyHandler",
 "destroyedHandlers",
 "dev_class",
 "device",
 "deviceId",
 "device_identifier",
 "dispose",
 "distance",
 "doArray",
 "doNumber",
 "doObject",
 "doString",
 "down",
 "draw",
 "drawBorder",
 "drawCursorRow",
 "drawOffsetX",
 "drawOffsetY",
 "drawPartial",
 "drawParticle",
 "drawText",
 "drawTextCore",
 "dx",
 "dy",
 "effect",
 "eid",
 "elements",
 "enabled",
 "encryption",
 "endFlash",
 "error",
 "errorMsg",
 "eventContext",
 "eventId",
 "everyoneConnected",
 "factory",
 "fastFill",
 "fastRandom",
 "files",
 "firmwareVersion",
 "flags",
 "flashSize",
 "flush",
 "followingSprites",
 "font",
 "footer",
 "forDeviceClass",
 "frame",
 "frameCallbacks",
 "frameWorker",
 "framesInSample",
 "from",
 "fromBinary",
 "fx",
 "fy",
 "galois",
 "gameForeverHandlers",
 "generator",
 "gestureHandlers",
 "get",
 "getNumber",
 "getObstacle",
 "getState",
 "getText",
 "getTile",
 "getTileImage",
 "getTileIndex",
 "go",
 "gotIP",
 "handleCtrlReport",
 "handleCustomCommand",
 "handlePacket",
 "handlePacketOuter",
 "handleVirtualState",
 "handler",
 "handlers",
 "hasIP",
 "hasService",
 "head",
 "headerFont",
 "headerText",
 "headers",
 "height",
 "highlightColor",
 "host",
 "hostByName",
 "hostbyName",
 "icon",
 "iconImage",
 "id",
 "idleCallbacks",
 "image",
 "img",
 "inQ",
 "indent",
 "indentStep",
 "infoFont",
 "infoTop",
 "init",
 "innerLeft",
 "innerTop",
 "inp",
 "insertAABB",
 "insertAtKey",
 "intData",
 "isCandidate",
 "isConnected",
 "isObstacle",
 "isOnWall",
 "isOutOfScreen",
 "isOutsideMap",
 "isPressed",
 "isStatic",
 "isStreaming",
 "isWall",
 "is_command",
 "is_reg_set",
 "json",
 "key",
 "kind",
 "lastCustomGesture",
 "lastGesture",
 "lastLightCondition",
 "lastQuery",
 "lastSeen",
 "lastSet",
 "lastStatus",
 "lastpix",
 "layer",
 "layers",
 "left",
 "length",
 "lfsr",
 "lifespan",
 "lightHandlers",
 "log",
 "lookupQuery",
 "map",
 "maxLifespan",
 "maxNegativeVelocity",
 "maxOffset",
 "maxSingleStep",
 "maxSpeed",
 "maxStep",
 "maxSubOffset",
 "maxVelocity",
 "melody",
 "mergeAtKey",
 "meta",
 "millis",
 "minAngle",
 "minLifespan",
 "minPriority",
 "minSingleStep",
 "minStep",
 "mkSocket",
 "move",
 "moveSprite",
 "multicommand_class",
 "multiplier",
 "musicClient",
 "name",
 "neighbors",
 "next",
 "nextChar",
 "nextCnt",
 "nextFrame",
 "numPending",
 "numTries",
 "offset",
 "offsetX",
 "offsetY",
 "onAttach",
 "onB",
 "onDetach",
 "onEvent",
 "onLeft",
 "onMessageReceived",
 "onPlayFinished",
 "onRight",
 "onStateChanged",
 "onUpdate",
 "once",
 "onlyHeader",
 "openInfo",
 "options",
 "order",
 "outp",
 "overlapHandlers",
 "overlapMap",
 "overlaps",
 "overlapsWith",
 "ox",
 "oy",
 "pFlags",
 "packed",
 "packet_flags",
 "padding",
 "pageAddr",
 "pageBuffer",
 "pageSize",
 "parent",
 "particleSources",
 "payload",
 "pending",
 "period",
 "physicsEngine",
 "pickRandom",
 "pkt",
 "pkts",
 "play",
 "playLoop",
 "playMelody",
 "player",
 "playerIndex",
 "port",
 "position",
 "positions",
 "preferredDelay",
 "pressureLevel",
 "prevTimeMillis",
 "previous",
 "previousScene",
 "priority",
 "ptr",
 "pulse",
 "queries",
 "query",
 "queryInt",
 "queue",
 "queuePlayInstructions",
 "raiseButtonDown",
 "raiseButtonRepeat",
 "raiseButtonUp",
 "randomRange",
 "read",
 "readLine",
 "readList",
 "readSecret",
 "readSecrets",
 "reason",
 "reg",
 "register",
 "registerFrameCallbacks",
 "registerFrameHandler",
 "registerHandler",
 "registerObstacle",
 "remote",
 "remoteRequestedDevices",
 "remove",
 "removeSprite",
 "render",
 "repeatDelay",
 "repeatInterval",
 "repeatX",
 "repeatY",
 "requiredDeviceName",
 "requires_ack",
 "resend",
 "resizeBuckets",
 "right",
 "row",
 "rowCount",
 "rows",
 "rssi",
 "run",
 "runCallbacks",
 "runEncoded",
 "runProgram",
 "running",
 "runningCallbacks",
 "s",
 "sayBubbleSprite",
 "scale",
 "scan",
 "scanNetworks",
 "scene",
 "sceneDefaultRate",
 "scrollOffset",
 "scrollRow",
 "scrollTarget",
 "seed",
 "select",
 "selectedCard",
 "selection",
 "send",
 "sendAsMultiCommand",
 "sendCommand",
 "sendCommandWithAck",
 "sendCtrlCommand",
 "sendReport",
 "serviceClass",
 "serviceNumber",
 "service_command",
 "service_number",
 "services",
 "sessionId",
 "setAcceleration",
 "setAnchor",
 "setAngle",
 "setBrightness",
 "setDirection",
 "setFactory",
 "setFlag",
 "setFont",
 "setHitbox",
 "setImage",
 "setIterations",
 "setKind",
 "setName",
 "setOffset",
 "setPressed",
 "setPulse",
 "setRate",
 "setRegBuffer",
 "setRegInt",
 "setRelativeToCamera",
 "setSelection",
 "setSpeed",
 "setState",
 "setStreaming",
 "setStrip",
 "setText",
 "setTheme",
 "setTimeout",
 "shakeAmplitude",
 "shakeDuration",
 "shakeStartTime",
 "shortId",
 "shouldBeVisible",
 "show",
 "showAnimation",
 "size",
 "skipWS",
 "socket",
 "socketAvailable",
 "socketClose",
 "socketConnect",
 "socketRead",
 "socketWrite",
 "sockets",
 "source",
 "sourceFactory",
 "sources",
 "speed",
 "spread",
 "sprite",
 "spriteCollisions",
 "spriteNextId",
 "sprites",
 "spritesByKind",
 "src",
 "srcId",
 "ssid",
 "start",
 "startFlash",
 "started",
 "state",
 "stateUpdated",
 "status_code",
 "step",
 "stop",
 "subtext",
 "supressLog",
 "sync",
 "tcpClient",
 "temperature",
 "testFn",
 "text",
 "textAreaHeight",
 "textAreaWidth",
 "textColor",
 "theme",
 "tileIndex",
 "tileMap",
 "tileOverlapHandlers",
 "tileSet",
 "tilemapCollisions",
 "tilemapOverlaps",
 "tileset",
 "timeInSample",
 "timeOut",
 "timeout",
 "timer",
 "times",
 "timestamp",
 "title",
 "toString",
 "top",
 "turnOff",
 "unit",
 "unregister",
 "up",
 "update",
 "updateCard",
 "updateFont",
 "updateParticle",
 "updateQueue",
 "updateSay",
 "updateScrollTarget",
 "usedNames",
 "value",
 "vid",
 "volumeLabel",
 "vx",
 "vy",
 "waitForStatus",
 "wallCollisionHandlers",
 "width",
 "wifiClient",
 "withFrameStripped",
 "write",
 "writeAndClose",
 "writeEx",
 "writeHandler",
 "writeMeta",
 "x",
 "xOffset",
 "xRange",
 "xStep",
 "y",
 "yOffset",
 "yRange",
 "yStep",
 "z"
];
__this.setupPerfCounters([]);
const pxsim_Array__getAt = pxsim.Array_.getAt;
const pxsim_Array__length = pxsim.Array_.length;
const pxsim_Array__mk = pxsim.Array_.mk;
const pxsim_Array__push = pxsim.Array_.push;
const pxsim_Boolean__bang = pxsim.Boolean_.bang;
const pxsim_String__concat = pxsim.String_.concat;
const pxsim_String__stringConv = pxsim.String_.stringConv;
const pxsim_numops_toBool = pxsim.numops.toBool;
const pxsim_numops_toBoolDecr = pxsim.numops.toBoolDecr;
const pxsim_pxtcore_mkAction = pxsim.pxtcore.mkAction;
const pxsim_pxtcore_mkClassInstance = pxsim.pxtcore.mkClassInstance;
const pxsim_pxtrt_ldlocRef = pxsim.pxtrt.ldlocRef;
const pxsim_pxtrt_mapGetByString = pxsim.pxtrt.mapGetByString;
const pxsim_pxtrt_stclo = pxsim.pxtrt.stclo;
const pxsim_pxtrt_stlocRef = pxsim.pxtrt.stlocRef;
const pxsim_Boolean_ = pxsim.Boolean_;
const pxsim_pxtcore = pxsim.pxtcore;
const pxsim_String_ = pxsim.String_;
const pxsim_ImageMethods = pxsim.ImageMethods;
const pxsim_Array_ = pxsim.Array_;
const pxsim_pxtrt = pxsim.pxtrt;
const pxsim_numops = pxsim.numops;


function _main___P57383(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, 0);
    r0 = pxsim_Array__push(s.tmp_0, 49);
    r0 = pxsim_Array__push(s.tmp_0, 49);
    r0 = pxsim_Array__push(s.tmp_0, 41);
    r0 = pxsim_Array__push(s.tmp_0, 90);
    r0 = pxsim_Array__push(s.tmp_0, 27);
    r0 = pxsim_Array__push(s.tmp_0, 117);
    r0 = pxsim_Array__push(s.tmp_0, 10);
    globals.b_m16___34315 = (s.tmp_0);
    globals._intervals___34319 = (undefined);
    globals._pollEventQueue___34328 = (undefined);
    globals.minPriority___29791 = (1);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, inline__P34331);
    globals.listeners___34332 = (s.tmp_0);
    globals.freqs___34381 = (_hex34380);
    globals.globalVolume___34385 = (null);
    globals.playToneID___34392 = (0);
    r0 = pxsim_pxtcore_mkClassInstance(music_Melody__C31059_VT);
    s.tmp_0 = r0;
    s.tmp_1 = music_Melody_constructor__P31062_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = "~15 e3:3 r:1 d#:3 r:1 d:4 r:1 c#:8";
    s.callLocIdx = 0; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    globals.wawawawaa___31076 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(music_Melody__C31059_VT);
    s.tmp_0 = r0;
    s.tmp_1 = music_Melody_constructor__P31062_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = "g5:1 f e d c";
    s.callLocIdx = 1; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    globals.jumpDown___31078 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(music_Melody__C31059_VT);
    s.tmp_0 = r0;
    s.tmp_1 = music_Melody_constructor__P31062_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = "g4:1 c5 e g:2 e:1 g:3";
    s.callLocIdx = 2; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    globals.powerUp___31079 = (s.tmp_0);
    globals.brightness___31185 = (100);
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "charWidth", 6);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "charHeight", 8);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "data", _hex47931);
    globals.font8___31206 = (s.tmp_0);
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "charWidth", 12);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "charHeight", 12);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "data", _hex47664);
    globals.font12___31207 = (s.tmp_0);
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "charWidth", 6);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "charHeight", 5);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "data", _hex48632);
    globals.font5___31211 = (s.tmp_0);
    globals.__updated___34429 = (false);
    r0 = pxsim.control.runInParallel(inline__P34432);
    r0 = pxsim_pxtcore.setPalette(_hex34443);
    r0 = pxsim.image.create(160, 120);
    globals.screen___31263 = (r0);
    s.tmp_0 = control___screen_setupUpdate__P31225_mk(s);
    s.tmp_0.arg0 = inline__P34450;
    s.callLocIdx = 5; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    globals.control_EventContext_onStats___29814 = (inline__P34455);
    globals.RUN_KEY___34460 = ("#run");
    globals.SCOPE_KEY___34461 = ("#scope");
    globals.DEVICE_SECRETS_KEY___34462 = ("#secrets");
    s.tmp_0 = settings_initScopes__P34472_mk(s);
    s.callLocIdx = 6; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkClassInstance(settings_SecretStore__C31299_VT);
    s.tmp_0 = r0;
    s.tmp_1 = settings_SecretStore_constructor__P31300_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = globals.DEVICE_SECRETS_KEY___34462;
    s.callLocIdx = 7; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    globals.deviceSecrets___31306 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C31364_VT);
    s.tmp_0 = r0;
    s.tmp_1 = controller_Button_constructor__P31370_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 5;
    s.tmp_1.arg2 = 4;
    s.callLocIdx = 8; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    globals.A___31338 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C31364_VT);
    s.tmp_0 = r0;
    s.tmp_1 = controller_Button_constructor__P31370_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 6;
    s.tmp_1.arg2 = 5;
    s.callLocIdx = 9; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    globals.B___31339 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C31364_VT);
    s.tmp_0 = r0;
    s.tmp_1 = controller_Button_constructor__P31370_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 1;
    s.tmp_1.arg2 = 47;
    s.callLocIdx = 10; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    globals.left___31340 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C31364_VT);
    s.tmp_0 = r0;
    s.tmp_1 = controller_Button_constructor__P31370_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 2;
    s.tmp_1.arg2 = 49;
    s.callLocIdx = 11; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    globals.up___31341 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C31364_VT);
    s.tmp_0 = r0;
    s.tmp_1 = controller_Button_constructor__P31370_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 3;
    s.tmp_1.arg2 = 48;
    s.callLocIdx = 12; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    globals.right___31342 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C31364_VT);
    s.tmp_0 = r0;
    s.tmp_1 = controller_Button_constructor__P31370_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 4;
    s.tmp_1.arg2 = 50;
    s.callLocIdx = 13; s.pc = 12; return s.tmp_1;
  case 12:
    r0 = s.retval;
    globals.down___31343 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C31364_VT);
    s.tmp_0 = r0;
    s.tmp_1 = controller_Button_constructor__P31370_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 7;
    s.tmp_1.arg2 = 51;
    s.callLocIdx = 14; s.pc = 13; return s.tmp_1;
  case 13:
    r0 = s.retval;
    globals.menu___31344 = (s.tmp_0);
    globals._userEventsEnabled___34499 = (true);
    globals.defaultRepeatDelay___34501 = (500);
    globals.defaultRepeatInterval___34503 = (30);
    r0 = pxsim_pxtcore_mkClassInstance(controller_AnyButton__C34509_VT);
    s.tmp_0 = r0;
    s.tmp_1 = controller_Button_constructor__P31370_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 0;
    s.tmp_1.arg2 = -1;
    s.callLocIdx = 15; s.pc = 14; return s.tmp_1;
  case 14:
    r0 = s.retval;
    globals.anyButton___31418 = (s.tmp_0);
    s.tmp_0 = SpriteKind_create__P31588_mk(s);
    s.callLocIdx = 16; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    globals.Player___31589 = (r0);
    s.tmp_0 = SpriteKind_create__P31588_mk(s);
    s.callLocIdx = 17; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    globals.Food___31591 = (r0);
    s.tmp_0 = SpriteKind_create__P31588_mk(s);
    s.callLocIdx = 18; s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
    globals.Enemy___31592 = (r0);
    r0 = (100 * 256);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 | 0);
    globals.MAX_TIME_STEP___31629 = (r0);
    r0 = (0.1 * 256);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 | 0);
    globals.MIN_MOVE_GAP___31631 = (r0);
    globals.infoState___34552 = (undefined);
    s.tmp_0 = game_addScenePushHandler__P32007_mk(s);
    s.tmp_0.arg0 = inline__P34556;
    s.callLocIdx = 21; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    s.tmp_0 = game_addScenePopHandler__P32009_mk(s);
    s.tmp_0.arg0 = inline__P34571;
    s.callLocIdx = 25; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    globals.scene_Scene_initializers___31897 = (r0);
    globals.debug___31986 = (false);
    globals.stats___31987 = (false);
    globals.winEffect___31988 = (undefined);
    globals.loseEffect___31989 = (undefined);
    globals.loseSound___34667 = (undefined);
    globals.winSound___34669 = (undefined);
    s.tmp_0 = scene_systemMenu_initVolume__P34936_mk(s);
    s.callLocIdx = 26; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
    s.tmp_0 = scene_systemMenu_initScreen__P34937_mk(s);
    s.callLocIdx = 27; s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    r0 = pxsim_Array__push(globals.scene_Scene_initializers___31897, scene_systemMenu_register__P32091);
    r0 = pxsim.image.ofBuffer(_hex34944);
    globals.CARD_NORMAL___32096 = (r0);
    r0 = pxsim.image.ofBuffer(_hex34946);
    globals.CARD_SELECTED___32097 = (r0);
    r0 = pxsim.image.ofBuffer(_hex34948);
    globals.CARD_ACTIVE___32098 = (r0);
    r0 = pxsim.image.ofBuffer(_hex34950);
    globals.VOLUME_UP_ICON___32099 = (r0);
    r0 = pxsim.image.ofBuffer(_hex34952);
    globals.BRIGHTNESS_DOWN_ICON___32100 = (r0);
    r0 = pxsim.image.ofBuffer(_hex34954);
    globals.CLOSE_MENU_ICON___32101 = (r0);
    r0 = pxsim.image.ofBuffer(_hex34956);
    globals.VOLUME_DOWN_ICON___32102 = (r0);
    r0 = pxsim.image.ofBuffer(_hex34958);
    globals.SLEEP_ICON___32103 = (r0);
    r0 = pxsim.image.ofBuffer(_hex34960);
    globals.CONSOLE_ICON___32104 = (r0);
    r0 = pxsim.image.ofBuffer(_hex34962);
    globals.BRIGHTNESS_UP_ICON___32105 = (r0);
    r0 = pxsim.image.ofBuffer(_hex34964);
    globals.STATS_ICON___32106 = (r0);
    globals.consoleColor___34967 = (1);
    globals.tabSize___34970 = (8);
    globals.consoleFont___34976 = (globals.font5___31211);
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.tmp_2 = r0;
    s.tmp_5 = if_charHeight_1_mk(s);
    s.tmp_5.arg0 = globals.consoleFont___34976;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "charHeight");
    } else {
      s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["charHeight"];
      if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["charHeight"]; }
      else if (!s.tmp_5.fn.isGetter) { s.retval = bind(s.tmp_5); }
     else { s.callLocIdx = 28; s.pc = 22; return s.tmp_5; }
    }
  case 22:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 2);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 / s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.floor(s.tmp_1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - 1);
    globals.consoleLines___34981 = (r0);
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 8);
    s.tmp_1 = r0;
    s.tmp_4 = if_charWidth_1_mk(s);
    s.tmp_4.arg0 = globals.consoleFont___34976;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "charWidth");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["charWidth"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["charWidth"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 29; s.pc = 23; return s.tmp_4; }
    }
  case 23:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_1 / s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim.Math_.floor(s.tmp_0);
    globals.consoleColumns___34991 = (r0);
    s.tmp_0 = console_addListener__P29799_mk(s);
    s.tmp_0.arg0 = game_consoleOverlay_listener__P35003;
    s.callLocIdx = 30; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = inline__P35007;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 32; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    globals.MAX_SOURCES___35005 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(particles_SprayFactory__C32176_VT);
    s.tmp_0 = r0;
    s.tmp_1 = particles_SprayFactory_constructor__P32177_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 20;
    s.tmp_1.arg2 = 0;
    s.tmp_1.arg3 = 60;
    s.callLocIdx = 33; s.pc = 26; return s.tmp_1;
  case 26:
    r0 = s.retval;
    globals.defaultFactory___32156 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(Math_FastRandom__C32044_VT);
    s.tmp_0 = r0;
    s.tmp_1 = Math_FastRandom_constructor__P32046_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = undefined;
    s.callLocIdx = 34; s.pc = 27; return s.tmp_1;
  case 27:
    r0 = s.retval;
    globals.galois___35040 = (s.tmp_0);
    globals.angleSlice___35048 = (0.06283185307179587);
    r0 = pxsim_pxtcore_mkClassInstance(effects_ScreenEffect__C32251_VT);
    s.tmp_0 = r0;
    s.tmp_1 = effects_ScreenEffect_constructor__P32252_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 10;
    s.tmp_1.arg2 = 40;
    s.tmp_1.arg3 = 4000;
    s.tmp_1.arg4 = inline__P44966;
    s.callLocIdx = 40; s.pc = 28; return s.tmp_1;
  case 28:
    r0 = s.retval;
    globals.confetti___32259 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(effects_ImageEffect__C32274_VT);
    s.tmp_0 = r0;
    s.tmp_1 = effects_ImageEffect_constructor__P32275_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 100;
    s.tmp_1.arg2 = inline__P49293;
    s.callLocIdx = 46; s.pc = 29; return s.tmp_1;
  case 29:
    r0 = s.retval;
    globals.dissolve___32279 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(effects_ImageEffect__C32274_VT);
    s.tmp_0 = r0;
    s.tmp_1 = effects_ImageEffect_constructor__P32275_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 125;
    s.tmp_1.arg2 = inline__P44858;
    s.callLocIdx = 49; s.pc = 30; return s.tmp_1;
  case 30:
    r0 = s.retval;
    globals.melt___32280 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(texteffects_TextEffect__C32289_VT);
    s.tmp_0 = r0;
    s.tmp_1 = texteffects_TextEffect_constructor__P32291_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = inline__P35099;
    s.callLocIdx = 50; s.pc = 31; return s.tmp_1;
  case 31:
    r0 = s.retval;
    globals.shake___32292 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(texteffects_TextEffect__C32289_VT);
    s.tmp_0 = r0;
    s.tmp_1 = texteffects_TextEffect_constructor__P32291_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = inline__P35112;
    s.callLocIdx = 60; s.pc = 32; return s.tmp_1;
  case 32:
    r0 = s.retval;
    globals.wave___32293 = (s.tmp_0);
    r0 = pxsim_Array__push(globals.scene_Scene_initializers___31897, controller_initController__P35185);
    r0 = pxsim_Array__push(globals.scene_Scene_initializers___31897, controller___internal_initVibration__P35197);
    s.tmp_0 = game_setWaitAnyButton__P31991_mk(s);
    s.tmp_0.arg0 = controller_pauseUntilAnyButtonIsPressed__P31414;
    s.callLocIdx = 61; s.pc = 33; return s.tmp_0;
  case 33:
    r0 = s.retval;
    s.tmp_0 = game_eventContext__P31993_mk(s);
    s.callLocIdx = 62; s.pc = 34; return s.tmp_0;
  case 34:
    r0 = s.retval;
    globals.consolePriority___33395 = (0);
    globals.devNameSettingPrefix___33505 = ("#jddev:");
    r0 = pxsim_Array__mk();
    globals.devices____36409 = (r0);
    r0 = pxsim_Array__mk();
    globals.announceCallbacks___36410 = (r0);
    globals.onIdentifyRequest___33572 = (inline__P36425);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_ConsoleHost__C33640_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_ConsoleHost_constructor__P33642_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 65; s.pc = 35; return s.tmp_1;
  case 35:
    r0 = s.retval;
    globals.consoleHost___33649 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_AccelerometerClient__C33798_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_AccelerometerClient_constructor__P33799_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = null;
    s.callLocIdx = 66; s.pc = 36; return s.tmp_1;
  case 36:
    r0 = s.retval;
    globals.accelerometerClient___33807 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_LightClient__C33849_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_LightClient_constructor__P33850_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = null;
    s.callLocIdx = 67; s.pc = 37; return s.tmp_1;
  case 37:
    r0 = s.retval;
    globals.lightClient___33888 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_ServoClient__C33987_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_ServoClient_constructor__P33988_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = null;
    s.callLocIdx = 68; s.pc = 38; return s.tmp_1;
  case 38:
    r0 = s.retval;
    globals.servoClient___33994 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_MotorClient__C33996_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_MotorClient_constructor__P33997_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = null;
    s.callLocIdx = 69; s.pc = 39; return s.tmp_1;
  case 39:
    r0 = s.retval;
    globals.motorClient___34000 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_RotaryEncoderClient__C34032_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_RotaryEncoderClient_constructor__P34033_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = null;
    s.callLocIdx = 70; s.pc = 40; return s.tmp_1;
  case 40:
    r0 = s.retval;
    globals.rotaryEncoderClient___34038 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_MusicClient__C34045_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_MusicClient_constructor__P34046_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = null;
    s.callLocIdx = 71; s.pc = 41; return s.tmp_1;
  case 41:
    r0 = s.retval;
    globals.musicClient___34049 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(net_Net__C34167_VT);
    s.tmp_0 = r0;
    s.tmp_1 = net_Net_constructor__P34168_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = inline__P36607;
    s.callLocIdx = 73; s.pc = 42; return s.tmp_1;
  case 42:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_MonoLightAnimation__C34090_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_MonoLightAnimation_constructor__P34091_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = _hex43526;
    s.callLocIdx = 74; s.pc = 43; return s.tmp_1;
  case 43:
    r0 = s.retval;
    globals.slowGlow___34093 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_MonoLightClient__C34096_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_MonoLightClient_constructor__P34097_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = null;
    s.callLocIdx = 75; s.pc = 44; return s.tmp_1;
  case 44:
    r0 = s.retval;
    globals.monoLightClient___34101 = (s.tmp_0);
    globals.logPriority___34147 = (-1);
    globals.AP_SECRETS_KEY___36624 = ("wifi");
    r0 = pxsim_pxtcore_mkClassInstance(ServiceDesc__C34250_VT);
    s.tmp_0 = r0;
    s.tmp_1 = ServiceDesc_constructor__P34251_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 521405449;
    s.tmp_1.arg2 = "acc";
    s.tmp_1.arg3 = inline__P37006;
    s.callLocIdx = 146; s.pc = 45; return s.tmp_1;
  case 45:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(ServiceDesc__C34250_VT);
    s.tmp_3 = r0;
    s.tmp_4 = ServiceDesc_constructor__P34251_mk(s);
    s.tmp_4.arg0 = s.tmp_3;
    s.tmp_4.arg1 = 309264608;
    s.tmp_4.arg2 = "light";
    s.tmp_4.arg3 = inline__P37015;
    s.callLocIdx = 164; s.pc = 46; return s.tmp_4;
  case 46:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_3);
    r0 = pxsim_pxtcore_mkClassInstance(ServiceDesc__C34250_VT);
    s.tmp_5 = r0;
    s.tmp_6 = ServiceDesc_constructor__P34251_mk(s);
    s.tmp_6.arg0 = s.tmp_5;
    s.tmp_6.arg1 = 318542083;
    s.tmp_6.arg2 = "servo";
    s.tmp_6.arg3 = inline__P37072;
    s.callLocIdx = 167; s.pc = 47; return s.tmp_6;
  case 47:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_5);
    r0 = pxsim_pxtcore_mkClassInstance(ServiceDesc__C34250_VT);
    s.tmp_7 = r0;
    s.tmp_8 = ServiceDesc_constructor__P34251_mk(s);
    s.tmp_8.arg0 = s.tmp_7;
    s.tmp_8.arg1 = 385895640;
    s.tmp_8.arg2 = "motor";
    s.tmp_8.arg3 = inline__P37087;
    s.callLocIdx = 169; s.pc = 48; return s.tmp_8;
  case 48:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_7);
    r0 = pxsim_pxtcore_mkClassInstance(ServiceDesc__C34250_VT);
    s.tmp_9 = r0;
    s.tmp_10 = ServiceDesc_constructor__P34251_mk(s);
    s.tmp_10.arg0 = s.tmp_9;
    s.tmp_10.arg1 = 531985491;
    s.tmp_10.arg2 = "glo";
    s.tmp_10.arg3 = inline__P37100;
    s.callLocIdx = 173; s.pc = 49; return s.tmp_10;
  case 49:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_9);
    r0 = pxsim_pxtcore_mkClassInstance(ServiceDesc__C34250_VT);
    s.tmp_11 = r0;
    s.tmp_12 = ServiceDesc_constructor__P34251_mk(s);
    s.tmp_12.arg0 = s.tmp_11;
    s.tmp_12.arg1 = 316415946;
    s.tmp_12.arg2 = "logger";
    s.tmp_12.arg3 = undefined;
    s.callLocIdx = 174; s.pc = 50; return s.tmp_12;
  case 50:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_11);
    r0 = pxsim_pxtcore_mkClassInstance(ServiceDesc__C34250_VT);
    s.tmp_13 = r0;
    s.tmp_14 = ServiceDesc_constructor__P34251_mk(s);
    s.tmp_14.arg0 = s.tmp_13;
    s.tmp_14.arg1 = 284830153;
    s.tmp_14.arg2 = "crank";
    s.tmp_14.arg3 = inline__P37118;
    s.callLocIdx = 176; s.pc = 51; return s.tmp_14;
  case 51:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_13);
    r0 = pxsim_pxtcore_mkClassInstance(ServiceDesc__C34250_VT);
    s.tmp_15 = r0;
    s.tmp_16 = ServiceDesc_constructor__P34251_mk(s);
    s.tmp_16.arg0 = s.tmp_15;
    s.tmp_16.arg1 = 343122531;
    s.tmp_16.arg2 = "btn";
    s.tmp_16.arg3 = inline__P37127;
    s.callLocIdx = 178; s.pc = 52; return s.tmp_16;
  case 52:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_15);
    r0 = pxsim_pxtcore_mkClassInstance(ServiceDesc__C34250_VT);
    s.tmp_17 = r0;
    s.tmp_18 = ServiceDesc_constructor__P34251_mk(s);
    s.tmp_18.arg0 = s.tmp_17;
    s.tmp_18.arg1 = 458731991;
    s.tmp_18.arg2 = "music";
    s.tmp_18.arg3 = inline__P37136;
    s.callLocIdx = 180; s.pc = 53; return s.tmp_18;
  case 53:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_17);
    globals.serviceDescs___34252 = (s.tmp_2);
    globals.testDevN___34257 = (0);
    globals.skippingFamilyId___38070 = (-1);
    s.tmp_0 = initUF2__P34249_mk(s);
    s.callLocIdx = 406; s.pc = 54; return s.tmp_0;
  case 54:
    r0 = s.retval;
    s.tmp_0 = control_runInBackground__P29706_mk(s);
    s.tmp_0.arg0 = main__P34248;
    s.callLocIdx = 407; s.pc = 55; return s.tmp_0;
  case 55:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
_main___P57383.info = {"start":0,"length":0,"line":0,"column":0,"endLine":0,"endColumn":0,"fileName":"main.ts","functionName":"<main>","argumentNames":[]}
_main___P57383.continuations = [  ]

function _main___P57383_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: _main___P57383, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
} }

const _hex34380 = pxsim.BufferMethods.createBufferFromHex("1f00210023002500270029002c002e003100340037003a003e004100450049004e00520057005c00620068006e0075007b0083008b0093009c00a500af00b900c400d000dc00e900f70006011501260137014a015d01720188019f01b801d201ee010b022a024b026e029302ba02e40210033f037003a403dc03170455049704dd0427057505c80520067d06e0064907b8072d08a9082d09b9094d0aea0a900b400cfa0cc00d910e6f0f5a1053115b1272139a14d41520178018f519801b231dde1e")
const _hex47931 = pxsim.BufferMethods.createBufferFromHex("2000000000000000210000005e0000002200000e000e0000230028fe28fe280024004c92ff926400250002651248a64026006c92926ca000270000000e000000280000007c82000029000000827c00002a005438103854002b0010107c1010002c000000907000002d001010101010002e000000606000002f000060100806003000003c42423c00310000447e4000003200004462524c00330000424a4e320034003028247e20003500004e4a4a32003600003c4a4a30003700000262120e00380000344a4a34003900000c52523c003a0000006c6c00003b000000967600003c001028284444003d002828282828003e004444282810003f0000025909060040003c425a560800410078141214780042007e4a4a4a34004300003c424224004400007e42423c004500007e4a4a42004600007e0a0a02004700003c425234004800007e08087e00490000427e4200004a002040423e02004b00007e081462004c00007e404040004d007e0418047e004e00007e04087e004f003c4242423c005000007e12120c005100003c5262bc005200007e12126c00530000244a522400540002027e0202005500003e40403e005600001e70701e0057007e2018207e00580042241824420059000608700806005a000062524a46005b00007e424200005c000006081060005d000042427e00005e000804020408005f00808080808000600000000204000061000030484878006200007e4848300063000030484848006400003048487e006500003068585000660000107c12040067000018a4a478006800007e08087000690000487a4000006a000040847d00006b00007e102840006c0000427e4000006d007808300870006e000078080870006f00003048483000700000fc24241800710000182424fc0072000078100810007300005058682800740000083e48200075000038404078007600001860601800770038403040380078000048303048007900005ca0a07c007a000048685848007b000008364100007c000000fe0000007d000041360800007e00000804080400a000000000000000a10000007a000000a200003048fc4800a30090fc92928400a400542844285400a5002a2c782c2a00a6000000ee000000a7000094aaaa5200a800000200020000a9003e414955413eaa0000242a2e0000ab00102854284400ac00001010107000ad00001010101000ae003e415d45413eaf00000202020200b000000814140800b1008888be888800b2000024322c0000b30000222a140000b400000004020000b50000f840207800b6000c1e7e027e00b700000010000000b800000080400000b90000243e200000ba0000242a240000bb00442854281000bc00025f70f84000bd00021f90c8b000be0011557af84000bf000030484d2000c000601916186000c100601816196000c200601a151a6000c300601a151a6100c400601914196000c500601a151a6000c6007c0a7e4a4200c700001ea1611200c800007c55564400c900007c56554400ca00007c56554600cb00007c55544500cc0000457e440000cd0000447e450000ce0000467d460000cf0000457c450000d000087e4a423c00d100007e09127d00d200003845463800d300003846453800d400003846453a00d500003a45463900d600003845443900d700442810284400d80000fc724e3f00d900003c41423c00da00003c42413c00db00003c42413e00dc00003c41403d00dd00040872090400de00007e24241800df00007c025a2400e0000030494a7800e10000304a497800e20000304a497a00e3000032494a7900e40000304a487a00e50000304a4d7a00e600304878685000e7000018a4642400e8000030695a5000e90000306a595000ea0000306a595200eb0000306a585200ec0000497a400000ed0000487a410000ee00004a79420000ef00004a78420000f00000304a4b3d00f100007a090a7100f2000030494a3000f30000304a493000f40000304a493200f5000032494a3100f60000304a483200f700101054101000f800007068583800f900003841427800fa00003842417800fb00003842417a00fc00003842407a00fd0000b84241f800fe0000ff24241800ff00005ca1a07d000001601915196000010100304a4a7a000201611a16196000030100314a4a790004013c0a094abc00050100182464bc000601003846452800070100304a4948000801003846452a00090100304a494a000a010038444528000b010030484a48000c010038454629000d010030494a49000e01007c454639000f0100314a497e001001087e4a423c00110130484c7e04001201007d55554500130100326a5a52001401007d56564500150100316a5a51001601007c55544400170100306a5850001801003f65a521001901001874ac28001a01007c555645001b010030695a51001c010038465536001d0100304a49f2001e010039465635001f0100314a4af100200100384455340021010018a4a578002201001ea1691a0023010018a6a578002401007812117a0025017e080a7102002601047e147e04002701047e0c08700028010002457e450029010002497a41002a0100457d4500002b01004a7a4200002c0100014a7a49002d0100014a7a41002e0100217fa100002f0100247da00000300100447d440000310100487840000032017e0022423e0033013d0040847d0034012040463d0600350100800af90200360100bf440a3100370100bf4814200038010078102848003901007c404241003a0100467d4000003b01003fa06020003c0100a17f2000003d01007c414241003e0100457e4100003f01007e40484000400100427e4008004101107e48404000420100527e4800004301007c0a117c00440100780a097000450100bf42043f00460100bc440438004701007c09127d00480100790a09700049010a06780870004a01003f02847f004b01003c048478004c013945454539004d0100324a4a32004e013946464639004f0100314a4a310050013a4544463900510132494832010052013c427e4a420053013048306850005401007c163548005501007812091000560100bf49093600570100bc480408005801007d1635480059010079120910005a010048565524005b0100505a6928005c010048565526005d0100505a692a005e010012a56912005f010028ac741400600100485556250061010050596a290062010101bf410100630100049f641000640104057e050400650100083d4a2100660102127e120200670100183e5820006801003a414239006901003a414279006a01003d41413d006b01003a42427a006c010039424239006d010039424279006e01003a45453a006f01003a45457a0070013a41403a010071013a41407a01007201001f60a01f007301001c60a03c00740178221122780075013842314238007601081261120800770100b84241fa00780104097009040079010064564d44007a0100486a5948007b010064544d44007c010048685a48007d010064554e45007e010048695a49007f0100087c0204008f01003452523c00920100887e090200a0013c42423c0806a101003048483008af01003e403e0806b001003840781008b501006a5a4a4e00b601005878585800d101003845463900d2010030494a3100e601003845563500e7010030494af100fa0100742a750000fb0100304c4a7d00fc0178147e554400fd0130487a695000fe010078744e3d00ff0100706a59380018020012a569120019020028ac7414001a020101bf4101001b0200049f641000bb0200000c0a0000bc0200000a060000bd020000060a0000c602000201020000c702000102010000c902000202020000d802000102020100d902000002000000da02000205020000db02000040800000dc02000201020100dd02020100020100740300000201000075030000804000007a030000c08000007e03000096760000840300000300000085030200030002008603037c12127c008703000010000000880303007e4a4200890303007e087e008a030300427e42008c03033c42423c008e0303000e700e008f03035c62625c00900302003b400200910378141214780092037e4a4a4a34009303007e0202020094036058465860009503007e4a4a420096030062524a46009703007e08087e0098033c4a4a4a3c00990300427e4200009a03007e081462009b036018061860009c037e0418047e009d03007e04087e009e0300424a4a42009f033c4242423c00a003007e02027e00a103007e12120c00a30300665a424200a40302027e020200a503060870080600a60318247e241800a703422418244200a8030e107e100e00a9035c6202625c00aa0300457c450000ab03040970090400ac030030484a7900ad030030685a5100ae0378100a09f000af03003a41200000b0033a4043403a00b103003048487800b20300fe25251a00b3030c30c0300c00b403344a4a4a3000b503003068585000b603021aa6a24200b7033c080404f800b803003c4a4a3c00b903003840200000ba03007820504800bb03641212227c00bc03fc2020103c00bd03182040201800be03112d2ba94100bf03003048483000c003087808780800c103f82424241800c2031824a4a44800c303304848582800c403000838482800c503384040403800c6031c20f8241800c703c4281028c400c8031c20fc201c00c903304820483000ca03000238422000cb03384240423800cc0330484a493000cd03384042413800ce03304822493000d0033c52525c2000d10310344a3c0800d203067804020400d303120a7c020400d4030d7009040800d5031824ff241800d603384828483800d70348302221d800da031c2221a14200db031824a4a44200dc037e1212020200dd0300fc24240400de033e2010087c00df030c0ac9281800e003700c621c7000e10301092516f800e2039ea0bea07e00e30398a0b8a07800e4030c1214107e00e503001028207800e603be9088887000e70348544e443800e803245252524c00e903285454544800ea0364524c526400eb03086458640800ec03385454542200ed03306848682400ee03184a7e4a1800ef031848ff0a0800f003483020205800f10378a4a4a49800f203304848485000f303006080847d00f4033c4a4a4a3c00f5030030585848000004007c555644000104007c55544500020401013f8579000304007c0605040004043c4a4a422400050400244a522400060400427e420000070400457c45000008042040423e020009047c027e4830000a047e087e4830000b0402027e0a72000c04007c102a45000d047c2112087c000e040c5152523d000f043f20e0203f00100478141214780011047e4a4a4a300012047e4a4a4a34001304007e020202001404c07c427ec0001504007e4a4a4200160476087e087600170424424a4a34001804007e08047e001904007d120a7d001a04007e081462001b04403c02027e001c047e0418047e001d04007e08087e001e043c4242423c001f047e0202027e002004007e12120c002104003c42422400220402027e02020023040e5050503e00240418247e241800250442241824420026043f2020bf600027040e1010107e0028047e407e407e0029043f203fa07f002a04027e484830002b047e4848307e002c04007e484830002d0424424a4a3c002e047e183c423c002f04006c12127e0030043048487840003104003c4a4a3100320400786850200033040078080808003404c0704878c000350430686850000036044830783048003704004058683000380478402010780039047942221279003a040078203048003b044030080878003c047810201078003d047810101078003e043048484830003f047808080878004004fc24242418004104304848485000420408087808080043041ca0a0a07c0044041824ff241800450400483030480046043c2020bc60004704182020207800480478407840780049043c203ca07c004a040878505020004b047850502078004c040078505020004d044858683000004e047830304830004f0450282878000050040030696a500051040032686a50005204023f0a887000530400780a09080054040030685848005504005058682800560400487a4000005704004a784200005804004080847d0059047008785020005a047810785020005b04047e141060005c040078223148005d047841221078005e0418a1a2a279005f043c20e0203c006204027f4a4830006304087e5850200070040e107e100e00710418207820180072043c4a4a4a3c0073043068586830007404001e70180c0075040018603010009004007e020203009104007808080c009204087e0a0a0200930420782808080096043b043f043be0970424183c1824c09a04003f040a31c09b04003c101824c0ae04060870080600af040c10e0100c00b004161870181600b1042c30e0302c00b20421120c1221c0b3040024181824c0ba047e0808087000bb04007e08087000d804003452523c00d904002868583000e20400457d450000e304004a7a420000e8043c4a4a4a3c00e904003058583000ee04003d41413d00ef04003a42427a00d005681020285000d105484848784000d205004830600000d305080808780800d405680808087800d505000008780000d605080818680800d705087808087800d805784050487800d905000008180000da0504040404fc00db05484848483800dc050e4848281800dd05087848487800de05582010487000df05000004fc0000e005004040487800e105000878483800e205487840281800e305041c0404fc00e405485848483800e50504f820140800e605485060685000e705f40424241c00e805080808087000e905785058403800ea05487808087800f005087800087800f105081800087800f205081800081800f305000010080000f405100800100800021e7c5455542800031e007e484930000a1e007c454438000b1e003049487e001e1e007c151404001f1e001079140800401e7e0419047e00411e780832087000561e007c15140800571e00fc25241800601e004854552400611e0050586a28006a1e04047d0404006b1e00083d482000801e7c2112207c00811e384132403800821e7c2012217c00831e384032413800841e7c2110217c00851e384230423800f21e040972080400f31e00b84142f800a3207e0a7a120a00a420a8fcaa828400a720087e2a1c0800ab200098a4a6bf02ac20183c5a5a4200af20627f224438009021103854101000912108047e0408009221101054381000932110207e201000942110381010381095212844fe442800")
const _hex47664 = pxsim.BufferMethods.createBufferFromHex("20000000000000000000000000000000000000000000000000002100000000000006fc0000000000000000000000000000000000220000001c00000000001c0000000000000000000000000000002300a000f807a000f807a00000000000000000000000000000002400000018022404460c8803000000000000000000000000000025003802c4017800200390040803000000000000000000000000260080037804a4041803800340040000000000000000000000002700000000001c00000000000000000000000000000000000000280000000000f8010606010800000000000000000000000000002900000001080606f801000000000000000000000000000000002a00040014000e001400040000000000000000000000000000002b0040004000f8034000400000000000000000000000000000002c000000000000090006000000000000000000000000000000002d000000800080008000000000000000000000000000000000002e000000000000060000000000000000000000000000000000002f00000c800360001c000300000000000000000000000000000030000000f80304040404f80300000000000000000000000000003100000004040404fc07000400040000000000000000000000003200000008060405c4043804000000000000000000000000000033000000080244044404b803000000000000000000000000000034000000800170010801fc070001000000000000000000000000350000023c0424042404c403000000000000000000000000000036000000f0034804440488030000000000000000000000000000370000000400c40734000c00000000000000000000000000000038000000b80344044404b803000000000000000000000000000039000000780284048802f00100000000000000000000000000003a000000000030060000000000000000000000000000000000003b000000000018090006000000000000000000000000000000003c004000a000a000a000100100000000000000000000000000003d002001200120012001200100000000000000000000000000003e0000001001a000a000a00040000000000000000000000000003f000000080084066400180000000000000000000000000000004000f0030c04c20822092409f80900000000000000000000000041000007f8008400f8000007000000000000000000000000000042000000fc0744044404b803000000000000000000000000000043000000f001080204040404080200000000000000000000000044000000fc0704040802f001000000000000000000000000000045000000fc07440444044404000000000000000000000000000046000000fc07440044004400000000000000000000000000000047000000f00108024404c803000000000000000000000000000048000000fc0740004000fc070000000000000000000000000000490000000404fc070404040400000000000000000000000000004a000000000200040004fc0300000000000000000000000000004b000000fc074000f0000c0304040000000000000000000000004c000000fc0700040004000400000000000000000000000000004d000000fc0738007000fc0700000000000000000000000000004e000000fc073800c003fc0700000000000000000000000000004f000000f80304040404f803000000000000000000000000000050000000fc07840084004400780000000000000000000000000051000000fc0102020206fc09000000000000000000000000000052000000fc074400c4013806000000000000000000000000000053000000180224044404880300000000000000000000000000005400000004000400fc070400040000000000000000000000000055000000fc0300040004fc03000000000000000000000000000056000c00f0030004f0030c00000000000000000000000000000057007c008007e001f0010007fc0000000000000000000000000058000404b8034000b80304040000000000000000000000000000590004003800c00730000c0000000000000000000000000000005a0004040407e4041c04040400000000000000000000000000005b0000000000ff0f0108010800000000000000000000000000005c0003001c0060008003000c00000000000000000000000000005d00000001080108ff0f000000000000000000000000000000005e004000380004003800400000000000000000000000000000005f00000800080008000800080000000000000000000000000000600000000000020004000000000000000000000000000000000061000000200390049004e007000000000000000000000000000062000000fc0710041004e003000000000000000000000000000063000000c001200210043004000200000000000000000000000064000000e00310041004fc07000000000000000000000000000065000000e00390049004e0040000000000000000000000000000660000001000f80714001400000000000000000000000000000067000000b806440944093c09040600000000000000000000000068000000fc0710001000e0070000000000000000000000000000690000000000f4070000000000000000000000000000000000006a00000800080008fd07000000000000000000000000000000006b000000fe078000e001100610040000000000000000000000006c0000000000fc030004000400000000000000000000000000006d00f00710001000e0071000e0070000000000000000000000006e000000f00710001000e00700000000000000000000000000006f000000e00310041004e003000000000000000000000000000070000000fc0f04010401f800000000000000000000000000000071000000f80004010401fc0f000000000000000000000000000072000000f00720001000100000000000000000000000000000007300000060029004900420030000000000000000000000000000740000001000fc0310041004000000000000000000000000000075000000f00300040004f007000000000000000000000000000076003000c0030004c003300000000000000000000000000000007700f0000007e003c0010007f000000000000000000000000000780010046003800060031004000000000000000000000000000079000c0870088007f0000c0000000000000000000000000000007a000000000410079004700410040000000000000000000000007b0000004000be070108010800000000000000000000000000007c0000000000ff0f0000000000000000000000000000000000007d00000001080108be07400000000000000000000000000000007e00800040004000800080004000000000000000000000000000")
const _hex48632 = pxsim.BufferMethods.createBufferFromHex("20000000000000002100001700000000220000030003000023000a1f0a1f0a0024000a17151d0a00250013090412190026000a15150a100027000003000000002800000e11000000290000110e0000002a00000a040a00002b0000040e0400002c000010080000002d000004040400002e000008000000002f0010080402010030000e11110e0000310000121f100000320019151512000033000911150b000034000c0a091f080035001715151509003600081416150800370011090503010038000a1515150a00390002150d0502003a00000a000000003b0000100a0000003c0000040a1100003d00000a0a0a00003e0000110a0400003f0002011505020040000e1115090e0041001e05051e000042001f15150a000043000e111111000044001f11110e000045001f151511000046001f050501000047000e1111150c0048001f04041f00004900111f110000004a000911110f01004b001f040a1100004c001f10101000004d001f0204021f004e001f0204081f004f000e11110e000050001f0505020000510006091916000052001f05050a10005300121515090000540001011f01010055000f10100f0000560007081008070057001f0804081f0058001b04041b0000590001021c0201005a001915131100005b00001f111100005c000102040810005d000011111f00005e000002010200005f00101010101000600000010200000061000c12121e100062001f141408000063000c121212000064000814141f000065000e15151200006600041e0501000067000215150f000068001f04041800006900001d000000006a000010100d00006b001f040a1000006c00000f101000006d001e0204021e006e001e02021c00006f000c12120c000070001e0a0a0400007100040a0a1e000072001c0202020000730010140a0200007400000f1414100075000e10101e1000760006081008060077001e1008101e007800120c0c12000079001214080402007a00121a161200007b0000041f1100007c00001f000000007d00111f040000007e00000404080800d3000c1213130c00f3000c12130d000004010e05051e100005010609191f080006010c121313120007010c121313000018010f0b1b19000019010e151d1a000041011f14121000004201100f1412000043011f0205081f0044011e03031c00005a0110140b0302005b0110140b0300007901121a171300007a01121a171300007b01121b171200007c01121b17120000")
const _hex34443 = pxsim.BufferMethods.createBufferFromHex("000000ffffffff2121ff93c4ff8135fff609249ca378dc52003fad87f2ff8e2ec4a4839f5c406ce5cdc491463d000000")
const _hex34944 = pxsim.BufferMethods.createBufferFromHex("8704240024000000001111111111111111111111111111111100000010313333333333333333333333333333130100001113111111111111111111111111111131110000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000311111111111111111111111111111111113000031111111111111111111111111111111111300003111111111111111111111111111111111130000111311111111111111111111111111113111000010313333333333333333333333333333130100000011111111111111111111111111111111000000")
const _hex34946 = pxsim.BufferMethods.createBufferFromHex("8704240024000000002222222222222222222222222222222200000020323333333333333333333333333333230200002223222222222222222222222222222232220000322211111111111111111111111111112223000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003212111111111111111111111111111121230000321211111111111111111111111111112123000032121111111111111111111111111111212300003222111111111111111111111111111122230000222322222222222222222222222222223222000020323333333333333333333333333333230200000022222222222222222222222222222222000000")
const _hex34948 = pxsim.BufferMethods.createBufferFromHex("8704240024000000004444444444444444444444444444444400000040343333333333333333333333333333430400004443444444444444444444444444444434440000344411111111111111111111111111114443000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003414111111111111111111111111111141430000341411111111111111111111111111114143000034141111111111111111111111111111414300003444111111111111111111111111111144430000444344444444444444444444444444443444000040343333333333333333333333333333430400000044444444444444444444444444444444000000")
const _hex34950 = pxsim.BufferMethods.createBufferFromHex("870420002000000000000000000000000000000000000000000000000000c0fcff0f000000000000000000000000bcddddfb000000000000000000000000dcbbbbfd000000000000000000000000ccbbbbfc0000000000000000000000c0bcd1bdfb0f00000000000000000000c01b11ddbb0f00000000000000000000c0bcbbbbcb0f00000000000000000000bc11d1ddddcb000000000000000000c01d11ddddddd10c0000000000000000bcd1cbbcfbcf1dcb00000000000000001ccdccddbdffdfc100000000000000001cccccdbcbffcfc10000000000000000dbcbccccfcffbfcd0000000000000000bbbdccccffcfdbbb0000000000000000b0dbbdbbbbdbbd0b000000000000000000b0cbccccbc0b000000000000000000000000000000000000000000000000000000d007700d00000000000000000000000070666607000000000000000000000000006776000000000000000000000000660700007066000000000000000000006766777766760000000000000000000060666666660600000000000000000066006766667600660000000000000000667600000000676600000000000000006766767777676676000000000000000060666666666666060000000000000000006766666666760000000000000000000000676666760000000000000000000000000000000000000000000000000000000000000000000000000000")
const _hex34952 = pxsim.BufferMethods.createBufferFromHex("8704200020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0bb000000000000000000000000b000404500b0000000000000000000005b0b000400540b0000000000000000b0550400000054b5000000000000000000440040bb0040040000000000000000000040d4ddbb0000000000000000000000004055ddbd000000000000000000004b005455d5dd0b400b000000000000005b045411d5dd0b540b000000000000004b005411d5dd0b400b0000000000000000004055ddbd00000000000000000000000040d4ddbb0000000000000000000000440040bb0040040000000000000000b0550400000054b50000000000000000005b04000400540b000000000000000000b000404500b0000000000000000000000000b0bb0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000")
const _hex34954 = pxsim.BufferMethods.createBufferFromHex("87042000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020020000000000002002000000000000202200000000000022020000000000000022020000000020220000000000000000202200000000220200000000000000000022020000202200000000000000000000202200002202000000000000000000000022022022000000000000000000000000202222020000000000000000000000000022220000000000000000000000000000222200000000000000000000000000202222020000000000000000000000002202202200000000000000000000002022000022020000000000000000000022020000202200000000000000000020220000000022020000000000000000220200000000202200000000000000202200000000000022020000000000002002000000000000200200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000")
const _hex34956 = pxsim.BufferMethods.createBufferFromHex("8704200020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c0fcff0f000000000000000000000000bcddddfb000000000000000000000000dcbbbbfd000000000000000000000000ccbbbbfc0000000000000000000000c0bcd1bdfb0f00000000000000000000c01b11ddbb0f00000000000000000000c0bcbbbbcb0f00000000000000000000bc11d1ddddcb000000000000000000c01d11ddddddd10c0000000000000000bcd1cbbcfbcf1dcb00000000000000001ccdccddbdffdfc100000000000000001cccccdbcbffcfc10000000000000000dbcbccccfcffbfcd0000000000000000bbbdccccffcfdbbb0000000000000000b0dbbdbbbbdbbd0b000000000000000000b0cbccccbc0b000000000000000000000000000000000000000000000000000000d007700d0000000000000000000000007066660700000000000000000000000000677600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000")
const _hex34958 = pxsim.BufferMethods.createBufferFromHex("870420002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000b0cbcc0c0000000000000000000000b0db55d5cd0c00000000000000000000db555555ddcd000000000000000000b055555555d59d0b0000000000000000db55555555d59db900000000000000005b55555555d5ddb900000000000000b05db5cccc5bdddd990b000000000000b055ccccccccdddd9d0b000000000000b0b5ccccccccdbdd9d0b000000000000b0c5ccccccccdcdd9d0b000000000000b0c5ccdccbccdcdd9d0c000000000000b0cdcc5b55ccdcdd9d0c00000000000000ccdc55b5ccdcddc90000000000000000cccc5b55ccdbddc90000000000000000c0ccdccbccdd9d0c000000000000000000ccccccdbddcd00000000000000000000c0dcddddcd0c0000000000000000000000c0cccc0c00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000")
const _hex34960 = pxsim.BufferMethods.createBufferFromHex("870420002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000cc00000000000000b0bbbbbbbbcb00c0cd000000000000001bddddddddbd0c1ccd000000000000b011cbccccccbc0c1ccd000000000000b01d6c666666bc0cbccd000000000000b01d6c616661bc0c1ccd000000000000b01d6c161666bccc1bcd000000000000b01d6c666166bcccbbcd000000000000b01d6c666666bccc1bcd000000000000b01d6c666661bccc1bcd000000000000b01d6c666661bcccbbcd000000000000b01d6c666661bccc1bcd000000000000b01d6c666666bc0c1ccd000000000000b01dcbccccccbc0cbccd000000000000c0b1bbbbbbbbbb0cdccb000000000000c0bbbbbbbbbbcb00dc0c00000000000000cccccccccc0c00cc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000")
const _hex34962 = pxsim.BufferMethods.createBufferFromHex("87042000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004004000000000000000000000000000054450000000000000000000000440b00bbbb00b0440000000000000040550b00000000b0550400000000000040b5000044bb00005b04000000000000b00b0044ddddbb00b00b0000000000000000405d55d5dd0b00000000000000000000d4555555ddbd0000000000000000000054555555d5bd0000000000000000b44055555555d5dd0b4b000000000040b54055555555d5dd0b5b040000000040b54055555555d5dd0b5b040000000000b44055115555d5dd0b4b000000000000000054115555d5bd00000000000000000000d4555555ddbd00000000000000000000405d55d5dd0b0000000000000000b00b0044ddddbb00b00b00000000000040b5000044bb00005b0400000000000040550b00000000b0550400000000000000440b00bbbb00b0440000000000000000000000544500000000000000000000000000004004000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000")
const _hex34964 = pxsim.BufferMethods.createBufferFromHex("870420002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000bbbb00000000000000000000000000b055bb00bbbbbb000000000000000000b0b5bdbcbbbbddcb0000000000000000b0dbcb5b5555bbdd0c00000000000000b0cbdcbdbb5b55dbcd0000000000000000c0dddb11d15bb5bd0c00000000000000bbbd111111b155bb0c00000000000000db1b111111115bb5cb00000000000000db1bb11d1199b9d5cb00000000000000db1b11bb9199b955cb000000000000005b1b11b19b99995bcb000000000000005b1d1111bb99995ccb00000000000000b0b511bbbb99995ccb00000000000000b0d51d919999d95b0b00000000000000005bdb919999c9d50b0000000000000000b0d51b99d9bcb5000000000000000000005bd5bbbc550b00000000000000000000b05b5555bd000000000000000000000000b0bbbb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000")
const _hex43526 = pxsim.BufferMethods.createBufferFromHex("000fdc05ffffdc05000f0100")




function inline__P34432(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

  case 1:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 4; continue; }
    globals.__updated___34429 = (false);
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 200;
    s.callLocIdx = 3; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(globals.__updated___34429);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_2 = control___screen_update__P31224_mk(s);
    s.callLocIdx = 4; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    globals.__updated___34429 = (true);
  case 2:
  case 3:
    { step = 1; continue; }
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P34432.info = {"start":396,"length":211,"line":17,"column":26,"endLine":26,"endColumn":5,"fileName":"pxt_modules/screen/frame.ts","functionName":"inline","argumentNames":[]}

function inline__P34432_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P34432, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function inline__P34450(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtcore.updateScreen(globals.screen___31263);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P34450.info = {"start":753,"length":26,"line":22,"column":33,"endLine":22,"endColumn":59,"fileName":"pxt_modules/screen/targetoverrides.ts","functionName":"inline","argumentNames":[]}

function inline__P34450_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P34450, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function inline__P34455(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore.updateStats(s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P34455.info = {"start":816,"length":56,"line":23,"column":35,"endLine":25,"endColumn":5,"fileName":"pxt_modules/screen/targetoverrides.ts","functionName":"inline","argumentNames":["msg"]}

function inline__P34455_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P34455, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function inline__P34556(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals.infoState___34552);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_numops_toBoolDecr(globals.infoStateStack___34554);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals.infoStateStack___34554 = (r0);
  case 1:
  case 2:
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "state", globals.infoState___34552);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "scene", s.arg0);
    r0 = pxsim_Array__push(globals.infoStateStack___34554, s.tmp_0);
    globals.infoState___34552 = (undefined);
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P34556.info = {"start":1920,"length":259,"line":73,"column":29,"endLine":82,"endColumn":5,"fileName":"pxt_modules/game/info.ts","functionName":"inline","argumentNames":["oldScene"]}

function inline__P34556_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P34556, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P34571(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.scene___34572 = undefined;
    s.nextState___34581 = undefined;
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 22; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.scene___34572 = (r0);
    globals.infoState___34552 = (undefined);
    s.tmp_0 = r0 = globals.infoStateStack___34554;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__length(globals.infoStateStack___34554);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_Array_.pop(globals.infoStateStack___34554);
    s.nextState___34581 = (r0);
    s.tmp_2 = if_scene_1_mk(s);
    s.tmp_2.arg0 = s.nextState___34581;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "scene");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["scene"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["scene"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 23; s.pc = 8; return s.tmp_2; }
    }
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.scene___34572);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = if_state_1_mk(s);
    s.tmp_3.arg0 = s.nextState___34581;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "state");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["state"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["state"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 24; s.pc = 9; return s.tmp_3; }
    }
  case 9:
    r0 = s.retval;
    globals.infoState___34552 = (r0);
    { step = 4; continue; }
  case 3:
    r0 = pxsim_Array__push(globals.infoStateStack___34554, s.nextState___34581);
  case 4:
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P34571.info = {"start":2211,"length":376,"line":84,"column":28,"endLine":95,"endColumn":5,"fileName":"pxt_modules/game/info.ts","functionName":"inline","argumentNames":[]}

function inline__P34571_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P34571, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  scene___34572: undefined,
  nextState___34581: undefined,
} }





function inline__P35007(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sz___35008 = undefined;
    s.tmp_0 = control_ramSize__P29762_mk(s);
    s.callLocIdx = 31; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.sz___35008 = (r0);
    r0 = (s.sz___35008 <= 102400);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 8;
    { step = 5; continue; }
    { step = 4; continue; }
  case 1:
    r0 = (s.sz___35008 <= 204800);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = 16;
    { step = 5; continue; }
    { step = 3; continue; }
  case 2:
    r0 = 50;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = undefined;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
inline__P35007.info = {"start":223,"length":217,"line":8,"column":25,"endLine":17,"endColumn":5,"fileName":"pxt_modules/game/particles.ts","functionName":"inline","argumentNames":[]}

function inline__P35007_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P35007, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  sz___35008: undefined,
} }





function inline__P35099(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim.Math_.random();
    s.tmp_3 = r0;
    r0 = (s.tmp_3 * 2);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "xOffset", s.tmp_1);
    r0 = pxsim.Math_.random();
    s.tmp_6 = r0;
    r0 = (s.tmp_6 * 2);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 - 1);
    s.tmp_4 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "yOffset", s.tmp_4);
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
inline__P35099.info = {"start":860,"length":117,"line":31,"column":40,"endLine":34,"endColumn":5,"fileName":"pxt_modules/game/texteffects.ts","functionName":"inline","argumentNames":[]}

function inline__P35099_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P35099, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
} }





function inline__P35112(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_2, "xOffset", 0);
    r0 = pxsim.Math_.sin(s.arg0);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 * 2);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_2, "yOffset", s.tmp_3);
    s.tmp_7 = Math_sign__P29551_mk(s);
    r0 = pxsim.Math_.sin(s.arg0);
    s.tmp_7.arg0 = r0;
    s.callLocIdx = 51; s.pc = 7; return s.tmp_7;
  case 7:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = (s.tmp_6 < 0);
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_2, "up", s.tmp_5);
    s.arg1 = (s.tmp_2);
  case 1:
  case 2:
    s.tmp_1 = if_up_1_mk(s);
    s.tmp_1.arg0 = s.arg1;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "up");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["up"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["up"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 52; s.pc = 8; return s.tmp_1; }
    }
  case 8:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = 1;
    { step = 4; continue; }
  case 3:
    r0 = -1;
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.tmp_3 = if_yOffset_2_mk(s);
    s.tmp_4 = r0 = s.arg1;
    s.tmp_3.arg0 = r0;
    s.tmp_6 = if_yOffset_1_mk(s);
    s.tmp_6.arg0 = s.tmp_4;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "yOffset");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["yOffset"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["yOffset"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 53; s.pc = 10; return s.tmp_6; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.tmp_2 * 0.5);
    s.tmp_7 = r0;
    r0 = (s.tmp_5 + s.tmp_7);
    s.tmp_3.arg1 = r0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_3.arg0, "yOffset", s.tmp_3.arg1);
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["set/yOffset"];
      if (s.tmp_3.fn === null) { s.tmp_3.arg0.fields["yOffset"] = s.tmp_3.arg1; }
      else if (s.tmp_3.fn === undefined) { failedCast(s.tmp_3.arg0) } 
     else { s.callLocIdx = 54; s.pc = 9; return s.tmp_3; }
    }
  case 9:
    r0 = s.retval;
    s.tmp_2 = Math_abs__P29550_mk(s);
    s.tmp_3 = if_yOffset_1_mk(s);
    s.tmp_3.arg0 = s.arg1;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "yOffset");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["yOffset"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["yOffset"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 55; s.pc = 12; return s.tmp_3; }
    }
  case 12:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 56; s.pc = 11; return s.tmp_2;
  case 11:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_6 = if_up_1_mk(s);
    s.tmp_6.arg0 = s.arg1;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "up");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["up"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["up"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 57; s.pc = 13; return s.tmp_6; }
    }
  case 13:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    { step = 6; continue; }
  case 5:
    s.tmp_7 = if_up_1_mk(s);
    s.tmp_7.arg0 = s.arg1;
    if (!s.tmp_7.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, "up");
    } else {
      s.tmp_7.fn = s.tmp_7.arg0.vtable.iface["up"];
      if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields["up"]; }
      else if (!s.tmp_7.fn.isGetter) { s.retval = bind(s.tmp_7); }
     else { s.callLocIdx = 58; s.pc = 14; return s.tmp_7; }
    }
  case 14:
    r0 = s.retval;
  case 6:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    s.tmp_9 = if_up_2_mk(s);
    s.tmp_9.arg0 = s.arg1;
    s.tmp_9.arg1 = s.tmp_8;
    if (!s.tmp_9.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_9.arg0, "up", s.tmp_9.arg1);
    } else {
      s.tmp_9.fn = s.tmp_9.arg0.vtable.iface["set/up"];
      if (s.tmp_9.fn === null) { s.tmp_9.arg0.fields["up"] = s.tmp_9.arg1; }
      else if (s.tmp_9.fn === undefined) { failedCast(s.tmp_9.arg0) } 
     else { s.callLocIdx = 59; s.pc = 15; return s.tmp_9; }
    }
  case 15:
    r0 = s.retval;
    r0 = s.arg1;
    return leave(s, r0)
  default: oops()
} } }
inline__P35112.info = {"start":1127,"length":417,"line":42,"column":39,"endLine":55,"endColumn":5,"fileName":"pxt_modules/game/texteffects.ts","functionName":"inline","argumentNames":["index","state"]}

function inline__P35112_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P35112, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P36607(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtcore_mkClassInstance(jacdac_WifiController__C34070_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_WifiController_constructor__P34073_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 72; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
inline__P36607.info = {"start":7826,"length":26,"line":258,"column":16,"endLine":258,"endColumn":42,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"inline","argumentNames":[]}

function inline__P36607_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36607, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function inline__P37006(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 & 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = true;
    { step = 2; continue; }
  case 1:
    r0 = false;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.tmp_2 = jacdac_SensorClient_setStreaming__P33773_mk(s);
    s.tmp_2.arg0 = globals.accelerometerClient___33807;
    s.tmp_2.arg1 = s.tmp_1;
    s.callLocIdx = 145; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37006.info = {"start":240,"length":70,"line":10,"column":8,"endLine":10,"endColumn":78,"fileName":"services.ts","functionName":"inline","argumentNames":["num"]}

function inline__P37006_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37006, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P37015(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cl___37017 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.cl___37017 = (globals.lightClient___33888);
    s.tmp_0 = jacdac_LightClient_setBrightness__P33853_mk(s);
    s.tmp_0.arg0 = s.cl___37017;
    s.tmp_0.arg1 = 10;
    s.callLocIdx = 147; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.tmp_0 = jacdac_LightClient_setStrip__P33852_mk(s);
    s.tmp_0.arg0 = s.cl___37017;
    s.tmp_0.arg1 = 128;
    s.tmp_0.arg2 = 17;
    s.tmp_0.arg3 = 500;
    s.callLocIdx = 148; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    r0 = (s.arg0 % 8);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(6, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(7, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_0;
    { step = 9; continue; }
  case 1:
    s.tmp_1 = jacdac_LightClient_runEncoded__P33855_mk(s);
    s.tmp_1.arg0 = s.cl___37017;
    s.tmp_1.arg1 = "setall #000000";
    s.tmp_1.arg2 = undefined;
    s.callLocIdx = 149; s.pc = 12; return s.tmp_1;
  case 12:
    r0 = s.retval;
    { step = 9; continue; }
  case 2:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_lightanimation_Comet__C33871_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_lightanimation_Comet_constructor__P33872_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 150; s.pc = 13; return s.tmp_1;
  case 13:
    r0 = s.retval;
    s.tmp_2 = jacdac_LightClient_showAnimation__P33857_mk(s);
    s.tmp_2.arg0 = s.cl___37017;
    s.tmp_2.arg1 = s.tmp_0;
    s.tmp_2.arg2 = 30000;
    s.tmp_2.arg3 = 0;
    s.callLocIdx = 151; s.pc = 14; return s.tmp_2;
  case 14:
    r0 = s.retval;
    { step = 9; continue; }
  case 3:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_lightanimation_Fireflys__C33883_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_lightanimation_Fireflys_constructor__P33885_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 152; s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
    s.tmp_2 = jacdac_LightClient_showAnimation__P33857_mk(s);
    s.tmp_2.arg0 = s.cl___37017;
    s.tmp_2.arg1 = s.tmp_0;
    s.tmp_2.arg2 = 30000;
    s.tmp_2.arg3 = 0;
    s.callLocIdx = 153; s.pc = 16; return s.tmp_2;
  case 16:
    r0 = s.retval;
    { step = 9; continue; }
  case 4:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_lightanimation_RainbowCycle__C33866_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_lightanimation_Base_constructor__P33863_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 154; s.pc = 17; return s.tmp_1;
  case 17:
    r0 = s.retval;
    s.tmp_2 = jacdac_LightClient_showAnimation__P33857_mk(s);
    s.tmp_2.arg0 = s.cl___37017;
    s.tmp_2.arg1 = s.tmp_0;
    s.tmp_2.arg2 = 30000;
    s.tmp_2.arg3 = 0;
    s.callLocIdx = 155; s.pc = 18; return s.tmp_2;
  case 18:
    r0 = s.retval;
    { step = 9; continue; }
  case 5:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_lightanimation_RunningLights__C33868_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_lightanimation_RunningLights_constructor__P33869_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 156; s.pc = 19; return s.tmp_1;
  case 19:
    r0 = s.retval;
    s.tmp_2 = jacdac_LightClient_showAnimation__P33857_mk(s);
    s.tmp_2.arg0 = s.cl___37017;
    s.tmp_2.arg1 = s.tmp_0;
    s.tmp_2.arg2 = 30000;
    s.tmp_2.arg3 = 0;
    s.callLocIdx = 157; s.pc = 20; return s.tmp_2;
  case 20:
    r0 = s.retval;
    { step = 9; continue; }
  case 6:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_lightanimation_Sparkle__C33874_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_lightanimation_Sparkle_constructor__P33875_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 158; s.pc = 21; return s.tmp_1;
  case 21:
    r0 = s.retval;
    s.tmp_2 = jacdac_LightClient_showAnimation__P33857_mk(s);
    s.tmp_2.arg0 = s.cl___37017;
    s.tmp_2.arg1 = s.tmp_0;
    s.tmp_2.arg2 = 30000;
    s.tmp_2.arg3 = 0;
    s.callLocIdx = 159; s.pc = 22; return s.tmp_2;
  case 22:
    r0 = s.retval;
    { step = 9; continue; }
  case 7:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_lightanimation_TheaterChase__C33880_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_lightanimation_TheaterChase_constructor__P33881_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 160; s.pc = 23; return s.tmp_1;
  case 23:
    r0 = s.retval;
    s.tmp_2 = jacdac_LightClient_showAnimation__P33857_mk(s);
    s.tmp_2.arg0 = s.cl___37017;
    s.tmp_2.arg1 = s.tmp_0;
    s.tmp_2.arg2 = 30000;
    s.tmp_2.arg3 = 0;
    s.callLocIdx = 161; s.pc = 24; return s.tmp_2;
  case 24:
    r0 = s.retval;
    { step = 9; continue; }
  case 8:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_lightanimation_ColorWipe__C33877_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_lightanimation_ColorWipe_constructor__P33878_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 162; s.pc = 25; return s.tmp_1;
  case 25:
    r0 = s.retval;
    s.tmp_2 = jacdac_LightClient_showAnimation__P33857_mk(s);
    s.tmp_2.arg0 = s.cl___37017;
    s.tmp_2.arg1 = s.tmp_0;
    s.tmp_2.arg2 = 30000;
    s.tmp_2.arg3 = 0;
    s.callLocIdx = 163; s.pc = 26; return s.tmp_2;
  case 26:
    r0 = s.retval;
  case 9:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37015.info = {"start":358,"length":1334,"line":11,"column":45,"endLine":50,"endColumn":5,"fileName":"services.ts","functionName":"inline","argumentNames":["num"]}

function inline__P37015_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37015, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  cl___37017: undefined,
  arg0: undefined,
} }





function inline__P37072(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 & 3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = jacdac_ServoClient_turnOff__P33990_mk(s);
    s.tmp_2.arg0 = globals.servoClient___33994;
    s.callLocIdx = 165; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    { step = 4; continue; }
  case 1:
    r0 = (s.arg0 & 1);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 2; continue; }
    r0 = 90;
    { step = 3; continue; }
  case 2:
    r0 = 45;
  case 3:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    s.tmp_5 = jacdac_ServoClient_setAngle__P33991_mk(s);
    s.tmp_5.arg0 = globals.servoClient___33994;
    s.tmp_5.arg1 = s.tmp_4;
    s.callLocIdx = 166; s.pc = 6; return s.tmp_5;
  case 6:
    r0 = s.retval;
  case 4:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = s.tmp_6;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37072.info = {"start":1740,"length":121,"line":51,"column":45,"endLine":53,"endColumn":58,"fileName":"services.ts","functionName":"inline","argumentNames":["num"]}

function inline__P37072_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37072, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }





function inline__P37087(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_MotorClient_run__P33999_mk(s);
    s.tmp_0.arg0 = globals.motorClient___34000;
    r0 = (s.arg0 % 11);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 5);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * 20);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 168; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37087.info = {"start":1909,"length":60,"line":54,"column":45,"endLine":55,"endColumn":53,"fileName":"services.ts","functionName":"inline","argumentNames":["num"]}

function inline__P37087_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37087, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P37100(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 & 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 50;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.tmp_2 = jacdac_MonoLightClient_setBrightness__P34099_mk(s);
    s.tmp_2.arg0 = globals.monoLightClient___34101;
    s.tmp_2.arg1 = s.tmp_1;
    s.callLocIdx = 170; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_0 = jacdac_MonoLightClient_setIterations__P34098_mk(s);
    s.tmp_0.arg0 = globals.monoLightClient___34101;
    s.tmp_0.arg1 = 1;
    s.callLocIdx = 171; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = jacdac_MonoLightClient_showAnimation__P34100_mk(s);
    s.tmp_0.arg0 = globals.monoLightClient___34101;
    s.tmp_0.arg1 = globals.slowGlow___34093;
    s.tmp_0.arg2 = 100;
    s.callLocIdx = 172; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37100.info = {"start":2019,"length":192,"line":56,"column":47,"endLine":60,"endColumn":5,"fileName":"services.ts","functionName":"inline","argumentNames":["num"]}

function inline__P37100_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37100, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P37118(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 & 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = true;
    { step = 2; continue; }
  case 1:
    r0 = false;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.tmp_2 = jacdac_SensorClient_setStreaming__P33773_mk(s);
    s.tmp_2.arg0 = globals.rotaryEncoderClient___34038;
    s.tmp_2.arg1 = s.tmp_1;
    s.callLocIdx = 175; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37118.info = {"start":2324,"length":70,"line":63,"column":8,"endLine":63,"endColumn":78,"fileName":"services.ts","functionName":"inline","argumentNames":["num"]}

function inline__P37118_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37118, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P37127(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 & 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = true;
    { step = 2; continue; }
  case 1:
    r0 = false;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.tmp_2 = jacdac_SensorClient_setStreaming__P33773_mk(s);
    s.tmp_2.arg0 = globals.rotaryEncoderClient___34038;
    s.tmp_2.arg1 = s.tmp_1;
    s.callLocIdx = 177; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37127.info = {"start":2449,"length":70,"line":65,"column":8,"endLine":65,"endColumn":78,"fileName":"services.ts","functionName":"inline","argumentNames":["num"]}

function inline__P37127_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37127, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P37136(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_MusicClient_playMelody__P34047_mk(s);
    s.tmp_0.arg0 = globals.musicClient___34049;
    s.tmp_0.arg1 = globals.jumpDown___31078;
    s.tmp_0.arg2 = 20;
    s.callLocIdx = 179; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37136.info = {"start":2575,"length":56,"line":67,"column":8,"endLine":67,"endColumn":64,"fileName":"services.ts","functionName":"inline","argumentNames":["num"]}

function inline__P37136_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37136, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function main__P34248(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_start__P33579_mk(s);
    s.callLocIdx = 392; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = menu_wait__P34231_mk(s);
    s.tmp_0.arg0 = 1000;
    s.tmp_0.arg1 = "Scanning...";
    s.callLocIdx = 393; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = mainMenu__P34247_mk(s);
    s.callLocIdx = 394; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
main__P34248.info = {"start":4450,"length":88,"line":160,"column":0,"endLine":164,"endColumn":1,"fileName":"main.ts","functionName":"main","argumentNames":[]}

function main__P34248_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: main__P34248, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function mainMenu__P34247(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "title", "JACDAC tool");
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "update", inline__P38459);
    s.tmp_1 = menu_show__P34230_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 391; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
mainMenu__P34247.info = {"start":3962,"length":486,"line":147,"column":0,"endLine":158,"endColumn":1,"fileName":"main.ts","functionName":"mainMenu","argumentNames":[]}

function mainMenu__P34247_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: mainMenu__P34247, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function inline__P38459(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = if_elements_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = helpers_arrayMap__P29531_mk(s);
    s.tmp_2 = allDNSes__P34238_mk(s);
    s.callLocIdx = 377; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = inline__P38465;
    s.callLocIdx = 381; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "elements", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/elements"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["elements"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 382; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    s.tmp_1 = if_elements_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "elements");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["elements"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["elements"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 383; s.pc = 4; return s.tmp_1; }
    }
  case 4:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = menu_item__P34220_mk(s);
    s.tmp_3.arg0 = "Device browser";
    s.tmp_3.arg1 = deviceBrowser__P34245;
    s.tmp_3.arg2 = undefined;
    s.tmp_3.arg3 = undefined;
    s.callLocIdx = 384; s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    s.tmp_1 = if_elements_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "elements");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["elements"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["elements"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 385; s.pc = 6; return s.tmp_1; }
    }
  case 6:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = menu_item__P34220_mk(s);
    s.tmp_3.arg0 = "WiFi";
    s.tmp_3.arg1 = wifi__P34244;
    s.tmp_3.arg2 = undefined;
    s.tmp_3.arg3 = undefined;
    s.callLocIdx = 386; s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    s.tmp_1 = if_elements_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "elements");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["elements"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["elements"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 387; s.pc = 8; return s.tmp_1; }
    }
  case 8:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = menu_item__P34220_mk(s);
    s.tmp_3.arg0 = "Console";
    s.tmp_3.arg1 = startConsole__P34243;
    s.tmp_3.arg2 = undefined;
    s.tmp_3.arg3 = undefined;
    s.callLocIdx = 388; s.pc = 9; return s.tmp_3;
  case 9:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    s.tmp_1 = if_elements_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "elements");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["elements"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["elements"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 389; s.pc = 10; return s.tmp_1; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = menu_item__P34220_mk(s);
    s.tmp_3.arg0 = "Reset all devices";
    s.tmp_3.arg1 = resetAll__P34239;
    s.tmp_3.arg2 = undefined;
    s.tmp_3.arg3 = undefined;
    s.callLocIdx = 390; s.pc = 11; return s.tmp_3;
  case 11:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38459.info = {"start":4046,"length":393,"line":150,"column":16,"endLine":156,"endColumn":9,"fileName":"main.ts","functionName":"inline","argumentNames":["opts"]}

function inline__P38459_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38459, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function inline__P38465(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkAction(1, inline__P38477);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = menu_item__P34220_mk(s);
    s.tmp_4 = describe__P34233_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.callLocIdx = 378; s.pc = 2; return s.tmp_4;
  case 2:
    r0 = s.retval;
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("DNS: ", s.tmp_2);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.tmp_1.arg2 = undefined;
    s.tmp_1.arg3 = undefined;
    s.callLocIdx = 380; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P38465.info = {"start":4099,"length":58,"line":151,"column":43,"endLine":151,"endColumn":101,"fileName":"main.ts","functionName":"inline","argumentNames":["d"]}

function inline__P38465_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38465, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function inline__P38477(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = operateDNS__P34237_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 379; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38477.info = {"start":4137,"length":19,"line":151,"column":81,"endLine":151,"endColumn":100,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38477_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38477, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function resetAll__P34239(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_JDPacket_sendAsMultiCommand__P33635_mk(s);
    s.tmp_1 = jacdac_JDPacket_onlyHeader__P33606_mk(s);
    s.tmp_1.arg0 = 130;
    s.callLocIdx = 342; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 343; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
resetAll__P34239.info = {"start":2301,"length":120,"line":78,"column":0,"endLine":81,"endColumn":1,"fileName":"main.ts","functionName":"resetAll","argumentNames":[]}

function resetAll__P34239_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: resetAll__P34239, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function jacdac_JDPacket_onlyHeader__P33606(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = pxsim.control.createBuffer(0);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1479; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_onlyHeader__P33606.info = {"start":1638,"length":122,"line":47,"column":8,"endLine":49,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"onlyHeader","argumentNames":["service_command"]}

function jacdac_JDPacket_onlyHeader__P33606_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_onlyHeader__P33606, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_from__P33605(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___42275 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_JDPacket__C33601_VT);
    s.tmp_0 = r0;
    r0 = undefined;
    s.p___42275 = (s.tmp_0);
    s.tmp_0 = r0 = s.p___42275;
    r0 = pxsim.control.createBuffer(16);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_header"] = (s.tmp_1);
    s.tmp_0 = jacdac_JDPacket_data__P33623_mk(s);
    s.tmp_0.arg0 = s.p___42275;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1477; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_service_command__P33619_mk(s);
    s.tmp_0.arg0 = s.p___42275;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 1478; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = s.p___42275;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_from__P33605.info = {"start":1373,"length":255,"line":39,"column":8,"endLine":45,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"from","argumentNames":["service_command","data"]}

function jacdac_JDPacket_from__P33605_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_from__P33605, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  p___42275: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_constructor__P36451(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_constructor__P36451.info = {"start":1113,"length":25,"line":30,"column":8,"endLine":30,"endColumn":33,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_JDPacket_constructor__P36451_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_constructor__P36451, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_JDPacket_data__P33623(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 236);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.throwValue("Too big");
  case 1:
  case 2:
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_2, 12, s.tmp_3);
    r0 = (s.arg0).fields["_data"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_data__P33623.info = {"start":3905,"length":193,"line":118,"column":8,"endLine":123,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"data","argumentNames":["this","buf"]}

function jacdac_JDPacket_data__P33623_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_data__P33623, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_data__P33622(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_data"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_data__P33622.info = {"start":3835,"length":60,"line":114,"column":8,"endLine":116,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"data","argumentNames":["this"]}
jacdac_JDPacket_data__P33622.isGetter = true;

function jacdac_JDPacket_data__P33622_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_data__P33622, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_JDPacket_service_command__P33619(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, 14, s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_service_command__P33619.info = {"start":3496,"length":111,"line":102,"column":8,"endLine":104,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"service_command","argumentNames":["this","cmd"]}

function jacdac_JDPacket_service_command__P33619_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_service_command__P33619, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_service_command__P33618(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 14);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_service_command__P33618.info = {"start":3377,"length":110,"line":99,"column":8,"endLine":101,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"service_command","argumentNames":["this"]}
jacdac_JDPacket_service_command__P33618.isGetter = true;

function jacdac_JDPacket_service_command__P33618_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_service_command__P33618, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_sendAsMultiCommand__P33635(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_0, 3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 5);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 3, s.tmp_1);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 11, 4, s.arg1);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 11, 8, 0);
    s.tmp_0 = jacdac_JDPacket__sendCore__P33632_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1506; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_sendAsMultiCommand__P33635.info = {"start":6110,"length":319,"line":193,"column":8,"endLine":198,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"sendAsMultiCommand","argumentNames":["this","service_class"]}

function jacdac_JDPacket_sendAsMultiCommand__P33635_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_sendAsMultiCommand__P33635, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket__sendCore__P33632(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    s.tmp_0 = jacdac___physSendPacket__P33330_mk(s);
    r0 = s.arg0.fields["_header"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1501; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket__sendCore__P33632.info = {"start":5625,"length":85,"line":174,"column":8,"endLine":176,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"_sendCore","argumentNames":["this"]}

function jacdac_JDPacket__sendCore__P33632_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket__sendCore__P33632, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac___physSendPacket__P33330(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = helpers_bufferConcat__P29606_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 1323; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.sendMessage("jacdac", s.tmp_0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac___physSendPacket__P33330.info = {"start":311,"length":140,"line":15,"column":4,"endLine":17,"endColumn":5,"fileName":"pxt_modules/jacdac-services/jdsim.ts","functionName":"__physSendPacket","argumentNames":["header","data"]}

function jacdac___physSendPacket__P33330_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physSendPacket__P33330, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_bufferConcat__P29606(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___42254 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.r___42254 = (r0);
    r0 = pxsim.BufferMethods.write(s.r___42254, 0, s.arg0);
    s.tmp_0 = r0 = s.r___42254;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_0, s.tmp_1, s.arg1);
    r0 = s.r___42254;
    return leave(s, r0)
  default: oops()
} } }
helpers_bufferConcat__P29606.info = {"start":3785,"length":179,"line":132,"column":4,"endLine":137,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"bufferConcat","argumentNames":["a","b"]}

function helpers_bufferConcat__P29606_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_bufferConcat__P29606, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  r___42254: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function startConsole__P34243(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.consoleClient___34240);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_ConsoleClient__C33778_VT);
    s.tmp_2 = r0;
    s.tmp_3 = jacdac_ConsoleClient_constructor__P33781_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    s.callLocIdx = 351; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    globals.consoleClient___34240 = (s.tmp_2);
    r0 = (globals.consoleClient___34240).fields["minPriority"] = (0);
    s.tmp_0 = jacdac_Client_start__P33551_mk(s);
    s.tmp_0.arg0 = globals.consoleClient___34240;
    s.callLocIdx = 352; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    s.tmp_0 = showConsole__P34241_mk(s);
    s.callLocIdx = 353; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = hideConsole__P34242_mk(s);
    s.callLocIdx = 354; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
startConsole__P34243.info = {"start":2827,"length":236,"line":101,"column":0,"endLine":109,"endColumn":1,"fileName":"main.ts","functionName":"startConsole","argumentNames":[]}

function startConsole__P34243_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: startConsole__P34243, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
} }





function hideConsole__P34242(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.done___38357 = undefined;
    s.tmp_0 = console_log__P29796_mk(s);
    s.tmp_0.arg0 = "B to exit...";
    s.callLocIdx = 346; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim_pxtrt.mklocRef();
    s.done___38357 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.done___38357, false);
    r0 = pxsim_pxtcore_mkAction(1, inline__P38361);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.done___38357);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.B___31339;
    s.tmp_1.arg1 = 2049;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 347; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P38365);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.done___38357);
    s.tmp_1 = pauseUntil__P29783_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = undefined;
    s.callLocIdx = 348; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = game_consoleOverlay_setVisible__P32111_mk(s);
    s.tmp_0.arg0 = false;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 349; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = game_popScene__P31995_mk(s);
    s.callLocIdx = 350; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
hideConsole__P34242.info = {"start":2566,"length":259,"line":90,"column":0,"endLine":99,"endColumn":1,"fileName":"main.ts","functionName":"hideConsole","argumentNames":[]}

function hideConsole__P34242_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: hideConsole__P34242, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  done___38357: undefined,
} }





function inline__P38361(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtrt_stlocRef(s.caps[0], true);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38361.info = {"start":2700,"length":33,"line":93,"column":56,"endLine":95,"endColumn":5,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38361_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38361, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function inline__P38365(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P38365.info = {"start":2750,"length":10,"line":96,"column":15,"endLine":96,"endColumn":25,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38365_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38365, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function game_popScene__P31995(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.oldScene___48322 = undefined;
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 958; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    s.oldScene___48322 = (r0);
    s.tmp_0 = r0 = globals._sceneStack___34671;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__length(globals._sceneStack___34671);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array_.pop(globals._sceneStack___34671);
    globals._scene___34670 = (r0);
    s.tmp_0 = control_popEventContext__P29826_mk(s);
    s.callLocIdx = 959; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    { step = 6; continue; }
  case 3:
    r0 = pxsim_numops_toBoolDecr(globals._scene___34670);
    if (!r0) { step = 4; continue; }
    s.tmp_0 = control_popEventContext__P29826_mk(s);
    s.callLocIdx = 960; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    globals._scene___34670 = (undefined);
  case 4:
  case 5:
  case 6:
    r0 = pxsim_numops_toBoolDecr(globals._scene___34670);
    if (!r0) { step = 7; continue; }
    s.tmp_0 = particles_enableAll__P32168_mk(s);
    s.callLocIdx = 961; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = pxsim_numops_toBoolDecr(globals._scenePopHandlers___34673);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P48343);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.oldScene___48322);
    s.tmp_1 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_1.arg0 = globals._scenePopHandlers___34673;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 963; s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
  case 9:
  case 10:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_popScene__P31995.info = {"start":2033,"length":548,"line":75,"column":4,"endLine":93,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"popScene","argumentNames":[]}

function game_popScene__P31995_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_popScene__P31995, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  oldScene___48322: undefined,
} }





function inline__P48343(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.arg0;
    s.tmp_0.arg0 = s.caps[0];
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 962; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P48343.info = {"start":2545,"length":18,"line":91,"column":38,"endLine":91,"endColumn":56,"fileName":"pxt_modules/game/game.ts","functionName":"inline","argumentNames":["cb"]}

function inline__P48343_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48343, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function particles_enableAll__P32168(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sources___48347 = undefined;
    s.tmp_0 = particles_particleSources__P35034_mk(s);
    s.callLocIdx = 1203; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.sources___48347 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.sources___48347);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_0.arg0 = s.sources___48347;
    s.tmp_0.arg1 = inline__P48353;
    s.callLocIdx = 1205; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = particles_pruneParticles__P35030_mk(s);
    s.callLocIdx = 1206; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_enableAll__P32168.info = {"start":12632,"length":193,"line":412,"column":4,"endLine":418,"endColumn":5,"fileName":"pxt_modules/game/particles.ts","functionName":"enableAll","argumentNames":[]}

function particles_enableAll__P32168_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_enableAll__P32168, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  sources___48347: undefined,
} }





function inline__P48353(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = particles_ParticleSource_enabled__P32149_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = true;
    s.callLocIdx = 1204; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = true;
    return leave(s, r0)
  default: oops()
} } }
inline__P48353.info = {"start":12756,"length":21,"line":415,"column":28,"endLine":415,"endColumn":49,"fileName":"pxt_modules/game/particles.ts","functionName":"inline","argumentNames":["s"]}

function inline__P48353_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48353, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function particles_particleSources__P35034(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sources___45307 = undefined;
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 1207; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = r0.fields["particleSources"];
    s.sources___45307 = (r0);
    r0 = s.sources___45307;
    return leave(s, r0)
  default: oops()
} } }
particles_particleSources__P35034.info = {"start":12831,"length":119,"line":420,"column":4,"endLine":423,"endColumn":5,"fileName":"pxt_modules/game/particles.ts","functionName":"particleSources","argumentNames":[]}

function particles_particleSources__P35034_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_particleSources__P35034, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  sources___45307: undefined,
} }





function particles_pruneParticles__P35030(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sources___45327 = undefined;
    s.tmp_0 = particles_particleSources__P35034_mk(s);
    s.callLocIdx = 1190; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.sources___45327 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.sources___45327);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_1 = helpers_arraySlice__P29539_mk(s);
    s.tmp_1.arg0 = s.sources___45327;
    s.tmp_1.arg1 = 0;
    r0 = pxsim_Array__length(s.sources___45327);
    s.tmp_1.arg2 = r0;
    s.callLocIdx = 1191; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = inline__P45336;
    s.callLocIdx = 1193; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_pruneParticles__P35030.info = {"start":9847,"length":156,"line":326,"column":4,"endLine":329,"endColumn":5,"fileName":"pxt_modules/game/particles.ts","functionName":"pruneParticles","argumentNames":[]}

function particles_pruneParticles__P35030_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_pruneParticles__P35030, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  sources___45327: undefined,
} }





function inline__P45336(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = particles_ParticleSource__prune__P32144_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1192; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P45336.info = {"start":9980,"length":15,"line":328,"column":62,"endLine":328,"endColumn":77,"fileName":"pxt_modules/game/particles.ts","functionName":"inline","argumentNames":["s"]}

function inline__P45336_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P45336, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function particles_ParticleSource__prune__P32144(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.scene___45244 = undefined;
    s.sources___45252 = undefined;
    s.current___45266 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
  case 1:
    r0 = s.arg0.fields["head"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = s.arg0.fields["head"];
    r0 = r0.fields["lifespan"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= 0);
  case 3:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    r0 = s.arg0.fields["head"];
    r0 = r0.fields["next"];
    s.tmp_3 = r0;
    r0 = (s.arg0).fields["head"] = (s.tmp_3);
    { step = 1; continue; }
  case 4:
    r0 = s.arg0.fields["pFlags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    r0 = s.arg0.fields["head"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 6:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 13; continue; }
    s.tmp_5 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 1165; s.pc = 21; return s.tmp_5;
  case 21:
    r0 = s.retval;
    s.scene___45244 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.scene___45244);
    if (!r0) { step = 7; continue; }
    r0 = s.scene___45244.fields["allSprites"];
    s.tmp_0 = r0;
    r0 = pxsim_Array_.removeElement(s.tmp_0, s.arg0);
  case 7:
  case 8:
    s.tmp_0 = particles_particleSources__P35034_mk(s);
    s.callLocIdx = 1166; s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
    s.sources___45252 = (r0);
    s.tmp_0 = r0 = s.sources___45252;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = s.tmp_0;
    { step = 10; continue; }
  case 9:
    r0 = pxsim_Array__length(s.sources___45252);
  case 10:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_Array_.removeElement(s.sources___45252, s.arg0);
  case 11:
  case 12:
    r0 = s.arg0.fields["anchor"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == undefined);
  case 13:
  case 14:
    r0 = s.arg0.fields["head"];
    s.current___45266 = (r0);
  case 15:
    s.tmp_0 = r0 = s.current___45266;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = s.tmp_0;
    { step = 17; continue; }
  case 16:
    r0 = s.current___45266.fields["next"];
  case 17:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 20; continue; }
    r0 = s.current___45266.fields["next"];
    r0 = r0.fields["lifespan"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 <= 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 18; continue; }
    r0 = s.current___45266.fields["next"];
    r0 = r0.fields["next"];
    s.tmp_4 = r0;
    r0 = (s.current___45266).fields["next"] = (s.tmp_4);
    { step = 19; continue; }
  case 18:
    r0 = s.current___45266.fields["next"];
    s.current___45266 = (r0);
  case 19:
    { step = 15; continue; }
  case 20:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource__prune__P32144.info = {"start":5087,"length":830,"line":165,"column":8,"endLine":188,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"_prune","argumentNames":["this"]}

function particles_ParticleSource__prune__P32144_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource__prune__P32144, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  scene___45244: undefined,
  sources___45252: undefined,
  current___45266: undefined,
  arg0: undefined,
} }





function helpers_arraySlice__P29539(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___39723 = undefined;
    s.len___39725 = undefined;
    s.i___39759 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___39723 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___39725 = (r0);
    r0 = (s.arg1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.arg1 = (0);
    { step = 4; continue; }
  case 1:
    r0 = (s.arg1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = Math_max__P29552_mk(s);
    r0 = (s.len___39725 + s.arg1);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 0;
    s.callLocIdx = 11; s.pc = 16; return s.tmp_1;
  case 16:
    r0 = s.retval;
    s.arg1 = (r0);
  case 2:
  case 3:
  case 4:
    r0 = (s.arg1 > s.len___39725);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.res___39723;
    { step = 15; continue; }
  case 5:
  case 6:
    r0 = (s.arg2 === undefined);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 7; continue; }
    s.arg2 = (s.len___39725);
    { step = 10; continue; }
  case 7:
    r0 = (s.arg2 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = (s.len___39725 + s.arg2);
    s.arg2 = (r0);
  case 8:
  case 9:
  case 10:
    r0 = (s.arg2 > s.len___39725);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.arg2 = (s.len___39725);
  case 11:
  case 12:
    s.i___39759 = (s.arg1);
  case 13:
    r0 = (s.i___39759 < s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tmp_1 = r0 = s.res___39723;
    r0 = pxsim_Array__getAt(s.arg0, s.i___39759);
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = (s.i___39759 + 1);
    s.i___39759 = (r0);
    { step = 13; continue; }
  case 14:
    r0 = s.res___39723;
  case 15:
    return leave(s, r0)
  default: oops()
} } }
helpers_arraySlice__P29539.info = {"start":8909,"length":690,"line":299,"column":4,"endLine":324,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arraySlice","argumentNames":["arr","start","end"]}

function helpers_arraySlice__P29539_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arraySlice__P29539, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  res___39723: undefined,
  len___39725: undefined,
  i___39759: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Math_max__P29552(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 >= s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = s.arg1;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
Math_max__P29552.info = {"start":15575,"length":105,"line":529,"column":4,"endLine":532,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"max","argumentNames":["a","b"]}

function Math_max__P29552_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_max__P29552, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ParticleSource_enabled__P32149(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    s.tmp_1 = r0 = s.arg1;
    s.tmp_3 = particles_ParticleSource_enabled__P32148_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 1169; s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 !== s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["pFlags"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | 1);
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["pFlags"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 ^ 1);
  case 2:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = (s.arg0).fields["pFlags"] = (s.tmp_6);
    r0 = (s.arg0).fields["timer"] = (0);
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource_enabled__P32149.info = {"start":6799,"length":214,"line":222,"column":8,"endLine":227,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"enabled","argumentNames":["this","v"]}

function particles_ParticleSource_enabled__P32149_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_enabled__P32149, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ParticleSource_enabled__P32148(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    r0 = s.arg0.fields["pFlags"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 1);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
particles_ParticleSource_enabled__P32148.info = {"start":6605,"length":76,"line":215,"column":8,"endLine":217,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"enabled","argumentNames":["this"]}
particles_ParticleSource_enabled__P32148.isGetter = true;

function particles_ParticleSource_enabled__P32148_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_enabled__P32148, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function control_popEventContext__P29826(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ctx___48360 = undefined;
    s.context___48368 = undefined;
    r0 = pxsim_numops_toBoolDecr(globals.eventContexts___34354);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    r0 = pxsim_Array_.pop(globals.eventContexts___34354);
    s.ctx___48360 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.ctx___48360);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
  case 3:
  case 4:
    s.tmp_2 = control_EventContext_unregister__P29818_mk(s);
    s.tmp_2.arg0 = s.ctx___48360;
    s.callLocIdx = 123; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.tmp_0 = r0 = globals.eventContexts___34354;
    r0 = pxsim_Array__length(globals.eventContexts___34354);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    s.context___48368 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.context___48368);
    if (!r0) { step = 5; continue; }
    s.tmp_0 = control_EventContext_register__P29817_mk(s);
    s.tmp_0.arg0 = s.context___48368;
    s.callLocIdx = 124; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    { step = 6; continue; }
  case 5:
    globals.eventContexts___34354 = (undefined);
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_popEventContext__P29826.info = {"start":7466,"length":413,"line":229,"column":4,"endLine":243,"endColumn":5,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"popEventContext","argumentNames":[]}

function control_popEventContext__P29826_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_popEventContext__P29826, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  ctx___48360: undefined,
  context___48368: undefined,
} }





function control_EventContext_unregister__P29818(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.h___46966 = undefined;
    s.unnamed482___U1 = undefined;
    s.unnamed483___U2 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventContext__C29811_VT)) failedCast(r0);
    s.h___46966 = (undefined);
    r0 = s.arg0.fields["handlers"];
    s.unnamed482___U1 = (r0);
    s.unnamed483___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed483___U2;
    r0 = pxsim_Array__length(s.unnamed482___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed482___U1, s.unnamed483___U2);
    s.h___46966 = (r0);
    s.tmp_2 = control_EventHandler_unregister__P34348_mk(s);
    s.tmp_2.arg0 = s.h___46966;
    s.callLocIdx = 116; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    r0 = (s.unnamed483___U2 + 1);
    s.unnamed483___U2 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed482___U1 = (undefined);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["frameWorker"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["frameWorker"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventContext_unregister__P29818.info = {"start":4432,"length":131,"line":134,"column":8,"endLine":138,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"unregister","argumentNames":["this"]}

function control_EventContext_unregister__P29818_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventContext_unregister__P29818, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  h___46966: undefined,
  unnamed482___U1: undefined,
  unnamed483___U2: undefined,
  arg0: undefined,
} }





function control_EventHandler_unregister__P34348(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventHandler__C34346_VT)) failedCast(r0);
    r0 = s.arg0.fields["src"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["value"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["flags"];
    s.tmp_2 = r0;
    r0 = pxsim.control.internalOnEvent(s.tmp_0, s.tmp_1, control_doNothing__P34350, s.tmp_2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventHandler_unregister__P34348.info = {"start":1136,"length":106,"line":36,"column":8,"endLine":38,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"unregister","argumentNames":["this"]}

function control_EventHandler_unregister__P34348_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventHandler_unregister__P34348, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function control_doNothing__P34350(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_doNothing__P34350.info = {"start":1254,"length":24,"line":41,"column":4,"endLine":41,"endColumn":28,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"doNothing","argumentNames":[]}

function control_doNothing__P34350_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_doNothing__P34350, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function control_EventContext_register__P29817(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.h___48381 = undefined;
    s.unnamed480___U1 = undefined;
    s.unnamed481___U2 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventContext__C29811_VT)) failedCast(r0);
    s.h___48381 = (undefined);
    r0 = s.arg0.fields["handlers"];
    s.unnamed480___U1 = (r0);
    s.unnamed481___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed481___U2;
    r0 = pxsim_Array__length(s.unnamed480___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed480___U1, s.unnamed481___U2);
    s.h___48381 = (r0);
    s.tmp_2 = control_EventHandler_register__P34347_mk(s);
    s.tmp_2.arg0 = s.h___48381;
    s.callLocIdx = 114; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    r0 = (s.unnamed481___U2 + 1);
    s.unnamed481___U2 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed480___U1 = (undefined);
    s.tmp_0 = control_EventContext_registerFrameCallbacks__P34352_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 115; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventContext_register__P29817.info = {"start":4284,"length":138,"line":128,"column":8,"endLine":132,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"register","argumentNames":["this"]}

function control_EventContext_register__P29817_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventContext_register__P29817, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  h___48381: undefined,
  unnamed480___U1: undefined,
  unnamed481___U2: undefined,
  arg0: undefined,
} }





function control_EventContext_registerFrameCallbacks__P34352(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.worker___44676 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventContext__C29811_VT)) failedCast(r0);
    r0 = s.arg0.fields["frameCallbacks"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["frameWorker"];
    s.worker___44676 = (r0);
    r0 = pxsim_pxtcore_mkAction(2, inline__P44682);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.worker___44676);
    r0 = pxsim.control.runInParallel(s.tmp_0);
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventContext_registerFrameCallbacks__P34352.info = {"start":3379,"length":895,"line":102,"column":8,"endLine":126,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"registerFrameCallbacks","argumentNames":["this"]}

function control_EventContext_registerFrameCallbacks__P34352_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventContext_registerFrameCallbacks__P34352, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  worker___44676: undefined,
  arg0: undefined,
} }





function inline__P44682(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.delay___44712 = undefined;
    r0 = s.caps[0].fields["runningCallbacks"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P44688);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.caps[0]);
    s.tmp_2 = pauseUntil__P29783_mk(s);
    s.tmp_2.arg0 = s.tmp_1;
    s.tmp_2.arg1 = undefined;
    s.callLocIdx = 111; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = (s.caps[0]).fields["runningCallbacks"] = (true);
    r0 = (s.caps[0]).fields["framesInSample"] = (0);
    r0 = (s.caps[0]).fields["timeInSample"] = (0);
    r0 = (s.caps[0]).fields["deltaTimeMillis"] = (0);
    s.tmp_0 = r0 = s.caps[0];
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["prevTimeMillis"] = (s.tmp_1);
  case 3:
    r0 = s.caps[0].fields["frameWorker"];
    s.tmp_1 = r0;
    r0 = (s.caps[1] == s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_2 = control_EventContext_runCallbacks__P34351_mk(s);
    s.tmp_2.arg0 = s.caps[0];
    s.callLocIdx = 112; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.delay___44712 = (r0);
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = s.delay___44712;
    s.callLocIdx = 113; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    { step = 3; continue; }
  case 4:
    r0 = (s.caps[0]).fields["runningCallbacks"] = (false);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P44682.info = {"start":3540,"length":723,"line":106,"column":34,"endLine":125,"endColumn":13,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"inline","argumentNames":[]}

function inline__P44682_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P44682, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  delay___44712: undefined,
} }





function inline__P44688(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["runningCallbacks"];
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
inline__P44688.info = {"start":3771,"length":28,"line":110,"column":31,"endLine":110,"endColumn":59,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"inline","argumentNames":[]}

function inline__P44688_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P44688, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function control_EventContext_runCallbacks__P34351(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.loopStart___44721 = undefined;
    s.f___44734 = undefined;
    s.unnamed478___U2 = undefined;
    s.unnamed479___U3 = undefined;
    s.runtime___44739 = undefined;
    s.fps___44759 = undefined;
    s.delay___44821 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventContext__C29811_VT)) failedCast(r0);
    r0 = pxsim.control.millis();
    s.loopStart___44721 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["prevTimeMillis"];
    s.tmp_2 = r0;
    r0 = (s.loopStart___44721 - s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["deltaTimeMillis"] = (s.tmp_1);
    r0 = (s.arg0).fields["prevTimeMillis"] = (s.loopStart___44721);
    s.f___44734 = (undefined);
    r0 = s.arg0.fields["frameCallbacks"];
    s.unnamed478___U2 = (r0);
    s.unnamed479___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed479___U3;
    r0 = pxsim_Array__length(s.unnamed478___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed478___U2, s.unnamed479___U3);
    s.f___44734 = (r0);
    s.tmp_2 = if_handler_1_mk(s);
    s.tmp_2.arg0 = s.f___44734;
    if (!s.tmp_2.arg0.vtable.iface) {
      setupLambda(s.tmp_2, pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "handler"), 1);
      s.callLocIdx = 108; s.pc = 13; return s.tmp_2;
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["handler"];
      if (s.tmp_2.fn == null) { setupLambda(s.tmp_2, s.tmp_2.arg0.fields["handler"], 1); s.callLocIdx = 108; s.pc = 13; return s.tmp_2; }
      else if (s.tmp_2.fn.isGetter) { s.tmp_2.stage2Call = true; s.callLocIdx = 108; s.pc = 13; return s.tmp_2;; }
     else { s.callLocIdx = 108; s.pc = 13; return s.tmp_2; }
    }
  case 13:
    r0 = s.retval;
    r0 = (s.unnamed479___U3 + 1);
    s.unnamed479___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed478___U2 = (undefined);
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.loopStart___44721);
    s.runtime___44739 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["timeInSample"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.runtime___44739);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["timeInSample"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["framesInSample"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["framesInSample"] = (s.tmp_1);
    r0 = s.arg0.fields["timeInSample"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 1000);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = s.arg0.fields["framesInSample"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 30);
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 11; continue; }
    r0 = s.arg0.fields["framesInSample"];
    s.tmp_4 = r0;
    r0 = s.arg0.fields["timeInSample"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 / 1000);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 / s.tmp_5);
    s.fps___44759 = (r0);
    r0 = pxsim.Math_.round(s.fps___44759);
    s.tmp_1 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat("fps:", s.tmp_0);
    globals.control_EventContext_lastStats___29813 = (r0);
    r0 = (s.fps___44759 < 99);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    if ((globals.control_EventContext_lastStats___29813) && (globals.control_EventContext_lastStats___29813).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(globals.control_EventContext_lastStats___29813);
    checkResumeConsumed();
    return;
    } else { s.retval = (globals.control_EventContext_lastStats___29813) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.fps___44759 * 10);
    s.tmp_7 = r0;
    r0 = pxsim.Math_.round(s.tmp_7);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 % 10);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(".", s.tmp_4);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_2);
    globals.control_EventContext_lastStats___29813 = (r0);
  case 5:
  case 6:
    s.tmp_2 = control_ramSize__P29762_mk(s);
    s.callLocIdx = 109; s.pc = 18; return s.tmp_2;
  case 18:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 2000000);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 7:
    r0 = pxsim.control.profilingEnabled();
  case 8:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_String_.mkEmpty();
    s.tmp_8 = r0;
    r0 = (s.fps___44759 * 100);
    s.tmp_11 = r0;
    r0 = (s.tmp_11 | 0);
    s.tmp_10 = r0;
    if ((s.tmp_10) && (s.tmp_10).vtable) {
    setupResume(s, 19);
    pxsim_String__stringConv(s.tmp_10);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_10) + ""; }
  case 19:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat(s.tmp_8, s.tmp_9);
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_7, "/100 fps - ");
    s.tmp_6 = r0;
    r0 = s.arg0.fields["framesInSample"];
    s.tmp_13 = r0;
    if ((s.tmp_13) && (s.tmp_13).vtable) {
    setupResume(s, 20);
    pxsim_String__stringConv(s.tmp_13);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_13) + ""; }
  case 20:
    r0 = s.retval;
    s.tmp_12 = r0;
    r0 = pxsim_String__concat(s.tmp_6, s.tmp_12);
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_5, " frames");
    s.tmp_4 = r0;
    r0 = pxsim.control.dmesg(s.tmp_4);
    r0 = pxsim.control.gc();
    r0 = pxsim_pxtcore.dumpPerfCounters();
  case 9:
  case 10:
    r0 = (s.arg0).fields["timeInSample"] = (0);
    r0 = (s.arg0).fields["framesInSample"] = (0);
  case 11:
  case 12:
    s.tmp_0 = Math_max__P29552_mk(s);
    s.tmp_0.arg0 = 1;
    r0 = (20 - s.runtime___44739);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 110; s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    s.delay___44821 = (r0);
    r0 = s.delay___44821;
    return leave(s, r0)
  default: oops()
} } }
control_EventContext_runCallbacks__P34351.info = {"start":2080,"length":1246,"line":71,"column":8,"endLine":99,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"runCallbacks","argumentNames":["this"]}

function control_EventContext_runCallbacks__P34351_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventContext_runCallbacks__P34351, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  loopStart___44721: undefined,
  f___44734: undefined,
  unnamed478___U2: undefined,
  unnamed479___U3: undefined,
  runtime___44739: undefined,
  fps___44759: undefined,
  delay___44821: undefined,
  arg0: undefined,
} }





function control_EventHandler_register__P34347(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventHandler__C34346_VT)) failedCast(r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P40039);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = s.arg0.fields["src"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["value"];
    s.tmp_2 = r0;
    r0 = s.arg0.fields["flags"];
    s.tmp_3 = r0;
    r0 = pxsim.control.internalOnEvent(s.tmp_1, s.tmp_2, s.tmp_0, s.tmp_3);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventHandler_register__P34347.info = {"start":961,"length":165,"line":30,"column":8,"endLine":34,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"register","argumentNames":["this"]}

function control_EventHandler_register__P34347_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventHandler_register__P34347, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function inline__P40039(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["handler"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = if_handler_1_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "handler"), 1);
      s.callLocIdx = 107; s.pc = 3; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["handler"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["handler"], 1); s.callLocIdx = 107; s.pc = 3; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 107; s.pc = 3; return s.tmp_1;; }
     else { s.callLocIdx = 107; s.pc = 3; return s.tmp_1; }
    }
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P40039.info = {"start":1032,"length":71,"line":31,"column":58,"endLine":33,"endColumn":13,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"inline","argumentNames":[]}

function inline__P40039_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P40039, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function helpers_arrayForEach__P29534(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___39109 = undefined;
    s.i___39112 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___39109 = (r0);
    s.i___39112 = (0);
  case 1:
    r0 = (s.i___39112 < s.len___39109);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = lambda_3_mk(s);
    s.tmp_1.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___39112);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.i___39112;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.callLocIdx = 7; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    r0 = (s.i___39112 + 1);
    s.i___39112 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayForEach__P29534.info = {"start":7439,"length":250,"line":254,"column":4,"endLine":259,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayForEach","argumentNames":["arr","callbackfn"]}

function helpers_arrayForEach__P29534_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayForEach__P29534, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  len___39109: undefined,
  i___39112: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function game_consoleOverlay_setVisible__P32111(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = r0 = s.arg0;
    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___34968);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 != s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    { step = 2; continue; }
  case 1:
    r0 = undefined;
  case 2:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    globals.consoleStrings___34968 = (s.tmp_6);
  case 3:
  case 4:
    r0 = (s.arg1 !== undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    globals.consoleColor___34967 = (s.arg1);
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_consoleOverlay_setVisible__P32111.info = {"start":562,"length":219,"line":19,"column":4,"endLine":24,"endColumn":5,"fileName":"pxt_modules/game/console.ts","functionName":"setVisible","argumentNames":["value","col"]}

function game_consoleOverlay_setVisible__P32111_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_consoleOverlay_setVisible__P32111, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function pauseUntil__P29783(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_2 = lambda_1_mk(s);
    s.tmp_2.argL = s.arg0;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.callLocIdx = 54; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 5; continue; }
    s.arg1 = (0);
  case 5:
  case 6:
    s.tmp_0 = control___queuePollEvent__P29782_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 55; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
pauseUntil__P29783.info = {"start":2205,"length":227,"line":73,"column":0,"endLine":77,"endColumn":1,"fileName":"pxt_modules/base/poll.ts","functionName":"pauseUntil","argumentNames":["condition","timeOut"]}

function pauseUntil__P29783_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pauseUntil__P29783, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control___queuePollEvent__P29782(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ev___42416 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(control_PollEvent__C34325_VT);
    s.tmp_0 = r0;
    s.tmp_1 = control_PollEvent_constructor__P34326_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim.control.allocateNotifyEvent();
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = 1;
    r0 = pxsim.control.millis();
    s.tmp_1.arg3 = r0;
    s.tmp_1.arg4 = s.arg0;
    s.tmp_1.arg5 = s.arg1;
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1.arg6 = r0;
    s.callLocIdx = 52; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.ev___42416 = (s.tmp_0);
    r0 = pxsim_numops_toBoolDecr(globals._pollEventQueue___34328);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.ev___42416);
    globals._pollEventQueue___34328 = (s.tmp_2);
    r0 = pxsim.control.runInParallel(control_pollEvents__P34329);
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__push(globals._pollEventQueue___34328, s.ev___42416);
  case 2:
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 3; continue; }
    s.tmp_0 = control_onEvent__P29807_mk(s);
    r0 = s.ev___42416.fields["eid"];
    s.tmp_0.arg0 = r0;
    r0 = s.ev___42416.fields["vid"];
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_0.arg3 = 16;
    s.callLocIdx = 53; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    r0 = s.ev___42416.fields["eid"];
    s.tmp_0 = r0;
    r0 = s.ev___42416.fields["vid"];
    s.tmp_1 = r0;
    setupResume(s, 7);
    pxsim.control.waitForEvent(s.tmp_0, s.tmp_1);
    checkResumeConsumed();
    return;
  case 7:
    r0 = s.retval;
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control___queuePollEvent__P29782.info = {"start":1262,"length":739,"line":39,"column":4,"endLine":64,"endColumn":5,"fileName":"pxt_modules/base/poll.ts","functionName":"__queuePollEvent","argumentNames":["timeOut","condition","handler"]}

function control___queuePollEvent__P29782_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control___queuePollEvent__P29782, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  ev___42416: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function control_pollEvents__P34329(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.now___42458 = undefined;
    s.i___42461 = undefined;
    s.ev___42467 = undefined;
  case 1:
    r0 = pxsim_Array__length(globals._pollEventQueue___34328);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    r0 = pxsim.control.millis();
    s.now___42458 = (r0);
    s.i___42461 = (0);
  case 2:
    s.tmp_1 = r0 = s.i___42461;
    r0 = pxsim_Array__length(globals._pollEventQueue___34328);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_Array__getAt(globals._pollEventQueue___34328, s.i___42461);
    s.ev___42467 = (r0);
    s.tmp_1 = if_condition_1_mk(s);
    s.tmp_1.arg0 = s.ev___42467;
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "condition"), 1);
      s.callLocIdx = 49; s.pc = 13; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["condition"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["condition"], 1); s.callLocIdx = 49; s.pc = 13; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 49; s.pc = 13; return s.tmp_1;; }
     else { s.callLocIdx = 49; s.pc = 13; return s.tmp_1; }
    }
  case 13:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 3:
    r0 = s.ev___42467.fields["timeOut"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 > 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_2;
    { step = 5; continue; }
  case 4:
    r0 = s.ev___42467.fields["start"];
    s.tmp_5 = r0;
    r0 = (s.now___42458 - s.tmp_5);
    s.tmp_4 = r0;
    r0 = s.ev___42467.fields["timeOut"];
    s.tmp_6 = r0;
    r0 = (s.tmp_4 > s.tmp_6);
  case 5:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = s.tmp_7;
  case 6:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 9; continue; }
    r0 = s.ev___42467.fields["eid"];
    s.tmp_9 = r0;
    r0 = s.ev___42467.fields["vid"];
    s.tmp_10 = r0;
    r0 = pxsim.control.raiseEvent(s.tmp_9, s.tmp_10);
    r0 = s.ev___42467.fields["once"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_1 = helpers_arraySplice__P29525_mk(s);
    s.tmp_1.arg0 = globals._pollEventQueue___34328;
    s.tmp_1.arg1 = s.i___42461;
    s.tmp_1.arg2 = 1;
    s.callLocIdx = 50; s.pc = 14; return s.tmp_1;
  case 14:
    r0 = s.retval;
    r0 = (s.i___42461 - 1);
    s.i___42461 = (r0);
  case 7:
  case 8:
  case 9:
  case 10:
    r0 = (s.i___42461 + 1);
    s.i___42461 = (r0);
    { step = 2; continue; }
  case 11:
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 50;
    s.callLocIdx = 51; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    { step = 1; continue; }
  case 12:
    globals._pollEventQueue___34328 = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_pollEvents__P34329.info = {"start":618,"length":638,"line":20,"column":4,"endLine":37,"endColumn":5,"fileName":"pxt_modules/base/poll.ts","functionName":"pollEvents","argumentNames":[]}

function control_pollEvents__P34329_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_pollEvents__P34329, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  now___42458: undefined,
  i___42461: undefined,
  ev___42467: undefined,
} }





function helpers_arraySplice__P29525(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___39094 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    s.i___39094 = (0);
  case 3:
    r0 = (s.i___39094 < s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array_.removeAt(s.arg0, s.arg1);
    r0 = (s.i___39094 + 1);
    s.i___39094 = (r0);
    { step = 3; continue; }
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_arraySplice__P29525.info = {"start":3642,"length":213,"line":137,"column":4,"endLine":144,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arraySplice","argumentNames":["arr","start","len"]}

function helpers_arraySplice__P29525_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arraySplice__P29525, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  i___39094: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function control_PollEvent_constructor__P34326(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.arg6 = (s.lambdaArgs[6]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_PollEvent__C34325_VT)) failedCast(r0);
    r0 = (s.arg0).fields["eid"] = (s.arg1);
    r0 = (s.arg0).fields["vid"] = (s.arg2);
    r0 = (s.arg0).fields["start"] = (s.arg3);
    r0 = (s.arg0).fields["timeOut"] = (s.arg4);
    r0 = (s.arg0).fields["condition"] = (s.arg5);
    r0 = (s.arg0).fields["once"] = (s.arg6);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_PollEvent_constructor__P34326.info = {"start":239,"length":316,"line":8,"column":8,"endLine":15,"endColumn":9,"fileName":"pxt_modules/base/poll.ts","functionName":"inline","argumentNames":["this","eid","vid","start","timeOut","condition","once"]}

function control_PollEvent_constructor__P34326_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_PollEvent_constructor__P34326, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
  arg6: undefined,
} }





function control_onEvent__P29807(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ctx___39972 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = control_eventContext__P29824_mk(s);
    s.callLocIdx = 105; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.ctx___39972 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.ctx___39972);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.control.internalOnEvent(s.arg0, s.arg1, s.arg2, s.arg3);
    { step = 2; continue; }
  case 1:
    s.tmp_0 = control_EventContext_registerHandler__P29821_mk(s);
    s.tmp_0.arg0 = s.ctx___39972;
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = s.arg1;
    s.tmp_0.arg3 = s.arg2;
    s.tmp_0.arg4 = s.arg3;
    s.callLocIdx = 106; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_onEvent__P29807.info = {"start":336,"length":325,"line":9,"column":4,"endLine":15,"endColumn":5,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"onEvent","argumentNames":["src","value","handler","flags"]}

function control_onEvent__P29807_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_onEvent__P29807, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  ctx___39972: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function control_eventContext__P29824(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.eventContexts___34354);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = r0 = globals.eventContexts___34354;
    r0 = pxsim_Array__length(globals.eventContexts___34354);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    { step = 2; continue; }
  case 1:
    r0 = undefined;
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    return leave(s, r0)
  default: oops()
} } }
control_eventContext__P29824.info = {"start":6805,"length":136,"line":206,"column":4,"endLine":208,"endColumn":5,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"eventContext","argumentNames":[]}

function control_eventContext__P29824_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_eventContext__P29824, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
} }





function control_EventContext_registerHandler__P29821(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.h___39995 = undefined;
    s.unnamed484___U1 = undefined;
    s.unnamed485___U2 = undefined;
    s.hn___40018 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventContext__C29811_VT)) failedCast(r0);
    s.h___39995 = (undefined);
    r0 = s.arg0.fields["handlers"];
    s.unnamed484___U1 = (r0);
    s.unnamed485___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed485___U2;
    r0 = pxsim_Array__length(s.unnamed484___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed484___U1, s.unnamed485___U2);
    s.h___39995 = (r0);
    r0 = s.h___39995.fields["src"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_2;
    { step = 3; continue; }
  case 2:
    r0 = s.h___39995.fields["value"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == s.arg2);
  case 3:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 4; continue; }
    r0 = (s.h___39995).fields["flags"] = (s.arg4);
    r0 = (s.h___39995).fields["handler"] = (s.arg3);
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = (s.unnamed485___U2 + 1);
    s.unnamed485___U2 = (r0);
    { step = 1; continue; }
  case 6:
    s.unnamed484___U1 = (undefined);
    r0 = pxsim_pxtcore_mkClassInstance(control_EventHandler__C34346_VT);
    s.tmp_0 = r0;
    s.tmp_1 = control_EventHandler_constructor__P34349_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.arg2;
    s.tmp_1.arg3 = s.arg3;
    s.tmp_1.arg4 = s.arg4;
    s.callLocIdx = 118; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.hn___40018 = (s.tmp_0);
    r0 = s.arg0.fields["handlers"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.hn___40018);
    s.tmp_0 = control_EventHandler_register__P34347_mk(s);
    s.tmp_0.arg0 = s.hn___40018;
    s.callLocIdx = 119; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventContext_registerHandler__P29821.info = {"start":5471,"length":525,"line":166,"column":8,"endLine":179,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"registerHandler","argumentNames":["this","src","value","handler","flags"]}

function control_EventContext_registerHandler__P29821_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventContext_registerHandler__P29821, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  h___39995: undefined,
  unnamed484___U1: undefined,
  unnamed485___U2: undefined,
  hn___40018: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function control_EventHandler_constructor__P34349(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventHandler__C34346_VT)) failedCast(r0);
    r0 = (s.arg0).fields["src"] = (s.arg1);
    r0 = (s.arg0).fields["value"] = (s.arg2);
    r0 = (s.arg0).fields["handler"] = (s.arg3);
    r0 = (s.arg0).fields["flags"] = (s.arg4);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventHandler_constructor__P34349.info = {"start":786,"length":165,"line":23,"column":8,"endLine":28,"endColumn":13,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"inline","argumentNames":["this","src","value","handler","flags"]}

function control_EventHandler_constructor__P34349_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventHandler_constructor__P34349, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function controller_Button_onEvent__P31371(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Button__C31364_VT)) failedCast(r0);
    s.tmp_0 = control_onEvent__P29807_mk(s);
    s.tmp_0.arg0 = s.arg1;
    r0 = s.arg0.fields["id"];
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_0.arg3 = 16;
    s.callLocIdx = 237; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Button_onEvent__P31371.info = {"start":3368,"length":124,"line":112,"column":8,"endLine":114,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"onEvent","argumentNames":["this","event","handler"]}

function controller_Button_onEvent__P31371_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Button_onEvent__P31371, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function console_log__P29796(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P29792_mk(s);
    s.tmp_0.arg0 = 1;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 61; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_log__P29796.info = {"start":1450,"length":86,"line":58,"column":4,"endLine":60,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"log","argumentNames":["value"]}

function console_log__P29796_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_log__P29796, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function console_add__P29792(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.text___40111 = undefined;
    s.i___40120 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 < globals.minPriority___29791);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    s.tmp_1 = console_inspect__P29798_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = 20;
    s.callLocIdx = 56; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.text___40111 = (r0);
    if ((s.text___40111) && (s.text___40111).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.text___40111);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.text___40111) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "\n");
    s.text___40111 = (r0);
    s.i___40120 = (0);
  case 3:
    s.tmp_1 = r0 = s.i___40120;
    r0 = pxsim_Array__length(globals.listeners___34332);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = lambda_3_mk(s);
    r0 = pxsim_Array__getAt(globals.listeners___34332, s.i___40120);
    s.tmp_3.argL = r0;
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.text___40111;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.callLocIdx = 57; s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
    r0 = (s.i___40120 + 1);
    s.i___40120 = (r0);
    { step = 3; continue; }
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_add__P29792.info = {"start":632,"length":317,"line":28,"column":4,"endLine":36,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"add","argumentNames":["priority","message"]}

function console_add__P29792_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_add__P29792, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  text___40111: undefined,
  i___40120: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P34331(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.control.__log(s.arg0, s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P34331.info = {"start":534,"length":85,"line":25,"column":8,"endLine":25,"endColumn":93,"fileName":"pxt_modules/base/console.ts","functionName":"inline","argumentNames":["priority","text"]}

function inline__P34331_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P34331, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function console_inspect__P29798(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.asArr___40158 = undefined;
    s.asString___40176 = undefined;
    s.keys___40188 = undefined;
    s.snipped___40192 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore.typeOf(s.arg0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == "string");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 17; continue; }
    { step = 16; continue; }
  case 1:
    r0 = pxsim_pxtcore.typeOf(s.arg0);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == "number");
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 18);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 18:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    { step = 17; continue; }
    { step = 15; continue; }
  case 2:
    r0 = pxsim_Array_.isArray(s.arg0);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 5; continue; }
    s.asArr___40158 = (s.arg0);
    r0 = pxsim_Array__length(s.asArr___40158);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = helpers_arrayJoin__P29528_mk(s);
    s.tmp_2.arg0 = s.asArr___40158;
    s.tmp_2.arg1 = ",";
    s.callLocIdx = 62; s.pc = 19; return s.tmp_2;
  case 19:
    r0 = s.retval;
    { step = 17; continue; }
    { step = 4; continue; }
  case 3:
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    s.tmp_7 = helpers_arrayJoin__P29528_mk(s);
    s.tmp_8 = helpers_arraySlice__P29539_mk(s);
    s.tmp_8.arg0 = s.asArr___40158;
    s.tmp_8.arg1 = 0;
    s.tmp_8.arg2 = s.arg1;
    s.callLocIdx = 63; s.pc = 21; return s.tmp_8;
  case 21:
    r0 = s.retval;
    s.tmp_7.arg0 = r0;
    s.tmp_7.arg1 = ",";
    s.callLocIdx = 64; s.pc = 20; return s.tmp_7;
  case 20:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 22);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 22:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "...");
    { step = 17; continue; }
  case 4:
    { step = 14; continue; }
  case 5:
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 23);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 23:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_9, s.tmp_10);
    s.asString___40176 = (r0);
    r0 = (s.asString___40176 != "[object Object]");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 6:
    r0 = (s.asString___40176 != "[Object]");
  case 7:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = s.asString___40176;
    { step = 17; continue; }
  case 8:
  case 9:
    r0 = pxsim_pxtrt.keysOf(s.arg0);
    s.keys___40188 = (r0);
    r0 = pxsim_Array__length(s.keys___40188);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 > s.arg1);
    s.snipped___40192 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.snipped___40192);
    if (!r0) { step = 10; continue; }
    s.tmp_0 = helpers_arraySlice__P29539_mk(s);
    s.tmp_0.arg0 = s.keys___40188;
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 65; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.keys___40188 = (r0);
  case 10:
  case 11:
    r0 = pxsim_pxtcore_mkAction(1, inline__P40209);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_numops_toBoolDecr(s.snipped___40192);
    if (!r0) { step = 12; continue; }
    r0 = "\n    ...";
    { step = 13; continue; }
  case 12:
    r0 = pxsim_String_.mkEmpty();
  case 13:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.tmp_7 = helpers_arrayReduce__P29537_mk(s);
    s.tmp_7.arg0 = s.keys___40188;
    s.tmp_7.arg1 = s.tmp_0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_7.arg2 = r0;
    s.callLocIdx = 66; s.pc = 25; return s.tmp_7;
  case 25:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 26);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 26:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 27);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 27:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_8);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 28);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 28:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("{", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, "\n}");
    { step = 17; continue; }
  case 14:
  case 15:
  case 16:
    r0 = undefined;
  case 17:
    return leave(s, r0)
  default: oops()
} } }
console_inspect__P29798.info = {"start":2271,"length":1190,"line":81,"column":4,"endLine":114,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"inspect","argumentNames":["obj","maxElements"]}

function console_inspect__P29798_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_inspect__P29798, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  asArr___40158: undefined,
  asString___40176: undefined,
  keys___40188: undefined,
  snipped___40192: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P40209(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 1);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("\n    ", s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ": ");
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.caps[0], s.arg1);
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_6);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P40209.info = {"start":3293,"length":61,"line":108,"column":20,"endLine":108,"endColumn":81,"fileName":"pxt_modules/base/console.ts","functionName":"inline","argumentNames":["prev","currKey"]}

function inline__P40209_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P40209, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_arrayReduce__P29537(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___40236 = undefined;
    s.i___40239 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___40236 = (r0);
    s.i___40239 = (0);
  case 1:
    r0 = (s.i___40239 < s.len___40236);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = lambda_4_mk(s);
    s.tmp_1.argL = s.arg1;
    s.tmp_1.arg0 = s.arg2;
    r0 = pxsim_Array__getAt(s.arg0, s.i___40239);
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = s.i___40239;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.callLocIdx = 10; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.arg2 = (r0);
    r0 = (s.i___40239 + 1);
    s.i___40239 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.arg2;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayReduce__P29537.info = {"start":8316,"length":317,"line":280,"column":4,"endLine":286,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayReduce","argumentNames":["arr","callbackfn","initialValue"]}

function helpers_arrayReduce__P29537_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayReduce__P29537, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  len___40236: undefined,
  i___40239: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function helpers_arrayJoin__P29528(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___40264 = undefined;
    s.len___40265 = undefined;
    s.i___40268 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg1 === null);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.arg1 = (",");
  case 3:
  case 4:
    r0 = pxsim_String_.mkEmpty();
    s.r___40264 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___40265 = (r0);
    s.i___40268 = (0);
  case 5:
    r0 = (s.i___40268 < s.len___40265);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = (s.i___40268 > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_1;
    { step = 7; continue; }
  case 6:
    r0 = s.arg1;
  case 7:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 8; continue; }
    if ((s.r___40264) && (s.r___40264).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.r___40264);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40264) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_3 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.r___40264 = (r0);
  case 8:
  case 9:
    r0 = pxsim_Array__getAt(s.arg0, s.i___40268);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = s.tmp_0;
    { step = 11; continue; }
  case 10:
    r0 = pxsim_Array__getAt(s.arg0, s.i___40268);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 === null);
  case 11:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 12; continue; }
    r0 = pxsim_String_.mkEmpty();
    { step = 13; continue; }
  case 12:
    r0 = pxsim_Array__getAt(s.arg0, s.i___40268);
  case 13:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    if ((s.r___40264) && (s.r___40264).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.r___40264);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40264) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 18);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 18:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_6);
    s.r___40264 = (r0);
    r0 = (s.i___40268 + 1);
    s.i___40268 = (r0);
    { step = 5; continue; }
  case 14:
    r0 = s.r___40264;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayJoin__P29528.info = {"start":4133,"length":432,"line":157,"column":4,"endLine":170,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayJoin","argumentNames":["arr","sep"]}

function helpers_arrayJoin__P29528_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayJoin__P29528, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  r___40264: undefined,
  len___40265: undefined,
  i___40268: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function showConsole__P34241(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = game_pushScene__P31994_mk(s);
    s.callLocIdx = 344; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = game_consoleOverlay_setVisible__P32111_mk(s);
    s.tmp_0.arg0 = true;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 345; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
showConsole__P34241.info = {"start":2464,"length":100,"line":85,"column":0,"endLine":88,"endColumn":1,"fileName":"main.ts","functionName":"showConsole","argumentNames":[]}

function showConsole__P34241_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: showConsole__P34241, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function game_pushScene__P31994(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.oldScene___47887 = undefined;
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 952; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.oldScene___47887 = (r0);
    s.tmp_0 = particles_clearAll__P32166_mk(s);
    s.callLocIdx = 953; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = particles_disableAll__P32167_mk(s);
    s.callLocIdx = 954; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(globals._sceneStack___34671);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals._sceneStack___34671 = (r0);
  case 1:
  case 2:
    r0 = pxsim_Array__push(globals._sceneStack___34671, globals._scene___34670);
    s.tmp_0 = game_init__P34678_mk(s);
    s.tmp_0.arg0 = true;
    s.callLocIdx = 955; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(globals._scenePushHandlers___34672);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P47904);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.oldScene___47887);
    s.tmp_1 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_1.arg0 = globals._scenePushHandlers___34672;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 957; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_pushScene__P31994.info = {"start":1660,"length":367,"line":62,"column":4,"endLine":73,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"pushScene","argumentNames":[]}

function game_pushScene__P31994_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_pushScene__P31994, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  oldScene___47887: undefined,
} }





function inline__P47904(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.arg0;
    s.tmp_0.arg0 = s.caps[0];
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 956; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P47904.info = {"start":1991,"length":18,"line":71,"column":39,"endLine":71,"endColumn":57,"fileName":"pxt_modules/game/game.ts","functionName":"inline","argumentNames":["cb"]}

function inline__P47904_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P47904, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function game_init__P34678(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals._scene___34670);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(scene_Scene__C31877_VT);
    s.tmp_3 = r0;
    s.tmp_4 = scene_Scene_constructor__P31898_mk(s);
    s.tmp_4.arg0 = s.tmp_3;
    s.tmp_5 = control_pushEventContext__P29825_mk(s);
    s.callLocIdx = 949; s.pc = 14; return s.tmp_5;
  case 14:
    r0 = s.retval;
    s.tmp_4.arg1 = r0;
    s.tmp_4.arg2 = globals._scene___34670;
    s.callLocIdx = 950; s.pc = 13; return s.tmp_4;
  case 13:
    r0 = s.retval;
    globals._scene___34670 = (s.tmp_3);
  case 3:
  case 4:
    s.tmp_0 = scene_Scene_init__P31899_mk(s);
    s.tmp_0.arg0 = globals._scene___34670;
    s.callLocIdx = 951; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(globals.winEffect___31988);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    globals.winEffect___31988 = (globals.confetti___32259);
  case 5:
  case 6:
    r0 = pxsim_numops_toBoolDecr(globals.loseEffect___31989);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    globals.loseEffect___31989 = (globals.melt___32280);
  case 7:
  case 8:
    r0 = pxsim_numops_toBoolDecr(globals.winSound___34669);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    globals.winSound___34669 = (globals.powerUp___31079);
  case 9:
  case 10:
    r0 = pxsim_numops_toBoolDecr(globals.loseSound___34667);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    globals.loseSound___34667 = (globals.wawawawaa___31076);
  case 11:
  case 12:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_init__P34678.info = {"start":1202,"length":452,"line":45,"column":4,"endLine":60,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"init","argumentNames":["forceNewScene"]}

function game_init__P34678_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_init__P34678, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function inline__P44858(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.rounds___44861 = undefined;
    s.j___44869 = undefined;
    s.x___44874 = undefined;
    s.y___44880 = undefined;
    s.c___44886 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_ImageMethods.width(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_ImageMethods.height(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 * s.tmp_2);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 5);
    s.rounds___44861 = (r0);
    s.j___44869 = (0);
  case 1:
    r0 = (s.j___44869 < s.rounds___44861);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = Math_FastRandom_randomRange__P32048_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = 0;
    r0 = pxsim_ImageMethods.width(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1.arg2 = r0;
    s.callLocIdx = 47; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.x___44874 = (r0);
    s.tmp_0 = Math_FastRandom_randomRange__P32048_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = 0;
    r0 = pxsim_ImageMethods.height(s.arg0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 3);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 48; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.y___44880 = (r0);
    r0 = pxsim_ImageMethods.getPixel(s.arg0, s.x___44874, s.y___44880);
    s.c___44886 = (r0);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.x___44874;
    r0 = (s.y___44880 + 1);
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, s.tmp_1, s.tmp_2, s.c___44886);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.x___44874;
    r0 = (s.y___44880 + 2);
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, s.tmp_1, s.tmp_2, s.c___44886);
    r0 = (s.j___44869 + 1);
    s.j___44869 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P44858.info = {"start":2652,"length":386,"line":72,"column":45,"endLine":81,"endColumn":5,"fileName":"pxt_modules/game/effects.ts","functionName":"inline","argumentNames":["input","r"]}

function inline__P44858_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P44858, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  rounds___44861: undefined,
  j___44869: undefined,
  x___44874: undefined,
  y___44880: undefined,
  c___44886: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Math_FastRandom_randomRange__P32048(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Math_FastRandom__C32044_VT)) failedCast(r0);
    r0 = (s.arg2 > s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = Math_FastRandom_next__P32047_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 977; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.arg2 - s.arg1);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 1);
    s.tmp_3 = r0;
    r0 = (s.tmp_1 % s.tmp_3);
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = (s.arg1 + s.tmp_5);
    return leave(s, r0)
  default: oops()
} } }
Math_FastRandom_randomRange__P32048.info = {"start":2079,"length":131,"line":62,"column":8,"endLine":64,"endColumn":9,"fileName":"pxt_modules/game/mathUtil.ts","functionName":"randomRange","argumentNames":["this","min","max"]}

function Math_FastRandom_randomRange__P32048_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_FastRandom_randomRange__P32048, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Math_FastRandom_next__P32047(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Math_FastRandom__C32044_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["lfsr"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 1);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["lfsr"];
    s.tmp_7 = r0;
    r0 = (s.tmp_7 & 1);
    s.tmp_6 = r0;
    r0 = (0 - s.tmp_6);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 & 46080);
    s.tmp_4 = r0;
    r0 = (s.tmp_2 ^ s.tmp_4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["lfsr"] = (s.tmp_1);
    r0 = s.tmp_1;
    return leave(s, r0)
  default: oops()
} } }
Math_FastRandom_next__P32047.info = {"start":1713,"length":107,"line":53,"column":8,"endLine":55,"endColumn":9,"fileName":"pxt_modules/game/mathUtil.ts","functionName":"next","argumentNames":["this"]}

function Math_FastRandom_next__P32047_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_FastRandom_next__P32047, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
} }





function effects_ImageEffect_constructor__P32275(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, effects_ImageEffect__C32274_VT)) failedCast(r0);
    r0 = (s.arg0).fields["effect"] = (s.arg2);
    r0 = pxsim_pxtcore_mkClassInstance(Math_FastRandom__C32044_VT);
    s.tmp_0 = r0;
    s.tmp_1 = Math_FastRandom_constructor__P32046_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = undefined;
    s.callLocIdx = 1269; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["fastRandom"] = (s.tmp_0);
    r0 = (s.arg0).fields["preferredDelay"] = (s.arg1);
    r0 = (s.arg0).fields["times"] = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
effects_ImageEffect_constructor__P32275.info = {"start":410,"length":290,"line":10,"column":8,"endLine":15,"endColumn":9,"fileName":"pxt_modules/game/effects.ts","functionName":"inline","argumentNames":["this","defaultRate","effectFactory"]}

function effects_ImageEffect_constructor__P32275_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: effects_ImageEffect_constructor__P32275, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P44966(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.factory___44969 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(particles_ConfettiFactory__C32203_VT);
    s.tmp_0 = r0;
    s.tmp_2 = if_width_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "width");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["width"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["width"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 35; s.pc = 3; return s.tmp_2; }
    }
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = if_width_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "width");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["width"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["width"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 36; s.pc = 4; return s.tmp_3; }
    }
  case 4:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    r0 = 16;
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    s.tmp_5 = particles_ConfettiFactory_constructor__P32204_mk(s);
    s.tmp_5.arg0 = s.tmp_0;
    s.tmp_5.arg1 = s.tmp_4;
    s.tmp_5.arg2 = 16;
    s.callLocIdx = 37; s.pc = 5; return s.tmp_5;
  case 5:
    r0 = s.retval;
    s.factory___44969 = (s.tmp_0);
    s.tmp_0 = particles_SprayFactory_setSpeed__P32180_mk(s);
    s.tmp_0.arg0 = s.factory___44969;
    s.tmp_0.arg1 = 30;
    s.callLocIdx = 38; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkClassInstance(particles_ParticleSource__C32136_VT);
    s.tmp_0 = r0;
    s.tmp_1 = particles_ParticleSource_constructor__P32141_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.tmp_1.arg2 = s.arg1;
    s.tmp_1.arg3 = s.factory___44969;
    s.callLocIdx = 39; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
inline__P44966.info = {"start":7534,"length":284,"line":191,"column":59,"endLine":195,"endColumn":5,"fileName":"pxt_modules/game/particleeffects.ts","functionName":"inline","argumentNames":["anchor","particlesPerSecond"]}

function inline__P44966_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P44966, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  factory___44969: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ParticleSource_constructor__P32141(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sources___44990 = undefined;
    s.removedSource___44999 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    s.tmp_0 = sprites_BaseSprite_constructor__P31321_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1145; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = particles_init__P35028_mk(s);
    s.callLocIdx = 1146; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = particles_particleSources__P35034_mk(s);
    s.callLocIdx = 1147; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.sources___44990 = (r0);
    r0 = pxsim_Array__length(s.sources___44990);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= globals.MAX_SOURCES___35005);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = particles_sortSources__P35031_mk(s);
    s.tmp_2.arg0 = s.sources___44990;
    s.callLocIdx = 1148; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    r0 = pxsim_Array_.removeAt(s.sources___44990, 0);
    s.removedSource___44999 = (r0);
    s.tmp_0 = particles_ParticleSource_clear__P32151_mk(s);
    s.tmp_0.arg0 = s.removedSource___44999;
    s.callLocIdx = 1150; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.tmp_0 = particles_ParticleSource_destroy__P32150_mk(s);
    s.tmp_0.arg0 = s.removedSource___44999;
    s.callLocIdx = 1151; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = (s.arg0).fields["pFlags"] = (0);
    s.tmp_0 = particles_ParticleSource_setRate__P32153_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg2;
    s.callLocIdx = 1152; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    s.tmp_0 = particles_ParticleSource_setAcceleration__P32145_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = 0;
    s.callLocIdx = 1153; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.tmp_0 = particles_ParticleSource_setAnchor__P32152_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1154; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    r0 = (s.arg0).fields["lifespan"] = (undefined);
    r0 = (s.arg0).fields["_dt"] = (0);
    r0 = (s.arg0).fields["priority"] = (0);
    s.tmp_0 = r0 = s.arg3;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = globals.defaultFactory___32156;
  case 4:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.tmp_2 = particles_ParticleSource_setFactory__P32155_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.tmp_1;
    s.callLocIdx = 1155; s.pc = 14; return s.tmp_2;
  case 14:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.sources___44990, s.arg0);
    s.tmp_0 = particles_ParticleSource_enabled__P32149_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = true;
    s.callLocIdx = 1156; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource_constructor__P32141.info = {"start":2290,"length":899,"line":86,"column":8,"endLine":109,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"inline","argumentNames":["this","anchor","particlesPerSecond","factory"]}

function particles_ParticleSource_constructor__P32141_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_constructor__P32141, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  sources___44990: undefined,
  removedSource___44999: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function particles_sortSources__P35031(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = helpers_arraySort__P29530_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = inline__P45293;
    s.callLocIdx = 1194; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_sortSources__P35031.info = {"start":10009,"length":129,"line":331,"column":4,"endLine":333,"endColumn":5,"fileName":"pxt_modules/game/particles.ts","functionName":"sortSources","argumentNames":["sources"]}

function particles_sortSources__P35031_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_sortSources__P35031, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P45293(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["priority"];
    s.tmp_1 = r0;
    r0 = s.arg1.fields["priority"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 - s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["id"];
    s.tmp_3 = r0;
    r0 = s.arg1.fields["id"];
    s.tmp_4 = r0;
    r0 = (s.tmp_3 - s.tmp_4);
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = s.tmp_5;
    return leave(s, r0)
  default: oops()
} } }
inline__P45293.info = {"start":10080,"length":50,"line":332,"column":21,"endLine":332,"endColumn":71,"fileName":"pxt_modules/game/particles.ts","functionName":"inline","argumentNames":["a","b"]}

function inline__P45293_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P45293, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_arraySort__P29530(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 1);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    s.arg1 = (inline__P40319);
  case 3:
  case 4:
    s.tmp_0 = helpers_sortHelper__P34280_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 3; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
helpers_arraySort__P29530.info = {"start":5663,"length":859,"line":207,"column":4,"endLine":227,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arraySort","argumentNames":["arr","callbackfn"]}

function helpers_arraySort__P29530_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arraySort__P29530, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P40319(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.aIsUndef___40322 = undefined;
    s.bIsUndef___40326 = undefined;
    s.aIsNull___40337 = undefined;
    s.bIsNull___40341 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 === undefined);
    s.aIsUndef___40322 = (r0);
    r0 = (s.arg1 === undefined);
    s.bIsUndef___40326 = (r0);
    s.tmp_0 = r0 = s.aIsUndef___40322;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.bIsUndef___40326;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = 0;
    { step = 17; continue; }
    { step = 8; continue; }
  case 3:
    r0 = pxsim_numops_toBoolDecr(s.aIsUndef___40322);
    if (!r0) { step = 4; continue; }
    r0 = 1;
    { step = 17; continue; }
    { step = 7; continue; }
  case 4:
    r0 = pxsim_numops_toBoolDecr(s.bIsUndef___40326);
    if (!r0) { step = 5; continue; }
    r0 = -1;
    { step = 17; continue; }
  case 5:
  case 6:
  case 7:
  case 8:
    r0 = (s.arg0 === null);
    s.aIsNull___40337 = (r0);
    r0 = (s.arg1 === null);
    s.bIsNull___40341 = (r0);
    s.tmp_0 = r0 = s.aIsNull___40337;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = s.tmp_0;
    { step = 10; continue; }
  case 9:
    r0 = s.bIsNull___40341;
  case 10:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 11; continue; }
    r0 = 0;
    { step = 17; continue; }
    { step = 16; continue; }
  case 11:
    r0 = pxsim_numops_toBoolDecr(s.aIsNull___40337);
    if (!r0) { step = 12; continue; }
    r0 = 1;
    { step = 17; continue; }
    { step = 15; continue; }
  case 12:
    r0 = pxsim_numops_toBoolDecr(s.bIsNull___40341);
    if (!r0) { step = 13; continue; }
    r0 = -1;
    { step = 17; continue; }
  case 13:
  case 14:
  case 15:
  case 16:
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 18);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 18:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.tmp_2 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 19);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 19:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_6, s.tmp_7);
    s.tmp_5 = r0;
    r0 = pxsim_String_.compare(s.tmp_2, s.tmp_5);
  case 17:
    return leave(s, r0)
  default: oops()
} } }
inline__P40319.info = {"start":5826,"length":636,"line":209,"column":25,"endLine":224,"endColumn":13,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"inline","argumentNames":["a","b"]}

function inline__P40319_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P40319, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  aIsUndef___40322: undefined,
  bIsUndef___40326: undefined,
  aIsNull___40337: undefined,
  bIsNull___40341: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_sortHelper__P34280(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___40376 = undefined;
    s.i___40379 = undefined;
    s.j___40385 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0;
    { step = 11; continue; }
  case 3:
  case 4:
    r0 = pxsim_Array__length(s.arg0);
    s.len___40376 = (r0);
    s.i___40379 = (0);
  case 5:
    s.tmp_1 = r0 = s.i___40379;
    r0 = (s.len___40376 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = (s.i___40379 + 1);
    s.j___40385 = (r0);
  case 6:
    r0 = (s.j___40385 < s.len___40376);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tmp_3 = lambda_3_mk(s);
    s.tmp_3.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___40379);
    s.tmp_3.arg0 = r0;
    r0 = pxsim_Array__getAt(s.arg0, s.j___40385);
    s.tmp_3.arg1 = r0;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.callLocIdx = 1; s.pc = 12; return s.tmp_3;
  case 12:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 7; continue; }
    s.tmp_4 = helpers_swap__P34279_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.i___40379;
    s.tmp_4.arg2 = s.j___40385;
    s.callLocIdx = 2; s.pc = 13; return s.tmp_4;
  case 13:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = (s.j___40385 + 1);
    s.j___40385 = (r0);
    { step = 6; continue; }
  case 9:
    r0 = (s.i___40379 + 1);
    s.i___40379 = (r0);
    { step = 5; continue; }
  case 10:
    r0 = s.arg0;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
helpers_sortHelper__P34280.info = {"start":5176,"length":481,"line":191,"column":4,"endLine":205,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"sortHelper","argumentNames":["arr","callbackfn"]}

function helpers_sortHelper__P34280_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_sortHelper__P34280, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  len___40376: undefined,
  i___40379: undefined,
  j___40385: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_swap__P34279(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.temp___40414 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__getAt(s.arg0, s.arg1);
    s.temp___40414 = (r0);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.arg2);
    s.tmp_2 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_0, s.tmp_1, s.tmp_2);
    r0 = pxsim_Array_.setAt(s.arg0, s.arg2, s.temp___40414);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_swap__P34279.info = {"start":5030,"length":140,"line":185,"column":4,"endLine":189,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"swap","argumentNames":["arr","i","j"]}

function helpers_swap__P34279_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_swap__P34279, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  temp___40414: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function particles_init__P35028(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.scene___45312 = undefined;
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 1184; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.scene___45312 = (r0);
    r0 = s.scene___45312.fields["particleSources"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_1 = r0 = s.scene___45312;
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["particleSources"] = (s.tmp_2);
    r0 = pxsim.control.millis();
    globals.lastUpdate___35023 = (r0);
    s.tmp_0 = game_onUpdate__P32001_mk(s);
    s.tmp_0.arg0 = particles_updateParticles__P35029;
    s.callLocIdx = 1185; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = game_onUpdateInterval__P32002_mk(s);
    s.tmp_0.arg0 = 250;
    s.tmp_0.arg1 = particles_pruneParticles__P35030;
    s.callLocIdx = 1186; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_init__P35028.info = {"start":9219,"length":276,"line":303,"column":4,"endLine":310,"endColumn":5,"fileName":"pxt_modules/game/particles.ts","functionName":"init","argumentNames":[]}

function particles_init__P35028_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_init__P35028, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  scene___45312: undefined,
} }





function particles_updateParticles__P35029(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sources___45370 = undefined;
    s.time___45377 = undefined;
    s.dt___45380 = undefined;
    s.i___45386 = undefined;
    s.tmp_0 = particles_particleSources__P35034_mk(s);
    s.callLocIdx = 1187; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.sources___45370 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.sources___45370);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    s.tmp_2 = particles_sortSources__P35031_mk(s);
    s.tmp_2.arg0 = s.sources___45370;
    s.callLocIdx = 1188; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    r0 = pxsim.control.millis();
    s.time___45377 = (r0);
    r0 = (s.time___45377 - globals.lastUpdate___35023);
    s.dt___45380 = (r0);
    globals.lastUpdate___35023 = (s.time___45377);
    s.i___45386 = (0);
  case 3:
    s.tmp_1 = r0 = s.i___45386;
    r0 = pxsim_Array__length(s.sources___45370);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = particles_ParticleSource__update__P32143_mk(s);
    r0 = pxsim_Array__getAt(s.sources___45370, s.i___45386);
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.dt___45380;
    s.callLocIdx = 1189; s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
    r0 = (s.i___45386 + 1);
    s.i___45386 = (r0);
    { step = 3; continue; }
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_updateParticles__P35029.info = {"start":9501,"length":340,"line":312,"column":4,"endLine":324,"endColumn":5,"fileName":"pxt_modules/game/particles.ts","functionName":"updateParticles","argumentNames":[]}

function particles_updateParticles__P35029_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_updateParticles__P35029, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  sources___45370: undefined,
  time___45377: undefined,
  dt___45380: undefined,
  i___45386: undefined,
} }





function particles_ParticleSource__update__P32143(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___45449 = undefined;
    s.current___45468 = undefined;
    s.fixedDt___45476 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["timer"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["timer"] = (s.tmp_1);
    r0 = s.arg0.fields["lifespan"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = r0 = s.arg0;
    r0 = s.tmp_2.fields["lifespan"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - s.arg1);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["lifespan"] = (s.tmp_3);
    r0 = s.arg0.fields["lifespan"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["lifespan"] = (undefined);
    s.tmp_0 = particles_ParticleSource_destroy__P32150_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1160; s.pc = 28; return s.tmp_0;
  case 28:
    r0 = s.retval;
  case 1:
  case 2:
    { step = 10; continue; }
  case 3:
    r0 = s.arg0.fields["anchor"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_0;
    { step = 5; continue; }
  case 4:
    s.tmp_2 = if_flags_1_mk(s);
    r0 = s.arg0.fields["anchor"];
    s.tmp_2.arg0 = r0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "flags");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["flags"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["flags"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 1161; s.pc = 29; return s.tmp_2; }
    }
  case 29:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== undefined);
  case 5:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_3;
    { step = 7; continue; }
  case 6:
    s.tmp_5 = if_flags_1_mk(s);
    r0 = s.arg0.fields["anchor"];
    s.tmp_5.arg0 = r0;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "flags");
    } else {
      s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["flags"];
      if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["flags"]; }
      else if (!s.tmp_5.fn.isGetter) { s.retval = bind(s.tmp_5); }
     else { s.callLocIdx = 1162; s.pc = 30; return s.tmp_5; }
    }
  case 30:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 2);
  case 7:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 8; continue; }
    r0 = (s.arg0).fields["lifespan"] = (750);
  case 8:
  case 9:
  case 10:
  case 11:
    r0 = s.arg0.fields["timer"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 12; continue; }
    r0 = s.tmp_0;
    { step = 13; continue; }
  case 12:
    s.tmp_2 = particles_ParticleSource_enabled__P32148_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 1163; s.pc = 31; return s.tmp_2;
  case 31:
    r0 = s.retval;
  case 13:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 16; continue; }
    s.tmp_4 = r0 = s.arg0;
    r0 = s.tmp_4.fields["timer"];
    s.tmp_6 = r0;
    r0 = s.arg0.fields["period"];
    s.tmp_7 = r0;
    r0 = (s.tmp_6 + s.tmp_7);
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["timer"] = (s.tmp_5);
    s.tmp_0 = particles_ParticleFactory__C32172_v0_2_mk(s);
    r0 = s.arg0.fields["_factory"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["anchor"];
    s.tmp_0.arg1 = r0;
    if (!checkSubtype(s.tmp_0.arg0, particles_ParticleFactory__C32172_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.createParticle;
    s.pc = 32; return s.tmp_0;
  case 32:
    r0 = s.retval;
    s.p___45449 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.p___45449);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    { step = 11; continue; }
  case 14:
  case 15:
    r0 = s.arg0.fields["head"];
    s.tmp_2 = r0;
    r0 = (s.p___45449).fields["next"] = (s.tmp_2);
    r0 = (s.arg0).fields["head"] = (s.p___45449);
    { step = 11; continue; }
  case 16:
    r0 = s.arg0.fields["head"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 17; continue; }
    { step = 27; continue; }
  case 17:
  case 18:
    r0 = s.arg0.fields["head"];
    s.current___45468 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["_dt"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_dt"] = (s.tmp_1);
    r0 = s.arg0.fields["_dt"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 * 256);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 | 0);
    s.fixedDt___45476 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.fixedDt___45476);
    if (!r0) { step = 23; continue; }
  case 19:
    r0 = s.current___45468.fields["lifespan"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    s.tmp_2 = r0 = s.current___45468;
    r0 = s.tmp_2.fields["lifespan"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - s.arg1);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["lifespan"] = (s.tmp_3);
    s.tmp_0 = particles_ParticleSource__C32136_v4_3_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.current___45468;
    s.tmp_0.arg2 = s.fixedDt___45476;
    if (!checkSubtype(s.tmp_0.arg0, particles_ParticleSource__C32136_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.updateParticle;
    s.pc = 33; return s.tmp_0;
  case 33:
    r0 = s.retval;
  case 20:
  case 21:
    r0 = s.current___45468.fields["next"];
    s.tmp_0 = r0;
    s.current___45468 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    { step = 19; continue; }
  case 22:
    r0 = (s.arg0).fields["_dt"] = (0);
    { step = 26; continue; }
  case 23:
  case 24:
    s.tmp_0 = r0 = s.current___45468;
    r0 = s.tmp_0.fields["lifespan"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["lifespan"] = (s.tmp_1);
    r0 = s.current___45468.fields["next"];
    s.tmp_0 = r0;
    s.current___45468 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 25; continue; }
    { step = 24; continue; }
  case 25:
  case 26:
  case 27:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource__update__P32143.info = {"start":3677,"length":1400,"line":123,"column":8,"endLine":163,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"_update","argumentNames":["this","dt"]}

function particles_ParticleSource__update__P32143_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource__update__P32143, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  p___45449: undefined,
  current___45468: undefined,
  fixedDt___45476: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ParticleSource_updateParticle__P35025(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    r0 = (s.arg2 >> 10);
    s.arg2 = (r0);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg1.fields["vx"];
    s.tmp_2 = r0;
    r0 = s.arg0.fields["ax"];
    s.tmp_4 = r0;
    r0 = pxsim.Math_.imul(s.tmp_4, s.arg2);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >> 8);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["vx"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg1.fields["vy"];
    s.tmp_2 = r0;
    r0 = s.arg0.fields["ay"];
    s.tmp_4 = r0;
    r0 = pxsim.Math_.imul(s.tmp_4, s.arg2);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >> 8);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["vy"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg1.fields["_x"];
    s.tmp_2 = r0;
    r0 = s.arg1.fields["vx"];
    s.tmp_4 = r0;
    r0 = pxsim.Math_.imul(s.tmp_4, s.arg2);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >> 8);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_x"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg1.fields["_y"];
    s.tmp_2 = r0;
    r0 = s.arg1.fields["vy"];
    s.tmp_4 = r0;
    r0 = pxsim.Math_.imul(s.tmp_4, s.arg2);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >> 8);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_y"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource_updateParticle__P35025.info = {"start":8231,"length":357,"line":276,"column":8,"endLine":284,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"updateParticle","argumentNames":["this","p","fixedDt"]}

function particles_ParticleSource_updateParticle__P35025_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_updateParticle__P35025, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Fx_rightShift__P29591(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 >> s.arg1);
    return leave(s, r0)
  default: oops()
} } }
Fx_rightShift__P29591.info = {"start":2031,"length":108,"line":65,"column":4,"endLine":67,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"rightShift","argumentNames":["a","n"]}

function Fx_rightShift__P29591_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_rightShift__P29591, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function Fx_mul__P29582(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.Math_.imul(s.arg0, s.arg1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 8);
    return leave(s, r0)
  default: oops()
} } }
Fx_mul__P29582.info = {"start":872,"length":133,"line":29,"column":4,"endLine":31,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"mul","argumentNames":["a","b"]}

function Fx_mul__P29582_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_mul__P29582, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Fx_add__P29579(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 + s.arg1);
    return leave(s, r0)
  default: oops()
} } }
Fx_add__P29579.info = {"start":511,"length":118,"line":20,"column":4,"endLine":22,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"add","argumentNames":["a","b"]}

function Fx_add__P29579_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_add__P29579, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ParticleFactory_createParticle__P32174(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___45573 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleFactory__C32172_VT)) failedCast(r0);
    r0 = pxsim_pxtcore_mkClassInstance(particles_Particle__C32117_VT);
    s.p___45573 = (r0);
    s.tmp_0 = r0 = s.p___45573;
    s.tmp_3 = if_x_1_mk(s);
    s.tmp_3.arg0 = s.arg1;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "x");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["x"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["x"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 1214; s.pc = 1; return s.tmp_3; }
    }
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 256);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_x"] = (s.tmp_1);
    s.tmp_0 = r0 = s.p___45573;
    s.tmp_3 = if_y_1_mk(s);
    s.tmp_3.arg0 = s.arg1;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "y");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["y"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["y"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 1216; s.pc = 2; return s.tmp_3; }
    }
  case 2:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 256);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_y"] = (s.tmp_1);
    r0 = (s.p___45573).fields["vx"] = (0);
    r0 = (s.p___45573).fields["vy"] = (0);
    r0 = (s.p___45573).fields["lifespan"] = (500);
    r0 = s.p___45573;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleFactory_createParticle__P32174.info = {"start":1822,"length":282,"line":67,"column":8,"endLine":77,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"createParticle","argumentNames":["this","anchor"]}

function particles_ParticleFactory_createParticle__P32174_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleFactory_createParticle__P32174, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  p___45573: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function game_onUpdateInterval__P32002(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.timer___45349 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = game_init__P34678_mk(s);
    s.tmp_0.arg0 = undefined;
    s.callLocIdx = 967; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg0 < 0);
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = pxsim_pxtrt.mklocRef();
    s.timer___45349 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.timer___45349, 0);
    r0 = pxsim_pxtcore_mkAction(3, inline__P45353);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.timer___45349);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.arg1);
    s.tmp_1 = control_EventContext_registerFrameHandler__P29819_mk(s);
    s.tmp_2 = game_eventContext__P31993_mk(s);
    s.callLocIdx = 968; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 19;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 972; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_onUpdateInterval__P32002.info = {"start":7929,"length":417,"line":256,"column":4,"endLine":267,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"onUpdateInterval","argumentNames":["period","a"]}

function game_onUpdateInterval__P32002_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_onUpdateInterval__P32002, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  timer___45349: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P45353(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.time___45354 = undefined;
    s.tmp_1 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 969; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.tmp_0.fields["_millis"];
    s.time___45354 = (r0);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= s.time___45354);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = r0 = s.caps[0];
    r0 = (s.time___45354 + s.caps[1]);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_2, s.tmp_3);
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.caps[2];
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 971; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P45353.info = {"start":8159,"length":179,"line":260,"column":81,"endLine":266,"endColumn":9,"fileName":"pxt_modules/game/game.ts","functionName":"inline","argumentNames":[]}

function inline__P45353_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P45353, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  time___45354: undefined,
} }





function scene_Scene_millis__P31901(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Scene__C31877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_millis"];
    return leave(s, r0)
  default: oops()
} } }
scene_Scene_millis__P31901.info = {"start":6788,"length":61,"line":189,"column":8,"endLine":191,"endColumn":9,"fileName":"pxt_modules/game/scene.ts","functionName":"millis","argumentNames":["this"]}

function scene_Scene_millis__P31901_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Scene_millis__P31901, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function control_EventContext_registerFrameHandler__P29819(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.fn___44633 = undefined;
    s.i___44642 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventContext__C29811_VT)) failedCast(r0);
    r0 = s.arg0.fields["frameCallbacks"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["frameCallbacks"] = (s.tmp_4);
    s.tmp_0 = control_EventContext_registerFrameCallbacks__P34352_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 117; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkClassInstance(control_FrameCallback__C29808_VT);
    s.fn___44633 = (r0);
    r0 = (s.fn___44633).fields["order"] = (s.arg1);
    r0 = (s.fn___44633).fields["handler"] = (s.arg2);
    s.i___44642 = (0);
  case 3:
    s.tmp_1 = r0 = s.i___44642;
    r0 = s.arg0.fields["frameCallbacks"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.arg0.fields["frameCallbacks"];
    s.tmp_6 = r0;
    r0 = pxsim_Array__getAt(s.tmp_6, s.i___44642);
    r0 = r0.fields["order"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 > s.arg1);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 4; continue; }
    r0 = s.arg0.fields["frameCallbacks"];
    s.tmp_7 = r0;
    r0 = pxsim_Array_.insertAt(s.tmp_7, s.i___44642, s.fn___44633);
    r0 = s.fn___44633;
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = (s.i___44642 + 1);
    s.i___44642 = (r0);
    { step = 3; continue; }
  case 6:
    r0 = s.arg0.fields["frameCallbacks"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.fn___44633);
    r0 = s.fn___44633;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
control_EventContext_registerFrameHandler__P29819.info = {"start":4573,"length":643,"line":140,"column":8,"endLine":157,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"registerFrameHandler","argumentNames":["this","order","handler"]}

function control_EventContext_registerFrameHandler__P29819_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventContext_registerFrameHandler__P29819, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  fn___44633: undefined,
  i___44642: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function game_onUpdate__P32001(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = game_init__P34678_mk(s);
    s.tmp_0.arg0 = undefined;
    s.callLocIdx = 964; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = control_EventContext_registerFrameHandler__P29819_mk(s);
    s.tmp_3 = game_eventContext__P31993_mk(s);
    s.callLocIdx = 965; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = 20;
    s.tmp_2.arg2 = s.arg0;
    s.callLocIdx = 966; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_onUpdate__P32001.info = {"start":7427,"length":169,"line":242,"column":4,"endLine":246,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"onUpdate","argumentNames":["a"]}

function game_onUpdate__P32001_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_onUpdate__P32001, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function particles_SprayFactory_constructor__P32177(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_SprayFactory__C32176_VT)) failedCast(r0);
    r0 = undefined;
    s.tmp_0 = particles_initTrig__P35049_mk(s);
    s.callLocIdx = 1221; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = particles_SprayFactory_setSpeed__P32180_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1222; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = particles_SprayFactory_setDirection__P32181_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg2;
    s.tmp_0.arg2 = s.arg3;
    s.callLocIdx = 1223; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_SprayFactory_constructor__P32177.info = {"start":2623,"length":218,"line":98,"column":8,"endLine":103,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"inline","argumentNames":["this","speed","centerDegrees","arcDegrees"]}

function particles_SprayFactory_constructor__P32177_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_SprayFactory_constructor__P32177, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function particles_initTrig__P35049(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.cachedSin___35035);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = particles_cacheSin__P32170_mk(s);
    s.tmp_2.arg0 = 100;
    s.callLocIdx = 1209; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    globals.cachedSin___35035 = (r0);
    s.tmp_0 = particles_cacheCos__P32171_mk(s);
    s.tmp_0.arg0 = 100;
    s.callLocIdx = 1210; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    globals.cachedCos___35036 = (r0);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_initTrig__P35049.info = {"start":291,"length":155,"line":11,"column":4,"endLine":16,"endColumn":5,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"initTrig","argumentNames":[]}

function particles_initTrig__P35049_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_initTrig__P35049, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function particles_cacheCos__P32171(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cos___45122 = undefined;
    s.anglePerSlice___45124 = undefined;
    s.i___45130 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.cos___45122 = (r0);
    r0 = (6.283185307179586 / s.arg0);
    s.anglePerSlice___45124 = (r0);
    s.i___45130 = (0);
  case 1:
    r0 = (s.i___45130 < s.arg0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.cos___45122;
    r0 = (s.i___45130 * s.anglePerSlice___45124);
    s.tmp_4 = r0;
    r0 = pxsim.Math_.cos(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 * 256);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 | 0);
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = (s.i___45130 + 1);
    s.i___45130 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.cos___45122;
    return leave(s, r0)
  default: oops()
} } }
particles_cacheCos__P32171.info = {"start":1005,"length":263,"line":35,"column":4,"endLine":42,"endColumn":5,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"cacheCos","argumentNames":["slices"]}

function particles_cacheCos__P32171_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_cacheCos__P32171, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  cos___45122: undefined,
  anglePerSlice___45124: undefined,
  i___45130: undefined,
  arg0: undefined,
} }





function particles_cacheSin__P32170(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sin___45148 = undefined;
    s.anglePerSlice___45150 = undefined;
    s.i___45156 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.sin___45148 = (r0);
    r0 = (6.283185307179586 / s.arg0);
    s.anglePerSlice___45150 = (r0);
    s.i___45156 = (0);
  case 1:
    r0 = (s.i___45156 < s.arg0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.sin___45148;
    r0 = (s.i___45156 * s.anglePerSlice___45150);
    s.tmp_4 = r0;
    r0 = pxsim.Math_.sin(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 * 256);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 | 0);
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = (s.i___45156 + 1);
    s.i___45156 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.sin___45148;
    return leave(s, r0)
  default: oops()
} } }
particles_cacheSin__P32170.info = {"start":594,"length":263,"line":22,"column":4,"endLine":29,"endColumn":5,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"cacheSin","argumentNames":["slices"]}

function particles_cacheSin__P32170_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_cacheSin__P32170, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  sin___45148: undefined,
  anglePerSlice___45150: undefined,
  i___45156: undefined,
  arg0: undefined,
} }





function particles_SprayFactory_setDirection__P32181(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_SprayFactory__C32176_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_4 = particles_toRadians__P35054_mk(s);
    s.tmp_5 = r0 = s.arg1;
    r0 = (s.arg2 >> 1);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 - s.tmp_6);
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 1231; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_3 / globals.angleSlice___35048);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["minAngle"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_4 = particles_toRadians__P35054_mk(s);
    s.tmp_4.arg0 = s.arg2;
    s.callLocIdx = 1232; s.pc = 2; return s.tmp_4;
  case 2:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_3 / globals.angleSlice___35048);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["spread"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_SprayFactory_setDirection__P32181.info = {"start":3424,"length":228,"line":123,"column":8,"endLine":126,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"setDirection","argumentNames":["this","centerDegrees","arcDegrees"]}

function particles_SprayFactory_setDirection__P32181_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_SprayFactory_setDirection__P32181, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function particles_toRadians__P35054(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = Math_abs__P29550_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 1213; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 % 360);
    s.tmp_1 = r0;
    r0 = (360 - s.tmp_1);
    s.arg0 = (r0);
    { step = 2; continue; }
  case 1:
    r0 = (s.arg0 % 360);
    s.arg0 = (r0);
  case 2:
    r0 = (s.arg0 * 0.017453292519943295);
    return leave(s, r0)
  default: oops()
} } }
particles_toRadians__P35054.info = {"start":1307,"length":206,"line":45,"column":4,"endLine":52,"endColumn":5,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"toRadians","argumentNames":["degrees"]}

function particles_toRadians__P35054_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_toRadians__P35054, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function particles_ParticleFactory_constructor__P32173(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleFactory__C32172_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleFactory_constructor__P32173.info = {"start":1617,"length":78,"line":59,"column":8,"endLine":61,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"inline","argumentNames":["this"]}

function particles_ParticleFactory_constructor__P32173_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleFactory_constructor__P32173, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function particles_ParticleSource_setFactory__P32155(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["_factory"] = (s.arg1);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource_setFactory__P32155.info = {"start":8107,"length":114,"line":271,"column":8,"endLine":274,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"setFactory","argumentNames":["this","factory"]}

function particles_ParticleSource_setFactory__P32155_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_setFactory__P32155, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ParticleSource_setRate__P32153(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (1000 / s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim.Math_.ceil(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["period"] = (s.tmp_1);
    r0 = (s.arg0).fields["timer"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource_setRate__P32153.info = {"start":7785,"length":139,"line":258,"column":8,"endLine":261,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"setRate","argumentNames":["this","particlesPerSecond"]}

function particles_ParticleSource_setRate__P32153_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_setRate__P32153, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ParticleSource_setAnchor__P32152(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    r0 = (s.arg0).fields["anchor"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource_setAnchor__P32152.info = {"start":7577,"length":79,"line":250,"column":8,"endLine":252,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"setAnchor","argumentNames":["this","anchor"]}

function particles_ParticleSource_setAnchor__P32152_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_setAnchor__P32152, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ParticleSource_clear__P32151(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    r0 = (s.arg0).fields["head"] = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource_clear__P32151.info = {"start":7407,"length":54,"line":242,"column":8,"endLine":244,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"clear","argumentNames":["this"]}

function particles_ParticleSource_clear__P32151_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_clear__P32151, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function particles_ParticleSource_destroy__P32150(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    s.tmp_0 = particles_ParticleSource_enabled__P32149_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = false;
    s.callLocIdx = 1170; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["pFlags"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["pFlags"] = (s.tmp_1);
    s.tmp_0 = particles_ParticleSource__prune__P32144_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1171; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource_destroy__P32150.info = {"start":7077,"length":240,"line":232,"column":8,"endLine":237,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"destroy","argumentNames":["this"]}

function particles_ParticleSource_destroy__P32150_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_destroy__P32150, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function particles_ParticleSource_setAcceleration__P32145(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ax"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg2 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ay"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource_setAcceleration__P32145.info = {"start":6009,"length":113,"line":193,"column":8,"endLine":196,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"setAcceleration","argumentNames":["this","ax","ay"]}

function particles_ParticleSource_setAcceleration__P32145_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_setAcceleration__P32145, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function sprites_BaseSprite_constructor__P31321(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_BaseSprite__C31319_VT)) failedCast(r0);
    s.tmp_0 = sprites_BaseSprite_z__P31324_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 223; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = scene_Scene_addSprite__P31902_mk(s);
    s.tmp_1 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 224; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 225; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_BaseSprite_constructor__P31321.info = {"start":344,"length":170,"line":15,"column":8,"endLine":20,"endColumn":9,"fileName":"pxt_modules/game/basesprite.ts","functionName":"inline","argumentNames":["this","z"]}

function sprites_BaseSprite_constructor__P31321_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_BaseSprite_constructor__P31321, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function scene_Scene_addSprite__P31902(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Scene__C31877_VT)) failedCast(r0);
    r0 = s.arg0.fields["allSprites"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["spriteNextId"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["spriteNextId"] = (s.tmp_1);
    s.tmp_3 = if_id_2_mk(s);
    s.tmp_3.arg0 = s.arg1;
    s.tmp_3.arg1 = s.tmp_2;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_3.arg0, "id", s.tmp_3.arg1);
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["set/id"];
      if (s.tmp_3.fn === null) { s.tmp_3.arg0.fields["id"] = s.tmp_3.arg1; }
      else if (s.tmp_3.fn === undefined) { failedCast(s.tmp_3.arg0) } 
     else { s.callLocIdx = 892; s.pc = 1; return s.tmp_3; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Scene_addSprite__P31902.info = {"start":6859,"length":128,"line":193,"column":8,"endLine":196,"endColumn":9,"fileName":"pxt_modules/game/scene.ts","functionName":"addSprite","argumentNames":["this","sprite"]}

function scene_Scene_addSprite__P31902_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Scene_addSprite__P31902, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_BaseSprite_z__P31324(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_BaseSprite__C31319_VT)) failedCast(r0);
    r0 = s.arg0.fields["_z"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["_z"] = (s.arg1);
    s.tmp_1 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 226; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.tmp_0.fields["flags"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 | 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_0).fields["flags"] = (s.tmp_2);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_BaseSprite_z__P31324.info = {"start":656,"length":174,"line":30,"column":8,"endLine":35,"endColumn":9,"fileName":"pxt_modules/game/basesprite.ts","functionName":"z","argumentNames":["this","v"]}

function sprites_BaseSprite_z__P31324_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_BaseSprite_z__P31324, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_BaseSprite_z__P31323(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_BaseSprite__C31319_VT)) failedCast(r0);
    r0 = s.arg0.fields["_z"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
sprites_BaseSprite_z__P31323.info = {"start":591,"length":55,"line":26,"column":8,"endLine":28,"endColumn":9,"fileName":"pxt_modules/game/basesprite.ts","functionName":"z","argumentNames":["this"]}
sprites_BaseSprite_z__P31323.isGetter = true;

function sprites_BaseSprite_z__P31323_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_BaseSprite_z__P31323, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function helpers_arrayShift__P29527(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array_.removeAt(s.arg0, 0);
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayShift__P29527.info = {"start":4045,"length":82,"line":153,"column":4,"endLine":155,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayShift","argumentNames":["arr"]}

function helpers_arrayShift__P29527_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayShift__P29527, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function particles_SprayFactory_setSpeed__P32180(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_SprayFactory__C32176_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["speed"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_SprayFactory_setSpeed__P32180.info = {"start":3322,"length":92,"line":119,"column":8,"endLine":121,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"setSpeed","argumentNames":["this","pixelsPerSecond"]}

function particles_SprayFactory_setSpeed__P32180_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_SprayFactory_setSpeed__P32180, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ConfettiFactory_constructor__P32204(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.confetti___45643 = undefined;
    s.i___45659 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ConfettiFactory__C32203_VT)) failedCast(r0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim.image.ofBuffer(_hex45646);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = pxsim.image.ofBuffer(_hex45648);
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    r0 = pxsim.image.ofBuffer(_hex45650);
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_3);
    r0 = pxsim.image.ofBuffer(_hex45652);
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_4);
    r0 = pxsim.image.ofBuffer(_hex45654);
    s.tmp_5 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_5);
    s.confetti___45643 = (s.tmp_0);
    s.tmp_0 = particles_ShapeFactory_constructor__P32199_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    r0 = pxsim_Array__getAt(s.confetti___45643, 0);
    s.tmp_0.arg3 = r0;
    s.callLocIdx = 1255; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.i___45659 = (1);
  case 1:
    s.tmp_1 = r0 = s.i___45659;
    r0 = pxsim_Array__length(s.confetti___45643);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_3 = particles_ShapeFactory_addShape__P32200_mk(s);
    s.tmp_3.arg0 = s.arg0;
    r0 = pxsim_Array__getAt(s.confetti___45643, s.i___45659);
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 1256; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    r0 = (s.i___45659 + 1);
    s.i___45659 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = (s.arg0).fields["minLifespan"] = (1000);
    r0 = (s.arg0).fields["maxLifespan"] = (4500);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ConfettiFactory_constructor__P32204.info = {"start":7755,"length":706,"line":247,"column":8,"endLine":274,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"inline","argumentNames":["this","xRange","yRange"]}

function particles_ConfettiFactory_constructor__P32204_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ConfettiFactory_constructor__P32204, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  confetti___45643: undefined,
  i___45659: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }

const _hex45646 = pxsim.BufferMethods.createBufferFromHex("87040100010000000f000000")
const _hex45648 = pxsim.BufferMethods.createBufferFromHex("8704010002000000ff000000")
const _hex45650 = pxsim.BufferMethods.createBufferFromHex("87040200010000000f0000000f000000")
const _hex45652 = pxsim.BufferMethods.createBufferFromHex("8704020002000000ff0000000f000000")
const _hex45654 = pxsim.BufferMethods.createBufferFromHex("87040200020000000f000000ff000000")




function particles_ShapeFactory_addShape__P32200(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ShapeFactory__C32198_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["sources"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ShapeFactory_addShape__P32200.info = {"start":7079,"length":83,"line":225,"column":8,"endLine":227,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"addShape","argumentNames":["this","shape"]}

function particles_ShapeFactory_addShape__P32200_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ShapeFactory_addShape__P32200, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ShapeFactory_constructor__P32199(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ShapeFactory__C32198_VT)) failedCast(r0);
    s.tmp_0 = particles_AreaFactory_constructor__P32187_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_0.arg3 = undefined;
    s.tmp_0.arg4 = undefined;
    s.callLocIdx = 1245; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg3);
    r0 = (s.arg0).fields["sources"] = (s.tmp_0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_ImageMethods.width(s.arg3);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 256);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ox"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_ImageMethods.height(s.arg3);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 256);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["oy"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ShapeFactory_constructor__P32199.info = {"start":6668,"length":285,"line":212,"column":8,"endLine":219,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"inline","argumentNames":["this","xRange","yRange","source"]}

function particles_ShapeFactory_constructor__P32199_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ShapeFactory_constructor__P32199, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function particles_AreaFactory_constructor__P32187(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_AreaFactory__C32182_VT)) failedCast(r0);
    s.tmp_0 = particles_SprayFactory_constructor__P32177_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 40;
    s.tmp_0.arg2 = 0;
    s.tmp_0.arg3 = 90;
    s.callLocIdx = 1233; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = (s.arg0).fields["xRange"] = (s.arg1);
    r0 = (s.arg0).fields["yRange"] = (s.arg2);
    r0 = pxsim_numops_toBoolDecr(s.arg3);
    if (!r0) { step = 1; continue; }
    r0 = s.arg3;
    { step = 2; continue; }
  case 1:
    r0 = 150;
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = (s.arg0).fields["minLifespan"] = (s.tmp_0);
    r0 = pxsim_numops_toBoolDecr(s.arg4);
    if (!r0) { step = 3; continue; }
    r0 = s.arg4;
    { step = 4; continue; }
  case 3:
    r0 = 850;
  case 4:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = (s.arg0).fields["maxLifespan"] = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(Math_FastRandom__C32044_VT);
    s.tmp_0 = r0;
    s.tmp_1 = Math_FastRandom_constructor__P32046_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = undefined;
    s.callLocIdx = 1234; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = (s.arg0).fields["galois"] = (s.tmp_0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_AreaFactory_constructor__P32187.info = {"start":3950,"length":374,"line":139,"column":8,"endLine":146,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"inline","argumentNames":["this","xRange","yRange","minLifespan","maxLifespan"]}

function particles_AreaFactory_constructor__P32187_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_AreaFactory_constructor__P32187, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function effects_ScreenEffect_constructor__P32252(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, effects_ScreenEffect__C32251_VT)) failedCast(r0);
    s.tmp_0 = effects_ParticleEffect_constructor__P32248_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg3;
    s.tmp_0.arg3 = s.arg4;
    s.callLocIdx = 1262; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["sceneDefaultRate"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
effects_ScreenEffect_constructor__P32252.info = {"start":2911,"length":332,"line":81,"column":8,"endLine":85,"endColumn":9,"fileName":"pxt_modules/game/particleeffects.ts","functionName":"inline","argumentNames":["this","anchorDefault","sceneDefault","defaultLifespan","sourceFactory"]}

function effects_ScreenEffect_constructor__P32252_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: effects_ScreenEffect_constructor__P32252, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function effects_ParticleEffect_constructor__P32248(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, effects_ParticleEffect__C32247_VT)) failedCast(r0);
    r0 = (s.arg0).fields["sourceFactory"] = (s.arg3);
    r0 = (s.arg0).fields["defaultRate"] = (s.arg1);
    r0 = (s.arg0).fields["defaultLifespan"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
effects_ParticleEffect_constructor__P32248.info = {"start":384,"length":364,"line":13,"column":8,"endLine":18,"endColumn":9,"fileName":"pxt_modules/game/particleeffects.ts","functionName":"inline","argumentNames":["this","defaultParticlesPerSecond","defaultLifespan","sourceFactory"]}

function effects_ParticleEffect_constructor__P32248_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: effects_ParticleEffect_constructor__P32248, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function scene_Scene_init__P31899(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Scene__C31877_VT)) failedCast(r0);
    r0 = s.arg0.fields["allSprites"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_1 = power_poke__P31166_mk(s);
    s.callLocIdx = 872; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["allSprites"] = (s.tmp_1);
    r0 = (s.arg0).fields["spriteNextId"] = (0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P45778);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = control_EventContext_registerFrameHandler__P29819_mk(s);
    r0 = s.arg0.fields["eventContext"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 8;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 875; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = control_EventContext_registerFrameHandler__P29819_mk(s);
    r0 = s.arg0.fields["eventContext"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 13;
    s.tmp_0.arg2 = controller__moveSprites__P31383;
    s.callLocIdx = 876; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P45801);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = control_EventContext_registerFrameHandler__P29819_mk(s);
    r0 = s.arg0.fields["eventContext"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 15;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 878; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P45814);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = control_EventContext_registerFrameHandler__P29819_mk(s);
    r0 = s.arg0.fields["eventContext"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 55;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 882; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P45835);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = control_EventContext_registerFrameHandler__P29819_mk(s);
    r0 = s.arg0.fields["eventContext"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 90;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 884; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P45843);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = control_EventContext_registerFrameHandler__P29819_mk(s);
    r0 = s.arg0.fields["eventContext"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 150;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 888; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    s.tmp_0 = control_EventContext_registerFrameHandler__P29819_mk(s);
    r0 = s.arg0.fields["eventContext"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 200;
    s.tmp_0.arg2 = control___screen_update__P31224;
    s.callLocIdx = 889; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P45872);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_1.arg0 = globals.scene_Scene_initializers___31897;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 891; s.pc = 12; return s.tmp_1;
  case 12:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Scene_init__P31899.info = {"start":4168,"length":2477,"line":122,"column":8,"endLine":180,"endColumn":9,"fileName":"pxt_modules/game/scene.ts","functionName":"init","argumentNames":["this"]}

function scene_Scene_init__P31899_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Scene_init__P31899, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P45778(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = r0 = s.caps[0];
    r0 = s.tmp_0.fields["_millis"];
    s.tmp_2 = r0;
    r0 = s.caps[0].fields["eventContext"];
    r0 = r0.fields["deltaTimeMillis"];
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_millis"] = (s.tmp_1);
    s.tmp_0 = controller___update__P31411_mk(s);
    r0 = s.caps[0].fields["eventContext"];
    s.tmp_1 = r0;
    r0 = s.tmp_1.fields["deltaTimeMillis"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 / 1000);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 874; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P45778.info = {"start":4458,"length":217,"line":129,"column":72,"endLine":133,"endColumn":13,"fileName":"pxt_modules/game/scene.ts","functionName":"inline","argumentNames":[]}

function inline__P45778_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P45778, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
} }





function inline__P45801(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = PhysicsEngine__C31620_v4_2_mk(s);
    r0 = s.caps[0].fields["physicsEngine"];
    s.tmp_0.arg0 = r0;
    r0 = s.caps[0].fields["eventContext"];
    s.tmp_1 = r0;
    r0 = s.tmp_1.fields["deltaTimeMillis"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 / 1000);
    s.tmp_0.arg1 = r0;
    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C31620_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.move;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P45801.info = {"start":4970,"length":159,"line":138,"column":69,"endLine":141,"endColumn":13,"fileName":"pxt_modules/game/scene.ts","functionName":"inline","argumentNames":[]}

function inline__P45801_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P45801, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function inline__P45814(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.dt___45815 = undefined;
    s.s___45823 = undefined;
    s.unnamed504___U2 = undefined;
    s.unnamed505___U3 = undefined;
    r0 = s.caps[0].fields["eventContext"];
    s.tmp_0 = r0;
    r0 = s.tmp_0.fields["deltaTimeMillis"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 / 1000);
    s.dt___45815 = (r0);
    s.tmp_0 = scene_Camera_update__P31834_mk(s);
    r0 = s.caps[0].fields["camera"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 880; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.s___45823 = (undefined);
    r0 = s.caps[0].fields["allSprites"];
    s.unnamed504___U2 = (r0);
    s.unnamed505___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed505___U3;
    r0 = pxsim_Array__length(s.unnamed504___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed504___U2, s.unnamed505___U3);
    s.s___45823 = (r0);
    s.tmp_2 = if___update_3_mk(s);
    s.tmp_2.arg0 = s.s___45823;
    r0 = s.caps[0].fields["camera"];
    s.tmp_2.arg1 = r0;
    s.tmp_2.arg2 = s.dt___45815;
    if (!s.tmp_2.arg0.vtable.iface) {
      setupLambda(s.tmp_2, pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "__update"), 3);
      s.callLocIdx = 881; s.pc = 4; return s.tmp_2;
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["__update"];
      if (s.tmp_2.fn == null) { setupLambda(s.tmp_2, s.tmp_2.arg0.fields["__update"], 3); s.callLocIdx = 881; s.pc = 4; return s.tmp_2; }
      else if (s.tmp_2.fn.isGetter) { s.tmp_2.stage2Call = true; s.callLocIdx = 881; s.pc = 4; return s.tmp_2;; }
     else { s.callLocIdx = 881; s.pc = 4; return s.tmp_2; }
    }
  case 4:
    r0 = s.retval;
    r0 = (s.unnamed505___U3 + 1);
    s.unnamed505___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed504___U2 = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P45814.info = {"start":5318,"length":214,"line":147,"column":79,"endLine":153,"endColumn":13,"fileName":"pxt_modules/game/scene.ts","functionName":"inline","argumentNames":[]}

function inline__P45814_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P45814, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  dt___45815: undefined,
  s___45823: undefined,
  unnamed504___U2: undefined,
  unnamed505___U3: undefined,
} }





function inline__P45835(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = scene_Scene_render__P31904_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 883; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P45835.info = {"start":5673,"length":109,"line":158,"column":76,"endLine":161,"endColumn":13,"fileName":"pxt_modules/game/scene.ts","functionName":"inline","argumentNames":[]}

function inline__P45835_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P45835, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P45843(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = r0 = globals.stats___31987;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = globals.control_EventContext_onStats___29814;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = lambda_2_mk(s);
    s.tmp_2.argL = globals.control_EventContext_onStats___29814;
    if ((globals.control_EventContext_lastStats___29813) && (globals.control_EventContext_lastStats___29813).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(globals.control_EventContext_lastStats___29813);
    checkResumeConsumed();
    return;
    } else { s.retval = (globals.control_EventContext_lastStats___29813) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.caps[0].fields["allSprites"];
    s.tmp_8 = r0;
    r0 = pxsim_Array__length(s.tmp_8);
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(" sprites:", s.tmp_6);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.tmp_2.arg0 = r0;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.callLocIdx = 885; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = pxsim_numops_toBoolDecr(globals.debug___31986);
    if (!r0) { step = 5; continue; }
    s.tmp_0 = PhysicsEngine__C31620_v3_1_mk(s);
    r0 = s.caps[0].fields["physicsEngine"];
    s.tmp_0.arg0 = r0;
    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C31620_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.draw;
    s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
  case 5:
  case 6:
    s.tmp_0 = game_consoleOverlay_draw__P32112_mk(s);
    s.callLocIdx = 886; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.tmp_0 = power_checkDeepSleep__P31167_mk(s);
    s.callLocIdx = 887; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P45843.info = {"start":5899,"length":504,"line":163,"column":80,"endLine":175,"endColumn":13,"fileName":"pxt_modules/game/scene.ts","functionName":"inline","argumentNames":[]}

function inline__P45843_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P45843, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
} }





function inline__P45872(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.arg0;
    s.tmp_0.arg0 = s.caps[0];
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 890; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P45872.info = {"start":6621,"length":12,"line":179,"column":39,"endLine":179,"endColumn":51,"fileName":"pxt_modules/game/scene.ts","functionName":"inline","argumentNames":["f"]}

function inline__P45872_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P45872, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function game_consoleOverlay_draw__P32112(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.height___45921 = undefined;
    s.top___45926 = undefined;
    s.i___45932 = undefined;
    s.t___45945 = undefined;
    s.tOff___45952 = undefined;
    s.tab___45954 = undefined;
    s.unnamed508___U6 = undefined;
    s.unnamed509___U7 = undefined;
    s.padding___45956 = undefined;
    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___34968);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(globals.instance___34922);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 3; continue; }
    { step = 13; continue; }
  case 3:
  case 4:
    s.tmp_7 = if_charHeight_1_mk(s);
    s.tmp_7.arg0 = globals.consoleFont___34976;
    if (!s.tmp_7.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, "charHeight");
    } else {
      s.tmp_7.fn = s.tmp_7.arg0.vtable.iface["charHeight"];
      if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields["charHeight"]; }
      else if (!s.tmp_7.fn.isGetter) { s.retval = bind(s.tmp_7); }
     else { s.callLocIdx = 1138; s.pc = 14; return s.tmp_7; }
    }
  case 14:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + 2);
    s.height___45921 = (r0);
    r0 = pxsim_numops_toBoolDecr(globals.stats___31987);
    if (!r0) { step = 5; continue; }
    r0 = s.height___45921;
    { step = 6; continue; }
  case 5:
    r0 = 0;
  case 6:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = (2 + s.tmp_0);
    s.top___45926 = (r0);
    s.i___45932 = (0);
  case 7:
    s.tmp_1 = r0 = s.i___45932;
    r0 = pxsim_Array__length(globals.consoleStrings___34968);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    r0 = pxsim_Array__getAt(globals.consoleStrings___34968, s.i___45932);
    s.tmp_5 = r0;
    r0 = pxsim_String_.indexOf(s.tmp_5, "\t", undefined);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >= 0);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 10; continue; }
    s.tmp_6 = helpers_stringSplit__P29544_mk(s);
    r0 = pxsim_Array__getAt(globals.consoleStrings___34968, s.i___45932);
    s.tmp_6.arg0 = r0;
    s.tmp_6.arg1 = "\t";
    s.tmp_6.arg2 = undefined;
    s.callLocIdx = 1139; s.pc = 15; return s.tmp_6;
  case 15:
    r0 = s.retval;
    s.t___45945 = (r0);
    s.tOff___45952 = (0);
    s.tab___45954 = (undefined);
    s.unnamed508___U6 = (s.t___45945);
    s.unnamed509___U7 = (0);
  case 8:
    s.tmp_0 = r0 = s.unnamed509___U7;
    r0 = pxsim_Array__length(s.unnamed508___U6);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_Array__getAt(s.unnamed508___U6, s.unnamed509___U7);
    s.tab___45954 = (r0);
    s.tmp_2 = r0 = globals.tabSize___34970;
    s.tmp_5 = r0 = s.tOff___45952;
    r0 = pxsim_String_.length(s.tab___45954);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 + s.tmp_6);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 % globals.tabSize___34970);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 - s.tmp_3);
    s.padding___45956 = (r0);
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_0.arg1 = s.tab___45954;
    s.tmp_2 = r0 = s.tOff___45952;
    s.tmp_4 = if_charWidth_1_mk(s);
    s.tmp_4.arg0 = globals.consoleFont___34976;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "charWidth");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["charWidth"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["charWidth"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 1140; s.pc = 17; return s.tmp_4; }
    }
  case 17:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 * s.tmp_3);
    s.tmp_1 = r0;
    r0 = (4 + s.tmp_1);
    s.tmp_0.arg2 = r0;
    s.tmp_5 = r0 = s.top___45926;
    r0 = (s.i___45932 * s.height___45921);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 + s.tmp_6);
    s.tmp_0.arg3 = r0;
    s.tmp_0.arg4 = globals.consoleColor___34967;
    s.tmp_0.arg5 = globals.consoleFont___34976;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 1141; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    s.tmp_0 = r0 = s.tOff___45952;
    r0 = pxsim_String_.length(s.tab___45954);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.padding___45956);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.tOff___45952 = (r0);
    r0 = (s.unnamed509___U7 + 1);
    s.unnamed509___U7 = (r0);
    { step = 8; continue; }
  case 9:
    s.unnamed508___U6 = (undefined);
    { step = 11; continue; }
  case 10:
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    r0 = pxsim_Array__getAt(globals.consoleStrings___34968, s.i___45932);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = 4;
    s.tmp_1 = r0 = s.top___45926;
    r0 = (s.i___45932 * s.height___45921);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.tmp_0.arg3 = r0;
    s.tmp_0.arg4 = globals.consoleColor___34967;
    s.tmp_0.arg5 = globals.consoleFont___34976;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 1142; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
  case 11:
    r0 = (s.i___45932 + 1);
    s.i___45932 = (r0);
    { step = 7; continue; }
  case 12:
  case 13:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_consoleOverlay_draw__P32112.info = {"start":1364,"length":859,"line":44,"column":4,"endLine":61,"endColumn":5,"fileName":"pxt_modules/game/console.ts","functionName":"draw","argumentNames":[]}

function game_consoleOverlay_draw__P32112_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_consoleOverlay_draw__P32112, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  height___45921: undefined,
  top___45926: undefined,
  i___45932: undefined,
  t___45945: undefined,
  tOff___45952: undefined,
  tab___45954: undefined,
  unnamed508___U6: undefined,
  unnamed509___U7: undefined,
  padding___45956: undefined,
} }





function scene_systemMenu_isVisible__P32093(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.instance___34922);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_isVisible__P32093.info = {"start":13055,"length":62,"line":392,"column":4,"endLine":394,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"isVisible","argumentNames":[]}

function scene_systemMenu_isVisible__P32093_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_isVisible__P32093, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function helpers_imagePrint__P31221(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.x0___47987 = undefined;
    s.cp___47989 = undefined;
    s.mult___47990 = undefined;
    s.dataW___47995 = undefined;
    s.dataH___48001 = undefined;
    s.byteHeight___48007 = undefined;
    s.charSize___48013 = undefined;
    s.dataSize___48017 = undefined;
    s.fontdata___48021 = undefined;
    s.lastchar___48024 = undefined;
    s.imgBuf___48031 = undefined;
    s.xOffset___48055 = undefined;
    s.yOffset___48056 = undefined;
    s.ch___48071 = undefined;
    s.l___48090 = undefined;
    s.r___48091 = undefined;
    s.off___48093 = undefined;
    s.guess___48094 = undefined;
    s.m___48113 = undefined;
    s.v___48122 = undefined;
    s.i___48178 = undefined;
    s.j___48183 = undefined;
    s.mask___48184 = undefined;
    s.c___48185 = undefined;
    s.n___48202 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.arg6 = (s.lambdaArgs[6]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg2 | 0);
    s.arg2 = (r0);
    r0 = (s.arg3 | 0);
    s.arg3 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg5);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = image_getFontForText__P31208_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 189; s.pc = 39; return s.tmp_2;
  case 39:
    r0 = s.retval;
    s.arg5 = (r0);
  case 1:
  case 2:
    r0 = pxsim_numops_toBoolDecr(s.arg4);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.arg4 = (1);
  case 3:
  case 4:
    s.x0___47987 = (s.arg2);
    s.cp___47989 = (0);
    s.tmp_1 = if_multiplier_1_mk(s);
    s.tmp_1.arg0 = s.arg5;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "multiplier");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["multiplier"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["multiplier"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 190; s.pc = 40; return s.tmp_1; }
    }
  case 40:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = if_multiplier_1_mk(s);
    s.tmp_2.arg0 = s.arg5;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "multiplier");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["multiplier"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["multiplier"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 191; s.pc = 41; return s.tmp_2; }
    }
  case 41:
    r0 = s.retval;
    { step = 6; continue; }
  case 5:
    r0 = 1;
  case 6:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.mult___47990 = (s.tmp_3);
    s.tmp_1 = if_charWidth_1_mk(s);
    s.tmp_1.arg0 = s.arg5;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "charWidth");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["charWidth"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["charWidth"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 192; s.pc = 42; return s.tmp_1; }
    }
  case 42:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_0, s.mult___47990);
    s.dataW___47995 = (r0);
    s.tmp_1 = if_charHeight_1_mk(s);
    s.tmp_1.arg0 = s.arg5;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "charHeight");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["charHeight"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["charHeight"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 193; s.pc = 43; return s.tmp_1; }
    }
  case 43:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_0, s.mult___47990);
    s.dataH___48001 = (r0);
    r0 = (s.dataH___48001 + 7);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 3);
    s.byteHeight___48007 = (r0);
    r0 = (s.byteHeight___48007 * s.dataW___47995);
    s.charSize___48013 = (r0);
    r0 = (2 + s.charSize___48013);
    s.dataSize___48017 = (r0);
    s.tmp_0 = if_data_1_mk(s);
    s.tmp_0.arg0 = s.arg5;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "data");
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["data"];
      if (s.tmp_0.fn == null) { s.retval = s.tmp_0.arg0.fields["data"]; }
      else if (!s.tmp_0.fn.isGetter) { s.retval = bind(s.tmp_0); }
     else { s.callLocIdx = 194; s.pc = 44; return s.tmp_0; }
    }
  case 44:
    r0 = s.retval;
    s.fontdata___48021 = (r0);
    r0 = pxsim.BufferMethods.length(s.fontdata___48021);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_1, s.dataSize___48017);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - 1);
    s.lastchar___48024 = (r0);
    r0 = (s.mult___47990 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = (8 + s.charSize___48013);
    s.tmp_1 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_1);
    s.imgBuf___48031 = (r0);
    r0 = pxsim.BufferMethods.setByte(s.imgBuf___48031, 0, 135);
    r0 = pxsim.BufferMethods.setByte(s.imgBuf___48031, 1, 1);
    r0 = pxsim.BufferMethods.setByte(s.imgBuf___48031, 2, s.dataW___47995);
    r0 = pxsim.BufferMethods.setByte(s.imgBuf___48031, 4, s.dataH___48001);
  case 7:
  case 8:
  case 9:
    s.tmp_1 = r0 = s.cp___47989;
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 38; continue; }
    s.xOffset___48055 = (0);
    s.yOffset___48056 = (0);
    s.tmp_0 = r0 = s.arg6;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = s.tmp_0;
    { step = 11; continue; }
  case 10:
    s.tmp_1 = r0 = s.cp___47989;
    r0 = pxsim_Array__length(s.arg6);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
  case 11:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 12; continue; }
    s.tmp_4 = if_xOffset_1_mk(s);
    r0 = pxsim_Array__getAt(s.arg6, s.cp___47989);
    s.tmp_4.arg0 = r0;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "xOffset");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["xOffset"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["xOffset"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 195; s.pc = 45; return s.tmp_4; }
    }
  case 45:
    r0 = s.retval;
    s.xOffset___48055 = (r0);
    s.tmp_0 = if_yOffset_1_mk(s);
    r0 = pxsim_Array__getAt(s.arg6, s.cp___47989);
    s.tmp_0.arg0 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "yOffset");
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["yOffset"];
      if (s.tmp_0.fn == null) { s.retval = s.tmp_0.arg0.fields["yOffset"]; }
      else if (!s.tmp_0.fn.isGetter) { s.retval = bind(s.tmp_0); }
     else { s.callLocIdx = 196; s.pc = 46; return s.tmp_0; }
    }
  case 46:
    r0 = s.retval;
    s.yOffset___48056 = (r0);
  case 12:
  case 13:
    s.tmp_0 = r0 = s.cp___47989;
    r0 = (s.tmp_0 + 1);
    s.cp___47989 = (r0);
    r0 = pxsim_String_.charCodeAt(s.arg1, s.tmp_0);
    s.ch___48071 = (r0);
    r0 = (s.ch___48071 == 10);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tmp_1 = r0 = s.arg3;
    s.tmp_4 = if_charHeight_1_mk(s);
    s.tmp_4.arg0 = s.arg5;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "charHeight");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["charHeight"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["charHeight"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 197; s.pc = 47; return s.tmp_4; }
    }
  case 47:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 2);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.arg3 = (r0);
    s.arg2 = (s.x0___47987);
  case 14:
  case 15:
    r0 = (s.ch___48071 < 32);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 16; continue; }
    { step = 9; continue; }
  case 16:
  case 17:
    s.l___48090 = (0);
    s.r___48091 = (s.lastchar___48024);
    s.off___48093 = (0);
    r0 = (s.ch___48071 - 32);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 * s.dataSize___48017);
    s.guess___48094 = (r0);
    r0 = pxsim.BufferMethods.getNumber(s.fontdata___48021, 4, s.guess___48094);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.ch___48071);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 18; continue; }
    s.off___48093 = (s.guess___48094);
    { step = 25; continue; }
  case 18:
  case 19:
    r0 = (s.l___48090 <= s.r___48091);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 24; continue; }
    s.tmp_1 = r0 = s.l___48090;
    r0 = (s.r___48091 - s.l___48090);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.m___48113 = (r0);
    s.tmp_0 = r0 = s.fontdata___48021;
    r0 = (s.m___48113 * s.dataSize___48017);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, s.tmp_1);
    s.v___48122 = (r0);
    r0 = (s.v___48122 == s.ch___48071);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    r0 = (s.m___48113 * s.dataSize___48017);
    s.off___48093 = (r0);
    { step = 24; continue; }
  case 20:
  case 21:
    r0 = (s.v___48122 < s.ch___48071);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    r0 = (s.m___48113 + 1);
    s.l___48090 = (r0);
    { step = 23; continue; }
  case 22:
    r0 = (s.m___48113 - 1);
    s.r___48091 = (r0);
  case 23:
    { step = 19; continue; }
  case 24:
  case 25:
    r0 = (s.mult___47990 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 26; continue; }
    s.tmp_1 = r0 = s.imgBuf___48031;
    s.tmp_3 = r0 = s.fontdata___48021;
    r0 = (s.off___48093 + 2);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_3, s.tmp_4, s.charSize___48013);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_1, 8, s.tmp_2);
    s.tmp_0 = helpers_imageDrawIcon__P31188_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.imgBuf___48031;
    r0 = (s.arg2 + s.xOffset___48055);
    s.tmp_0.arg2 = r0;
    r0 = (s.arg3 + s.yOffset___48056);
    s.tmp_0.arg3 = r0;
    s.tmp_0.arg4 = s.arg4;
    s.callLocIdx = 198; s.pc = 48; return s.tmp_0;
  case 48:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg2;
    s.tmp_2 = if_charWidth_1_mk(s);
    s.tmp_2.arg0 = s.arg5;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "charWidth");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["charWidth"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["charWidth"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 199; s.pc = 49; return s.tmp_2; }
    }
  case 49:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.arg2 = (r0);
    { step = 37; continue; }
  case 26:
    r0 = (s.off___48093 + 2);
    s.off___48093 = (r0);
    s.i___48178 = (0);
  case 27:
    r0 = (s.i___48178 < s.dataW___47995);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 36; continue; }
    s.j___48183 = (0);
    s.mask___48184 = (1);
    s.tmp_0 = r0 = s.off___48093;
    r0 = (s.tmp_0 + 1);
    s.off___48093 = (r0);
    r0 = pxsim.BufferMethods.getByte(s.fontdata___48021, s.tmp_0);
    s.c___48185 = (r0);
  case 28:
    r0 = (s.j___48183 < s.dataH___48001);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 35; continue; }
    r0 = (s.mask___48184 == 256);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 29; continue; }
    s.tmp_2 = r0 = s.off___48093;
    r0 = (s.tmp_2 + 1);
    s.off___48093 = (r0);
    r0 = pxsim.BufferMethods.getByte(s.fontdata___48021, s.tmp_2);
    s.c___48185 = (r0);
    s.mask___48184 = (1);
  case 29:
  case 30:
    s.n___48202 = (0);
  case 31:
    r0 = (s.c___48185 & s.mask___48184);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 32; continue; }
    r0 = (s.n___48202 + 1);
    s.n___48202 = (r0);
    r0 = (s.mask___48184 << 1);
    s.mask___48184 = (r0);
    { step = 31; continue; }
  case 32:
    r0 = pxsim_numops_toBoolDecr(s.n___48202);
    if (!r0) { step = 33; continue; }
    s.tmp_0 = helpers_imageFillRect__P31189_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = r0 = s.arg2;
    r0 = (s.xOffset___48055 * s.mult___47990);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.tmp_0.arg1 = r0;
    s.tmp_3 = r0 = s.arg3;
    r0 = (s.j___48183 + s.yOffset___48056);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 * s.mult___47990);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 + s.tmp_4);
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = s.mult___47990;
    r0 = (s.mult___47990 * s.n___48202);
    s.tmp_0.arg4 = r0;
    s.tmp_0.arg5 = s.arg4;
    s.callLocIdx = 200; s.pc = 50; return s.tmp_0;
  case 50:
    r0 = s.retval;
    r0 = (s.j___48183 + s.n___48202);
    s.j___48183 = (r0);
    { step = 34; continue; }
  case 33:
    r0 = (s.mask___48184 << 1);
    s.mask___48184 = (r0);
    r0 = (s.j___48183 + 1);
    s.j___48183 = (r0);
  case 34:
    { step = 28; continue; }
  case 35:
    r0 = (s.arg2 + s.mult___47990);
    s.arg2 = (r0);
    r0 = (s.i___48178 + 1);
    s.i___48178 = (r0);
    { step = 27; continue; }
  case 36:
  case 37:
    { step = 9; continue; }
  case 38:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_imagePrint__P31221.info = {"start":15326,"length":3300,"line":213,"column":4,"endLine":306,"endColumn":5,"fileName":"pxt_modules/screen/text.ts","functionName":"imagePrint","argumentNames":["img","text","x","y","color","font","offsets"]}

function helpers_imagePrint__P31221_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_imagePrint__P31221, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  x0___47987: undefined,
  cp___47989: undefined,
  mult___47990: undefined,
  dataW___47995: undefined,
  dataH___48001: undefined,
  byteHeight___48007: undefined,
  charSize___48013: undefined,
  dataSize___48017: undefined,
  fontdata___48021: undefined,
  lastchar___48024: undefined,
  imgBuf___48031: undefined,
  xOffset___48055: undefined,
  yOffset___48056: undefined,
  ch___48071: undefined,
  l___48090: undefined,
  r___48091: undefined,
  off___48093: undefined,
  guess___48094: undefined,
  m___48113: undefined,
  v___48122: undefined,
  i___48178: undefined,
  j___48183: undefined,
  mask___48184: undefined,
  c___48185: undefined,
  n___48202: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
  arg6: undefined,
} }





function image_getFontForText__P31208(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___47647 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.i___47647 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___47647;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_String_.charCodeAt(s.arg0, s.i___47647);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 > 8192);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 2; continue; }
    r0 = globals.font12___31207;
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___47647 + 1);
    s.i___47647 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = globals.font8___31206;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
image_getFontForText__P31208.info = {"start":11713,"length":259,"line":136,"column":4,"endLine":143,"endColumn":5,"fileName":"pxt_modules/screen/text.ts","functionName":"getFontForText","argumentNames":["text"]}

function image_getFontForText__P31208_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: image_getFontForText__P31208, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  i___47647: undefined,
  arg0: undefined,
} }





function helpers_imageFillRect__P31189(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = helpers_pack__P34422_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.tmp_2.arg1 = s.arg2;
    s.callLocIdx = 171; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_4 = helpers_pack__P34422_mk(s);
    s.tmp_4.arg0 = s.arg3;
    s.tmp_4.arg1 = s.arg4;
    s.callLocIdx = 172; s.pc = 2; return s.tmp_4;
  case 2:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods._fillRect(s.tmp_0, s.tmp_1, s.tmp_3, s.arg5);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_imageFillRect__P31189.info = {"start":3650,"length":159,"line":131,"column":4,"endLine":133,"endColumn":5,"fileName":"pxt_modules/screen/image.ts","functionName":"imageFillRect","argumentNames":["img","x","y","w","h","c"]}

function helpers_imageFillRect__P31189_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_imageFillRect__P31189, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function helpers_pack__P34422(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_2 = Math_clamp__P29549_mk(s);
    s.tmp_2.arg0 = -30000;
    s.tmp_2.arg1 = 30000;
    r0 = (s.arg0 | 0);
    s.tmp_2.arg2 = r0;
    s.callLocIdx = 168; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 65535);
    s.tmp_0 = r0;
    s.tmp_5 = Math_clamp__P29549_mk(s);
    s.tmp_5.arg0 = -30000;
    s.tmp_5.arg1 = 30000;
    r0 = (s.arg1 | 0);
    s.tmp_5.arg2 = r0;
    s.callLocIdx = 169; s.pc = 2; return s.tmp_5;
  case 2:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_4 << 16);
    s.tmp_3 = r0;
    r0 = (s.tmp_0 | s.tmp_3);
    return leave(s, r0)
  default: oops()
} } }
helpers_pack__P34422.info = {"start":3152,"length":145,"line":120,"column":4,"endLine":122,"endColumn":5,"fileName":"pxt_modules/screen/image.ts","functionName":"pack","argumentNames":["x","y"]}

function helpers_pack__P34422_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_pack__P34422, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Math_clamp__P29549(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Math_min__P29553_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_1 = Math_max__P29552_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg2;
    s.callLocIdx = 19; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 20; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
Math_clamp__P29549.info = {"start":14654,"length":130,"line":501,"column":4,"endLine":503,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"clamp","argumentNames":["min","max","value"]}

function Math_clamp__P29549_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_clamp__P29549, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Math_min__P29553(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 <= s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = s.arg1;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
Math_min__P29553.info = {"start":15790,"length":105,"line":538,"column":4,"endLine":541,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"min","argumentNames":["a","b"]}

function Math_min__P29553_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_min__P29553, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_imageDrawIcon__P31188(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.arg1;
    s.tmp_3 = helpers_pack__P34422_mk(s);
    s.tmp_3.arg0 = s.arg2;
    s.tmp_3.arg1 = s.arg3;
    s.callLocIdx = 170; s.pc = 1; return s.tmp_3;
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods._drawIcon(s.tmp_0, s.tmp_1, s.tmp_2, s.arg4);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_imageDrawIcon__P31188.info = {"start":3500,"length":145,"line":128,"column":4,"endLine":130,"endColumn":5,"fileName":"pxt_modules/screen/image.ts","functionName":"imageDrawIcon","argumentNames":["img","icon","x","y","c"]}

function helpers_imageDrawIcon__P31188_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_imageDrawIcon__P31188, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function helpers_stringSplit__P29544(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.A___41293 = undefined;
    s.lim___41295 = undefined;
    s.s___41311 = undefined;
    s.p___41314 = undefined;
    s.R___41315 = undefined;
    s.z___41329 = undefined;
    s.T___41342 = undefined;
    s.q___41343 = undefined;
    s.e___41349 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.A___41293 = (r0);
    s.lim___41295 = (0);
    r0 = (s.arg2 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (536870912 - 1);
    s.lim___41295 = (r0);
    { step = 4; continue; }
  case 1:
    r0 = (s.arg2 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.lim___41295 = (0);
    { step = 3; continue; }
  case 2:
    r0 = (s.arg2 | 0);
    s.lim___41295 = (r0);
  case 3:
  case 4:
    r0 = pxsim_String_.length(s.arg0);
    s.s___41311 = (r0);
    s.p___41314 = (0);
    s.R___41315 = (s.arg1);
    r0 = (s.lim___41295 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.A___41293;
    { step = 21; continue; }
  case 5:
  case 6:
    r0 = (s.arg1 === undefined);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_Array_.setAt(s.A___41293, 0, s.arg0);
    r0 = s.A___41293;
    { step = 21; continue; }
  case 7:
  case 8:
    r0 = (s.s___41311 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.tmp_1 = helpers_splitMatch__P34281_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = 0;
    s.tmp_1.arg2 = s.R___41315;
    s.callLocIdx = 15; s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
    s.z___41329 = (r0);
    r0 = (s.z___41329 > -1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = s.A___41293;
    { step = 21; continue; }
  case 9:
  case 10:
    r0 = pxsim_Array_.setAt(s.A___41293, 0, s.arg0);
    r0 = s.A___41293;
    { step = 21; continue; }
  case 11:
  case 12:
    s.q___41343 = (s.p___41314);
  case 13:
    r0 = (s.q___41343 != s.s___41311);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    s.tmp_1 = helpers_splitMatch__P34281_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.q___41343;
    s.tmp_1.arg2 = s.R___41315;
    s.callLocIdx = 16; s.pc = 23; return s.tmp_1;
  case 23:
    r0 = s.retval;
    s.e___41349 = (r0);
    r0 = (s.e___41349 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = (s.q___41343 + 1);
    s.q___41343 = (r0);
    { step = 19; continue; }
  case 14:
    r0 = (s.e___41349 == s.p___41314);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = (s.q___41343 + 1);
    s.q___41343 = (r0);
    { step = 18; continue; }
  case 15:
    s.tmp_0 = helpers_stringSlice__P29542_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.p___41314;
    s.tmp_0.arg2 = s.q___41343;
    s.callLocIdx = 17; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.T___41342 = (r0);
    r0 = pxsim_Array__push(s.A___41293, s.T___41342);
    r0 = pxsim_Array__length(s.A___41293);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.lim___41295);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 16; continue; }
    r0 = s.A___41293;
    { step = 21; continue; }
  case 16:
  case 17:
    s.p___41314 = (s.e___41349);
    s.q___41343 = (s.p___41314);
  case 18:
  case 19:
    { step = 13; continue; }
  case 20:
    s.tmp_0 = helpers_stringSlice__P29542_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.p___41314;
    s.tmp_0.arg2 = s.q___41343;
    s.callLocIdx = 18; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    s.T___41342 = (r0);
    r0 = pxsim_Array__push(s.A___41293, s.T___41342);
    r0 = s.A___41293;
  case 21:
    return leave(s, r0)
  default: oops()
} } }
helpers_stringSplit__P29544.info = {"start":11930,"length":1319,"line":407,"column":4,"endLine":451,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"stringSplit","argumentNames":["S","separator","limit"]}

function helpers_stringSplit__P29544_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_stringSplit__P29544, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  A___41293: undefined,
  lim___41295: undefined,
  s___41311: undefined,
  p___41314: undefined,
  R___41315: undefined,
  z___41329: undefined,
  T___41342: undefined,
  q___41343: undefined,
  e___41349: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function helpers_splitMatch__P34281(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___41394 = undefined;
    s.s___41397 = undefined;
    s.i___41407 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.length(s.arg2);
    s.r___41394 = (r0);
    r0 = pxsim_String_.length(s.arg0);
    s.s___41397 = (r0);
    r0 = (s.arg1 + s.r___41394);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > s.s___41397);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = -1;
    { step = 7; continue; }
  case 1:
  case 2:
    s.i___41407 = (0);
  case 3:
    r0 = (s.i___41407 < s.r___41394);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = (s.arg1 + s.i___41407);
    s.tmp_4 = r0;
    r0 = pxsim_String_.charAt(s.tmp_3, s.tmp_4);
    s.tmp_2 = r0;
    r0 = pxsim_String_.charAt(s.arg2, s.i___41407);
    s.tmp_5 = r0;
    r0 = (s.tmp_2 != s.tmp_5);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = -1;
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = (s.i___41407 + 1);
    s.i___41407 = (r0);
    { step = 3; continue; }
  case 6:
    r0 = (s.arg1 + s.r___41394);
  case 7:
    return leave(s, r0)
  default: oops()
} } }
helpers_splitMatch__P34281.info = {"start":13255,"length":289,"line":453,"column":4,"endLine":462,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"splitMatch","argumentNames":["S","q","R"]}

function helpers_splitMatch__P34281_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_splitMatch__P34281, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  r___41394: undefined,
  s___41397: undefined,
  i___41407: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function helpers_stringSlice__P29542(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___38583 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.length(s.arg0);
    s.len___38583 = (r0);
    r0 = (s.arg1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = Math_max__P29552_mk(s);
    r0 = (s.len___38583 + s.arg1);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 0;
    s.callLocIdx = 12; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    s.arg1 = (r0);
  case 1:
  case 2:
    r0 = (s.arg2 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.arg2 = (s.len___38583);
  case 3:
  case 4:
    r0 = (s.arg2 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = (s.len___38583 + s.arg2);
    s.arg2 = (r0);
  case 5:
  case 6:
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.arg1;
    r0 = (s.arg2 - s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_String_.substr(s.tmp_0, s.tmp_1, s.tmp_2);
    return leave(s, r0)
  default: oops()
} } }
helpers_stringSlice__P29542.info = {"start":11047,"length":365,"line":373,"column":4,"endLine":389,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"stringSlice","argumentNames":["s","start","end"]}

function helpers_stringSlice__P29542_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_stringSlice__P29542, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  len___38583: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function scene_Scene_render__P31904(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___46070 = undefined;
    s.unnamed506___U1 = undefined;
    s.unnamed507___U2 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Scene__C31877_VT)) failedCast(r0);
    r0 = s.arg0.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 11; continue; }
  case 1:
  case 2:
    s.tmp_2 = r0 = s.arg0;
    r0 = s.tmp_2.fields["flags"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | 4);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["flags"] = (s.tmp_3);
    r0 = s.arg0.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = s.arg0.fields["previousScene"];
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 5; continue; }
    s.tmp_3 = scene_Scene_render__P31904_mk(s);
    r0 = s.arg0.fields["previousScene"];
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 893; s.pc = 12; return s.tmp_3;
  case 12:
    r0 = s.retval;
    { step = 6; continue; }
  case 5:
    s.tmp_0 = scene_Background_draw__P31735_mk(s);
    r0 = s.arg0.fields["background"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 894; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
  case 6:
    r0 = s.arg0.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_2 = helpers_arraySort__P29530_mk(s);
    r0 = s.arg0.fields["allSprites"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = inline__P46047;
    s.callLocIdx = 899; s.pc = 14; return s.tmp_2;
  case 14:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["flags"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & -2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["flags"] = (s.tmp_1);
  case 7:
  case 8:
    s.s___46070 = (undefined);
    r0 = s.arg0.fields["allSprites"];
    s.unnamed506___U1 = (r0);
    s.unnamed507___U2 = (0);
  case 9:
    s.tmp_0 = r0 = s.unnamed507___U2;
    r0 = pxsim_Array__length(s.unnamed506___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 10; continue; }
    r0 = pxsim_Array__getAt(s.unnamed506___U1, s.unnamed507___U2);
    s.s___46070 = (r0);
    s.tmp_2 = if___draw_2_mk(s);
    s.tmp_2.arg0 = s.s___46070;
    r0 = s.arg0.fields["camera"];
    s.tmp_2.arg1 = r0;
    if (!s.tmp_2.arg0.vtable.iface) {
      setupLambda(s.tmp_2, pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "__draw"), 2);
      s.callLocIdx = 900; s.pc = 15; return s.tmp_2;
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["__draw"];
      if (s.tmp_2.fn == null) { setupLambda(s.tmp_2, s.tmp_2.arg0.fields["__draw"], 2); s.callLocIdx = 900; s.pc = 15; return s.tmp_2; }
      else if (s.tmp_2.fn.isGetter) { s.tmp_2.stage2Call = true; s.callLocIdx = 900; s.pc = 15; return s.tmp_2;; }
     else { s.callLocIdx = 900; s.pc = 15; return s.tmp_2; }
    }
  case 15:
    r0 = s.retval;
    r0 = (s.unnamed507___U2 + 1);
    s.unnamed507___U2 = (r0);
    { step = 9; continue; }
  case 10:
    s.unnamed506___U1 = (undefined);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["flags"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & -5);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["flags"] = (s.tmp_1);
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Scene_render__P31904.info = {"start":7844,"length":917,"line":221,"column":8,"endLine":245,"endColumn":9,"fileName":"pxt_modules/game/scene.ts","functionName":"render","argumentNames":["this"]}

function scene_Scene_render__P31904_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Scene_render__P31904, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  s___46070: undefined,
  unnamed506___U1: undefined,
  unnamed507___U2: undefined,
  arg0: undefined,
} }





function inline__P46047(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_2 = if_z_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "z");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["z"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["z"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 895; s.pc = 3; return s.tmp_2; }
    }
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_4 = if_z_1_mk(s);
    s.tmp_4.arg0 = s.arg1;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "z");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["z"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["z"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 896; s.pc = 4; return s.tmp_4; }
    }
  case 4:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_1 - s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_6 = if_id_1_mk(s);
    s.tmp_6.arg0 = s.arg0;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "id");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["id"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["id"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 897; s.pc = 5; return s.tmp_6; }
    }
  case 5:
    r0 = s.retval;
    s.tmp_5 = r0;
    s.tmp_8 = if_id_1_mk(s);
    s.tmp_8.arg0 = s.arg1;
    if (!s.tmp_8.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_8.arg0, "id");
    } else {
      s.tmp_8.fn = s.tmp_8.arg0.vtable.iface["id"];
      if (s.tmp_8.fn == null) { s.retval = s.tmp_8.arg0.fields["id"]; }
      else if (!s.tmp_8.fn.isGetter) { s.retval = bind(s.tmp_8); }
     else { s.callLocIdx = 898; s.pc = 6; return s.tmp_8; }
    }
  case 6:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = (s.tmp_5 - s.tmp_7);
  case 2:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    r0 = s.tmp_9;
    return leave(s, r0)
  default: oops()
} } }
inline__P46047.info = {"start":8422,"length":52,"line":235,"column":37,"endLine":235,"endColumn":89,"fileName":"pxt_modules/game/scene.ts","functionName":"inline","argumentNames":["a","b"]}

function inline__P46047_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P46047, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function scene_Background_draw__P31735(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Background__C31726_VT)) failedCast(r0);
    r0 = s.arg0.fields["color"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.fill(globals.screen___31263, s.tmp_0);
    r0 = s.arg0.fields["_image"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_image"];
    s.tmp_1 = r0;
    r0 = pxsim_ImageMethods.drawTransparentImage(globals.screen___31263, s.tmp_1, 0, 0);
  case 1:
  case 2:
    r0 = s.arg0.fields["_layers"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P46102);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);
    s.tmp_2 = helpers_arrayForEach__P29534_mk(s);
    r0 = s.arg0.fields["_layers"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.tmp_1;
    s.callLocIdx = 770; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Background_draw__P31735.info = {"start":1166,"length":545,"line":48,"column":8,"endLine":60,"endColumn":9,"fileName":"pxt_modules/game/background.ts","functionName":"draw","argumentNames":["this"]}

function scene_Background_draw__P31735_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Background_draw__P31735, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P46102(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ox___46104 = undefined;
    s.oy___46115 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.caps[0].fields["camera"];
    r0 = r0.fields["drawOffsetX"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["distance"];
    s.tmp_3 = r0;
    r0 = (1 + s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 / s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim.Math_.round(s.tmp_0);
    s.ox___46104 = (r0);
    r0 = s.caps[0].fields["camera"];
    r0 = r0.fields["drawOffsetY"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["distance"];
    s.tmp_3 = r0;
    r0 = (1 + s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 / s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim.Math_.round(s.tmp_0);
    s.oy___46115 = (r0);
    s.tmp_0 = scene_BackgroundLayer_draw__P31744_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.ox___46104;
    s.tmp_0.arg2 = s.oy___46115;
    s.callLocIdx = 769; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P46102.info = {"start":1373,"length":312,"line":53,"column":37,"endLine":58,"endColumn":17,"fileName":"pxt_modules/game/background.ts","functionName":"inline","argumentNames":["layer"]}

function inline__P46102_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P46102, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  ox___46104: undefined,
  oy___46115: undefined,
  arg0: undefined,
} }





function scene_BackgroundLayer_draw__P31744(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.w___46133 = undefined;
    s.h___46136 = undefined;
    s.pw___46139 = undefined;
    s.ph___46143 = undefined;
    s.rx___46152 = undefined;
    s.ry___46155 = undefined;
    s.y___46224 = undefined;
    s.py___46225 = undefined;
    s.dh___46234 = undefined;
    s.x___46242 = undefined;
    s.rxl___46243 = undefined;
    s.px___46249 = undefined;
    s.dw___46253 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_BackgroundLayer__C31736_VT)) failedCast(r0);
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.w___46133 = (r0);
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.h___46136 = (r0);
    r0 = s.arg0.fields["img"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_0);
    s.pw___46139 = (r0);
    r0 = s.arg0.fields["img"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_0);
    s.ph___46143 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.pw___46139);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.ph___46143);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 23; continue; }
  case 3:
  case 4:
    r0 = (0 - s.arg1);
    s.rx___46152 = (r0);
    r0 = (0 - s.arg2);
    s.ry___46155 = (r0);
    r0 = s.arg0.fields["alignX"];
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 5:
    s.tmp_1 = r0 = s.rx___46152;
    r0 = (s.w___46133 + s.pw___46139);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 - s.tmp_2);
    s.rx___46152 = (r0);
    { step = 7; continue; }
  case 6:
    s.tmp_0 = r0 = s.rx___46152;
    r0 = (s.w___46133 + s.pw___46139);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.rx___46152 = (r0);
  case 7:
    r0 = s.arg0.fields["alignY"];
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = s.tmp_0;
    { step = 10; continue; }
  case 8:
    s.tmp_1 = r0 = s.ry___46155;
    r0 = (s.h___46136 + s.ph___46143);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 - s.tmp_2);
    s.ry___46155 = (r0);
    { step = 10; continue; }
  case 9:
    s.tmp_0 = r0 = s.ry___46155;
    r0 = (s.h___46136 + s.ph___46143);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.ry___46155 = (r0);
  case 10:
    r0 = (s.rx___46152 % s.w___46133);
    s.rx___46152 = (r0);
    r0 = (s.rx___46152 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = (s.rx___46152 + s.w___46133);
    s.rx___46152 = (r0);
  case 11:
  case 12:
    r0 = (s.ry___46155 % s.h___46136);
    s.ry___46155 = (r0);
    r0 = (s.ry___46155 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    r0 = (s.ry___46155 + s.h___46136);
    s.ry___46155 = (r0);
  case 13:
  case 14:
    r0 = pxsim.Math_.floor(s.rx___46152);
    s.rx___46152 = (r0);
    r0 = pxsim.Math_.floor(s.ry___46155);
    s.ry___46155 = (r0);
    s.y___46224 = (0);
    s.py___46225 = (0);
  case 15:
    r0 = (s.y___46224 < s.h___46136);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    r0 = (s.y___46224 % s.ph___46143);
    s.py___46225 = (r0);
    s.tmp_0 = Math_min__P29553_mk(s);
    r0 = (s.ph___46143 - s.py___46225);
    s.tmp_0.arg0 = r0;
    r0 = (s.h___46136 - s.ry___46155);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 772; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.dh___46234 = (r0);
    s.x___46242 = (0);
    s.rxl___46243 = (s.rx___46152);
  case 16:
    r0 = (s.x___46242 < s.w___46133);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 19; continue; }
    r0 = (s.x___46242 % s.pw___46139);
    s.px___46249 = (r0);
    s.tmp_0 = Math_min__P29553_mk(s);
    r0 = (s.pw___46139 - s.px___46249);
    s.tmp_0.arg0 = r0;
    r0 = (s.w___46133 - s.rxl___46243);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 773; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    s.dw___46253 = (r0);
    r0 = s.arg0.fields["img"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.drawImage(globals.screen___31263, s.tmp_0, s.rxl___46243, s.ry___46155);
    r0 = (s.rxl___46243 + s.dw___46253);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 % s.w___46133);
    s.rxl___46243 = (r0);
    r0 = s.arg0.fields["repeatX"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 17; continue; }
    r0 = s.dw___46253;
    { step = 18; continue; }
  case 17:
    r0 = s.w___46133;
  case 18:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = (s.x___46242 + s.tmp_1);
    s.x___46242 = (r0);
    { step = 16; continue; }
  case 19:
    r0 = (s.ry___46155 + s.dh___46234);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 % s.h___46136);
    s.ry___46155 = (r0);
    r0 = s.arg0.fields["repeatY"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    r0 = s.dh___46234;
    { step = 21; continue; }
  case 20:
    r0 = s.h___46136;
  case 21:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = (s.y___46224 + s.tmp_1);
    s.y___46224 = (r0);
    { step = 15; continue; }
  case 22:
  case 23:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_BackgroundLayer_draw__P31744.info = {"start":3063,"length":1537,"line":99,"column":8,"endLine":144,"endColumn":9,"fileName":"pxt_modules/game/background.ts","functionName":"draw","argumentNames":["this","offsetX","offsetY"]}

function scene_BackgroundLayer_draw__P31744_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_BackgroundLayer_draw__P31744, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  w___46133: undefined,
  h___46136: undefined,
  pw___46139: undefined,
  ph___46143: undefined,
  rx___46152: undefined,
  ry___46155: undefined,
  y___46224: undefined,
  py___46225: undefined,
  dh___46234: undefined,
  x___46242: undefined,
  rxl___46243: undefined,
  px___46249: undefined,
  dw___46253: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function scene_Camera_update__P31834(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.elapsed___46334 = undefined;
    s.percentComplete___46348 = undefined;
    s.damp___46355 = undefined;
    s.f___46364 = undefined;
    s.x___46370 = undefined;
    s.y___46377 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Camera__C31818_VT)) failedCast(r0);
    r0 = s.arg0.fields["sprite"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = scene_Camera_offsetX__P31824_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_3 = Sprite_x__P31486_mk(s);
    r0 = s.arg0.fields["sprite"];
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 854; s.pc = 10; return s.tmp_3;
  case 10:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >> 1);
    s.tmp_4 = r0;
    r0 = (s.tmp_2 - s.tmp_4);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 855; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.tmp_0 = scene_Camera_offsetY__P31826_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_2 = Sprite_y__P31488_mk(s);
    r0 = s.arg0.fields["sprite"];
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 856; s.pc = 12; return s.tmp_2;
  case 12:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >> 1);
    s.tmp_3 = r0;
    r0 = (s.tmp_1 - s.tmp_3);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 857; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
  case 1:
  case 2:
    s.tmp_0 = scene_Camera_offsetX__P31824_mk(s);
    s.tmp_1 = r0 = s.arg0;
    s.tmp_0.arg0 = r0;
    r0 = s.tmp_1.fields["_offsetX"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 859; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    s.tmp_0 = scene_Camera_offsetY__P31826_mk(s);
    s.tmp_1 = r0 = s.arg0;
    s.tmp_0.arg0 = r0;
    r0 = s.tmp_1.fields["_offsetY"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 861; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["_offsetX"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["drawOffsetX"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["_offsetY"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["drawOffsetY"] = (s.tmp_1);
    r0 = s.arg0.fields["shakeStartTime"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = pxsim.control.millis();
    s.tmp_2 = r0;
    r0 = s.arg0.fields["shakeStartTime"];
    s.tmp_3 = r0;
    r0 = (s.tmp_2 - s.tmp_3);
    s.elapsed___46334 = (r0);
    r0 = s.arg0.fields["shakeDuration"];
    s.tmp_1 = r0;
    r0 = (s.elapsed___46334 >= s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = (s.arg0).fields["shakeStartTime"] = (undefined);
    { step = 6; continue; }
  case 3:
    r0 = s.arg0.fields["shakeDuration"];
    s.tmp_0 = r0;
    r0 = (s.elapsed___46334 / s.tmp_0);
    s.percentComplete___46348 = (r0);
    s.damp___46355 = (1);
    r0 = (s.percentComplete___46348 >= 0.75);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_1 = Math_max__P29552_mk(s);
    s.tmp_1.arg0 = 0;
    r0 = (1 - s.percentComplete___46348);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 864; s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
    s.damp___46355 = (r0);
  case 4:
  case 5:
    r0 = s.arg0.fields["shakeAmplitude"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 * s.damp___46355);
    s.f___46364 = (r0);
    r0 = pxsim.Math_.random();
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * s.f___46364);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 0);
    s.x___46370 = (r0);
    r0 = pxsim.Math_.random();
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * s.f___46364);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 0);
    s.y___46377 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["drawOffsetX"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.x___46370);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["drawOffsetX"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["drawOffsetY"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.y___46377);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["drawOffsetY"] = (s.tmp_1);
  case 6:
  case 7:
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Camera_update__P31834.info = {"start":2297,"length":1397,"line":77,"column":8,"endLine":112,"endColumn":9,"fileName":"pxt_modules/game/camera.ts","functionName":"update","argumentNames":["this"]}

function scene_Camera_update__P31834_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Camera_update__P31834, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  elapsed___46334: undefined,
  percentComplete___46348: undefined,
  damp___46355: undefined,
  f___46364: undefined,
  x___46370: undefined,
  y___46377: undefined,
  arg0: undefined,
} }





function scene_Camera_offsetY__P31826(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.scene___46412 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Camera__C31818_VT)) failedCast(r0);
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 851; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.scene___46412 = (r0);
    r0 = s.scene___46412.fields["tileMap"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.scene___46412.fields["tileMap"];
    s.tmp_1 = r0;
    r0 = s.tmp_1.fields["_map"];
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 3; continue; }
    s.tmp_7 = r0 = s.arg0;
    s.tmp_9 = tiles_TileMap_offsetY__P31783_mk(s);
    r0 = s.scene___46412.fields["tileMap"];
    s.tmp_9.arg0 = r0;
    s.tmp_9.arg1 = s.arg1;
    s.callLocIdx = 853; s.pc = 6; return s.tmp_9;
  case 6:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = (s.tmp_7).fields["_offsetY"] = (s.tmp_8);
    { step = 4; continue; }
  case 3:
    r0 = (s.arg0).fields["_offsetY"] = (s.arg1);
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Camera_offsetY__P31826.info = {"start":1034,"length":267,"line":37,"column":8,"endLine":44,"endColumn":9,"fileName":"pxt_modules/game/camera.ts","functionName":"offsetY","argumentNames":["this","v"]}

function scene_Camera_offsetY__P31826_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Camera_offsetY__P31826, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  scene___46412: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function tiles_TileMap_enabled__P31788(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = s.arg0.fields["_map"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_TileMap_enabled__P31788.info = {"start":7107,"length":66,"line":261,"column":8,"endLine":263,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"enabled","argumentNames":["this"]}
tiles_TileMap_enabled__P31788.isGetter = true;

function tiles_TileMap_enabled__P31788_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_enabled__P31788, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function tiles_TileMap_offsetY__P31783(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    s.tmp_0 = Math_clamp__P29549_mk(s);
    s.tmp_0.arg0 = 0;
    s.tmp_1 = Math_max__P29552_mk(s);
    s.tmp_3 = tiles_TileMap_areaHeight__P31785_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 790; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.tmp_4 = r0;
    r0 = (s.tmp_2 - s.tmp_4);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 0;
    s.callLocIdx = 791; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 792; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_offsetY__P31783.info = {"start":6560,"length":123,"line":239,"column":8,"endLine":241,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"offsetY","argumentNames":["this","value"]}

function tiles_TileMap_offsetY__P31783_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_offsetY__P31783, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function tiles_TileMap_areaHeight__P31785(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = s.arg0.fields["_map"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_map"];
    s.tmp_2 = r0;
    r0 = s.tmp_2.fields["_height"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_3 = r0;
    r0 = (s.tmp_1 << s.tmp_3);
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_areaHeight__P31785.info = {"start":6794,"length":93,"line":247,"column":8,"endLine":249,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"areaHeight","argumentNames":["this"]}

function tiles_TileMap_areaHeight__P31785_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_areaHeight__P31785, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function tiles_TileMap_scale__P31780(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = s.arg0.fields["_scale"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_TileMap_scale__P31780.info = {"start":6125,"length":55,"line":220,"column":8,"endLine":222,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"scale","argumentNames":["this"]}
tiles_TileMap_scale__P31780.isGetter = true;

function tiles_TileMap_scale__P31780_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_scale__P31780, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function tiles_TileMapData_height__P31768(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMapData__C31765_VT)) failedCast(r0);
    r0 = s.arg0.fields["_height"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_TileMapData_height__P31768.info = {"start":3734,"length":65,"line":139,"column":8,"endLine":141,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"height","argumentNames":["this"]}
tiles_TileMapData_height__P31768.isGetter = true;

function tiles_TileMapData_height__P31768_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMapData_height__P31768, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function scene_Camera_offsetY__P31825(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Camera__C31818_VT)) failedCast(r0);
    r0 = s.arg0.fields["_offsetY"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
scene_Camera_offsetY__P31825.info = {"start":966,"length":59,"line":34,"column":8,"endLine":36,"endColumn":9,"fileName":"pxt_modules/game/camera.ts","functionName":"offsetY","argumentNames":["this"]}
scene_Camera_offsetY__P31825.isGetter = true;

function scene_Camera_offsetY__P31825_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Camera_offsetY__P31825, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function scene_Camera_offsetX__P31824(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.scene___46479 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Camera__C31818_VT)) failedCast(r0);
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 848; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.scene___46479 = (r0);
    r0 = s.scene___46479.fields["tileMap"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.scene___46479.fields["tileMap"];
    s.tmp_1 = r0;
    r0 = s.tmp_1.fields["_map"];
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 3; continue; }
    s.tmp_7 = r0 = s.arg0;
    s.tmp_9 = tiles_TileMap_offsetX__P31782_mk(s);
    r0 = s.scene___46479.fields["tileMap"];
    s.tmp_9.arg0 = r0;
    s.tmp_9.arg1 = s.arg1;
    s.callLocIdx = 850; s.pc = 6; return s.tmp_9;
  case 6:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = (s.tmp_7).fields["_offsetX"] = (s.tmp_8);
    { step = 4; continue; }
  case 3:
    r0 = (s.arg0).fields["_offsetX"] = (s.arg1);
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Camera_offsetX__P31824.info = {"start":690,"length":267,"line":26,"column":8,"endLine":33,"endColumn":9,"fileName":"pxt_modules/game/camera.ts","functionName":"offsetX","argumentNames":["this","v"]}

function scene_Camera_offsetX__P31824_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Camera_offsetX__P31824, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  scene___46479: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function tiles_TileMap_offsetX__P31782(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    s.tmp_0 = Math_clamp__P29549_mk(s);
    s.tmp_0.arg0 = 0;
    s.tmp_1 = Math_max__P29552_mk(s);
    s.tmp_3 = tiles_TileMap_areaWidth__P31784_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 787; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_4 = r0;
    r0 = (s.tmp_2 - s.tmp_4);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 0;
    s.callLocIdx = 788; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 789; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_offsetX__P31782.info = {"start":6429,"length":121,"line":235,"column":8,"endLine":237,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"offsetX","argumentNames":["this","value"]}

function tiles_TileMap_offsetX__P31782_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_offsetX__P31782, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function tiles_TileMap_areaWidth__P31784(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = s.arg0.fields["_map"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_map"];
    s.tmp_2 = r0;
    r0 = s.tmp_2.fields["_width"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_3 = r0;
    r0 = (s.tmp_1 << s.tmp_3);
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_areaWidth__P31784.info = {"start":6693,"length":91,"line":243,"column":8,"endLine":245,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"areaWidth","argumentNames":["this"]}

function tiles_TileMap_areaWidth__P31784_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_areaWidth__P31784, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function tiles_TileMapData_width__P31767(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMapData__C31765_VT)) failedCast(r0);
    r0 = s.arg0.fields["_width"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_TileMapData_width__P31767.info = {"start":3661,"length":63,"line":135,"column":8,"endLine":137,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"width","argumentNames":["this"]}
tiles_TileMapData_width__P31767.isGetter = true;

function tiles_TileMapData_width__P31767_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMapData_width__P31767, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function scene_Camera_offsetX__P31823(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Camera__C31818_VT)) failedCast(r0);
    r0 = s.arg0.fields["_offsetX"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
scene_Camera_offsetX__P31823.info = {"start":622,"length":59,"line":23,"column":8,"endLine":25,"endColumn":9,"fileName":"pxt_modules/game/camera.ts","functionName":"offsetX","argumentNames":["this"]}
scene_Camera_offsetX__P31823.isGetter = true;

function scene_Camera_offsetX__P31823_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Camera_offsetX__P31823, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function Sprite_y__P31488(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_y"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 / 256);
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_image"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 / 2);
    s.tmp_2 = r0;
    r0 = (s.tmp_0 + s.tmp_2);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_y__P31488.info = {"start":1849,"length":85,"line":81,"column":4,"endLine":83,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"y","argumentNames":["this"]}
Sprite_y__P31488.isGetter = true;

function Sprite_y__P31488_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_y__P31488, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function Fx_toFloat__P29593(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 / 256);
    return leave(s, r0)
  default: oops()
} } }
Fx_toFloat__P29593.info = {"start":2235,"length":81,"line":71,"column":4,"endLine":73,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"toFloat","argumentNames":["v"]}

function Fx_toFloat__P29593_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_toFloat__P29593, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function Sprite_x__P31486(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_x"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 / 256);
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_image"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 / 2);
    s.tmp_2 = r0;
    r0 = (s.tmp_0 + s.tmp_2);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_x__P31486.info = {"start":1501,"length":84,"line":70,"column":4,"endLine":72,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"x","argumentNames":["this"]}
Sprite_x__P31486.isGetter = true;

function Sprite_x__P31486_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_x__P31486, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function PhysicsEngine_move__P31626(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, PhysicsEngine__C31620_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
PhysicsEngine_move__P31626.info = {"start":351,"length":20,"line":18,"column":4,"endLine":18,"endColumn":24,"fileName":"pxt_modules/game/physics.ts","functionName":"move","argumentNames":["this","dt"]}

function PhysicsEngine_move__P31626_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: PhysicsEngine_move__P31626, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function PhysicsEngine_draw__P31625(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, PhysicsEngine__C31620_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
PhysicsEngine_draw__P31625.info = {"start":279,"length":10,"line":15,"column":4,"endLine":15,"endColumn":14,"fileName":"pxt_modules/game/physics.ts","functionName":"draw","argumentNames":["this"]}

function PhysicsEngine_draw__P31625_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: PhysicsEngine_draw__P31625, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function controller___update__P31411(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.dtms___46835 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 * 1000);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 | 0);
    s.dtms___46835 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P46842);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.dtms___46835);
    s.tmp_1 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_2 = controller_players__P31379_mk(s);
    s.callLocIdx = 286; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 288; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller___update__P31411.info = {"start":17961,"length":137,"line":550,"column":4,"endLine":553,"endColumn":5,"fileName":"pxt_modules/game/controller.ts","functionName":"__update","argumentNames":["dt"]}

function controller___update__P31411_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller___update__P31411, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  dtms___46835: undefined,
  arg0: undefined,
} }





function inline__P46842(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = controller_Controller___update__P31409_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.caps[0];
    s.callLocIdx = 287; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P46842.info = {"start":18063,"length":27,"line":552,"column":26,"endLine":552,"endColumn":53,"fileName":"pxt_modules/game/controller.ts","functionName":"inline","argumentNames":["ctrl"]}

function inline__P46842_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P46842, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function controller_Controller___update__P31409(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    r0 = pxsim_pxtrt.mklocRef();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.arg1);
    s.arg1 = (s.tmp_0);
    s.tmp_1 = r0 = s.arg1;
    r0 = pxsim_pxtrt_ldlocRef(s.arg1);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 | 0);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_1, s.tmp_2);
    r0 = pxsim_pxtcore_mkAction(1, inline__P46855);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);
    s.tmp_1 = helpers_arrayForEach__P29534_mk(s);
    r0 = s.arg0.fields["buttons"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 285; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Controller___update__P31409.info = {"start":17439,"length":124,"line":532,"column":8,"endLine":535,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"__update","argumentNames":["this","dtms"]}

function controller_Controller___update__P31409_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller___update__P31409, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P46855(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = controller_Button___update__P31376_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 284; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P46855.info = {"start":17526,"length":25,"line":534,"column":33,"endLine":534,"endColumn":58,"fileName":"pxt_modules/game/controller.ts","functionName":"inline","argumentNames":["btn"]}

function inline__P46855_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P46855, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function controller_Button___update__P31376(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.delay___46871 = undefined;
    s.interval___46880 = undefined;
    s.count___46893 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Button__C31364_VT)) failedCast(r0);
    r0 = s.arg0.fields["_pressed"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 11; continue; }
  case 1:
  case 2:
    s.tmp_3 = r0 = s.arg0;
    r0 = s.tmp_3.fields["_pressedElasped"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 + s.arg1);
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["_pressedElasped"] = (s.tmp_4);
    r0 = s.arg0.fields["repeatDelay"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = globals.defaultRepeatDelay___34501;
    { step = 4; continue; }
  case 3:
    r0 = s.arg0.fields["repeatDelay"];
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.delay___46871 = (s.tmp_2);
    r0 = s.arg0.fields["repeatInterval"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = globals.defaultRepeatInterval___34503;
    { step = 6; continue; }
  case 5:
    r0 = s.arg0.fields["repeatInterval"];
  case 6:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.interval___46880 = (s.tmp_2);
    r0 = s.arg0.fields["_pressedElasped"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < s.delay___46871);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    { step = 11; continue; }
  case 7:
  case 8:
    r0 = s.arg0.fields["_pressedElasped"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 - s.delay___46871);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - s.interval___46880);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 / s.interval___46880);
    s.tmp_2 = r0;
    r0 = pxsim.Math_.floor(s.tmp_2);
    s.count___46893 = (r0);
    r0 = s.arg0.fields["_repeatCount"];
    s.tmp_1 = r0;
    r0 = (s.count___46893 != s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tmp_2 = controller_Button_raiseButtonRepeat__P34508_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 242; s.pc = 12; return s.tmp_2;
  case 12:
    r0 = s.retval;
    r0 = (s.arg0).fields["_repeatCount"] = (s.count___46893);
  case 9:
  case 10:
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Button___update__P31376.info = {"start":5117,"length":704,"line":164,"column":8,"endLine":181,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"__update","argumentNames":["this","dtms"]}

function controller_Button___update__P31376_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Button___update__P31376, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  delay___46871: undefined,
  interval___46880: undefined,
  count___46893: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function controller_Button_raiseButtonRepeat__P34508(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Button__C31364_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(globals._userEventsEnabled___34499);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["id"];
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2054, s.tmp_0);
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["id"];
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2055, s.tmp_0);
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Button_raiseButtonRepeat__P34508.info = {"start":2887,"length":211,"line":99,"column":8,"endLine":104,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"raiseButtonRepeat","argumentNames":["this"]}

function controller_Button_raiseButtonRepeat__P34508_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Button_raiseButtonRepeat__P34508, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function controller_players__P31379(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = controller__player1__P31378_mk(s);
    s.callLocIdx = 245; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_0.arg0 = globals._players___34512;
    s.tmp_0.arg1 = inline__P46730;
    s.callLocIdx = 246; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
controller_players__P31379.info = {"start":7040,"length":144,"line":220,"column":4,"endLine":223,"endColumn":5,"fileName":"pxt_modules/game/controller.ts","functionName":"players","argumentNames":[]}

function controller_players__P31379_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_players__P31379, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P46730(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
inline__P46730.info = {"start":7162,"length":14,"line":222,"column":31,"endLine":222,"endColumn":45,"fileName":"pxt_modules/game/controller.ts","functionName":"inline","argumentNames":["ctrl"]}

function inline__P46730_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P46730, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function controller__player1__P31378(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals._players___34512);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__getAt(globals._players___34512, 0);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(controller_Controller__C31384_VT);
    s.tmp_5 = r0;
    r0 = pxsim_Array__mk();
    s.tmp_6 = r0;
    r0 = pxsim_Array__push(s.tmp_6, globals.left___31340);
    r0 = pxsim_Array__push(s.tmp_6, globals.up___31341);
    r0 = pxsim_Array__push(s.tmp_6, globals.right___31342);
    r0 = pxsim_Array__push(s.tmp_6, globals.down___31343);
    r0 = pxsim_Array__push(s.tmp_6, globals.A___31338);
    r0 = pxsim_Array__push(s.tmp_6, globals.B___31339);
    r0 = pxsim_Array__push(s.tmp_6, globals.menu___31344);
    s.tmp_7 = controller_Controller_constructor__P31388_mk(s);
    s.tmp_7.arg0 = s.tmp_5;
    s.tmp_7.arg1 = 1;
    s.tmp_7.arg2 = s.tmp_6;
    s.callLocIdx = 244; s.pc = 5; return s.tmp_7;
  case 5:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = pxsim_Array__getAt(globals._players___34512, 0);
    return leave(s, r0)
  default: oops()
} } }
controller__player1__P31378.info = {"start":6776,"length":258,"line":214,"column":4,"endLine":218,"endColumn":5,"fileName":"pxt_modules/game/controller.ts","functionName":"_player1","argumentNames":[]}

function controller__player1__P31378_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller__player1__P31378, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
} }





function controller_Controller_constructor__P31388(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.leftId___46777 = undefined;
    s.i___46785 = undefined;
    s.i___46803 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.allocateNotifyEvent();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_id"] = (s.tmp_1);
    r0 = (s.arg0).fields["_connected"] = (false);
    r0 = (s.arg0).fields["playerIndex"] = (s.arg1);
    r0 = (s.arg0).fields["analog"] = (false);
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["buttons"] = (s.arg2);
    { step = 4; continue; }
  case 1:
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["buttons"] = (s.tmp_1);
    r0 = s.arg0.fields["playerIndex"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * 7);
    s.tmp_0 = r0;
    r0 = (1 + s.tmp_0);
    s.leftId___46777 = (r0);
    s.i___46785 = (0);
  case 2:
    r0 = (s.i___46785 < 7);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(controller_Button__C31364_VT);
    s.tmp_1 = r0;
    s.tmp_2 = controller_Button_constructor__P31370_mk(s);
    s.tmp_2.arg0 = s.tmp_1;
    r0 = (s.leftId___46777 + s.i___46785);
    s.tmp_2.arg1 = r0;
    s.tmp_2.arg2 = -1;
    s.callLocIdx = 250; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    r0 = s.arg0.fields["buttons"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.tmp_1);
    r0 = (s.i___46785 + 1);
    s.i___46785 = (r0);
    { step = 2; continue; }
  case 3:
  case 4:
    s.i___46803 = (0);
  case 5:
    s.tmp_1 = r0 = s.i___46803;
    r0 = s.arg0.fields["buttons"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.arg0.fields["buttons"];
    s.tmp_5 = r0;
    r0 = pxsim_Array__getAt(s.tmp_5, s.i___46803);
    s.tmp_4 = r0;
    r0 = (s.tmp_4).fields["_owner"] = (s.arg0);
    r0 = (s.i___46803 + 1);
    s.i___46803 = (r0);
    { step = 5; continue; }
  case 6:
    s.tmp_0 = controller_addController__P34513_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 251; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Controller_constructor__P31388.info = {"start":7849,"length":696,"line":249,"column":8,"endLine":266,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"inline","argumentNames":["this","playerIndex","buttons"]}

function controller_Controller_constructor__P31388_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller_constructor__P31388, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  leftId___46777: undefined,
  i___46785: undefined,
  i___46803: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function controller_addController__P34513(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals._players___34512);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals._players___34512 = (r0);
  case 1:
  case 2:
    s.tmp_0 = r0 = globals._players___34512;
    r0 = s.arg0.fields["playerIndex"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_0, s.tmp_1, s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_addController__P34513.info = {"start":6613,"length":157,"line":207,"column":4,"endLine":212,"endColumn":5,"fileName":"pxt_modules/game/controller.ts","functionName":"addController","argumentNames":["ctrl"]}

function controller_addController__P34513_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_addController__P34513, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function helpers_arrayFilter__P29535(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___42049 = undefined;
    s.len___42051 = undefined;
    s.i___42054 = undefined;
    s.v___42059 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___42049 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___42051 = (r0);
    s.i___42054 = (0);
  case 1:
    r0 = (s.i___42054 < s.len___42051);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.arg0, s.i___42054);
    s.v___42059 = (r0);
    s.tmp_1 = lambda_3_mk(s);
    s.tmp_1.argL = s.arg1;
    s.tmp_1.arg0 = s.v___42059;
    s.tmp_1.arg1 = s.i___42054;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.callLocIdx = 8; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__push(s.res___42049, s.v___42059);
  case 2:
  case 3:
    r0 = (s.i___42054 + 1);
    s.i___42054 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = s.res___42049;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayFilter__P29535.info = {"start":7695,"length":317,"line":261,"column":4,"endLine":269,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayFilter","argumentNames":["arr","callbackfn"]}

function helpers_arrayFilter__P29535_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayFilter__P29535, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  res___42049: undefined,
  len___42051: undefined,
  i___42054: undefined,
  v___42059: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function controller__moveSprites__P31383(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_1 = controller_players__P31379_mk(s);
    s.callLocIdx = 247; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = inline__P46529;
    s.callLocIdx = 249; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller__moveSprites__P31383.info = {"start":7400,"length":182,"line":234,"column":4,"endLine":238,"endColumn":5,"fileName":"pxt_modules/game/controller.ts","functionName":"_moveSprites","argumentNames":[]}

function controller__moveSprites__P31383_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller__moveSprites__P31383, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function inline__P46529(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = controller_Controller___preUpdate__P31408_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 248; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P46529.info = {"start":7548,"length":26,"line":237,"column":26,"endLine":237,"endColumn":52,"fileName":"pxt_modules/game/controller.ts","functionName":"inline","argumentNames":["ctrl"]}

function inline__P46529_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P46529, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function controller_Controller___preUpdate__P31408(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.deadSprites___46536 = undefined;
    s.svx___46537 = undefined;
    s.svy___46538 = undefined;
    s.svxInCricle___46573 = undefined;
    s.svyInCircle___46575 = undefined;
    s.sq___46577 = undefined;
    s.scale___46592 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    s.tmp_3 = controller_Controller__controlledSprites__P31389_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 259; s.pc = 18; return s.tmp_3;
  case 18:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 17; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtrt.mklocRef();
    s.deadSprites___46536 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.deadSprites___46536, false);
    r0 = pxsim_pxtrt.mklocRef();
    s.svx___46537 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.svx___46537, 0);
    r0 = pxsim_pxtrt.mklocRef();
    s.svy___46538 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.svy___46538, 0);
    r0 = s.arg0.fields["analog"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = r0 = s.svx___46537;
    s.tmp_5 = controller_Button_pressureLevel__P31374_mk(s);
    s.tmp_6 = controller_Controller_right__P31394_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.callLocIdx = 260; s.pc = 20; return s.tmp_6;
  case 20:
    r0 = s.retval;
    s.tmp_5.arg0 = r0;
    s.callLocIdx = 261; s.pc = 19; return s.tmp_5;
  case 19:
    r0 = s.retval;
    s.tmp_4 = r0;
    s.tmp_8 = controller_Button_pressureLevel__P31374_mk(s);
    s.tmp_9 = controller_Controller_left__P31393_mk(s);
    s.tmp_9.arg0 = s.arg0;
    s.callLocIdx = 262; s.pc = 22; return s.tmp_9;
  case 22:
    r0 = s.retval;
    s.tmp_8.arg0 = r0;
    s.callLocIdx = 263; s.pc = 21; return s.tmp_8;
  case 21:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = (s.tmp_4 - s.tmp_7);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 1);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_1, s.tmp_2);
    s.tmp_0 = r0 = s.svy___46538;
    s.tmp_4 = controller_Button_pressureLevel__P31374_mk(s);
    s.tmp_5 = controller_Controller_down__P31396_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.callLocIdx = 264; s.pc = 24; return s.tmp_5;
  case 24:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 265; s.pc = 23; return s.tmp_4;
  case 23:
    r0 = s.retval;
    s.tmp_3 = r0;
    s.tmp_7 = controller_Button_pressureLevel__P31374_mk(s);
    s.tmp_8 = controller_Controller_up__P31395_mk(s);
    s.tmp_8.arg0 = s.arg0;
    s.callLocIdx = 266; s.pc = 26; return s.tmp_8;
  case 26:
    r0 = s.retval;
    s.tmp_7.arg0 = r0;
    s.callLocIdx = 267; s.pc = 25; return s.tmp_7;
  case 25:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = (s.tmp_3 - s.tmp_6);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    { step = 12; continue; }
  case 3:
    s.tmp_1 = controller_Button__C31364_v0_1_mk(s);
    s.tmp_2 = controller_Controller_right__P31394_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 268; s.pc = 28; return s.tmp_2;
  case 28:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    if (!checkSubtype(s.tmp_1.arg0, controller_Button__C31364_VT)) failedCast(s.tmp_1.arg0);
    s.tmp_1.fn = s.tmp_1.arg0.vtable.methods.isPressed;
    s.pc = 27; return s.tmp_1;
  case 27:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = 256;
    { step = 5; continue; }
  case 4:
    r0 = 0;
  case 5:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.tmp_5 = controller_Button__C31364_v0_1_mk(s);
    s.tmp_6 = controller_Controller_left__P31393_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.callLocIdx = 269; s.pc = 30; return s.tmp_6;
  case 30:
    r0 = s.retval;
    s.tmp_5.arg0 = r0;
    if (!checkSubtype(s.tmp_5.arg0, controller_Button__C31364_VT)) failedCast(s.tmp_5.arg0);
    s.tmp_5.fn = s.tmp_5.arg0.vtable.methods.isPressed;
    s.pc = 29; return s.tmp_5;
  case 29:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 6; continue; }
    r0 = 256;
    { step = 7; continue; }
  case 6:
    r0 = 0;
  case 7:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    s.tmp_8 = r0 = s.svx___46537;
    r0 = (s.tmp_3 - s.tmp_7);
    s.tmp_9 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_8, s.tmp_9);
    s.tmp_1 = controller_Button__C31364_v0_1_mk(s);
    s.tmp_2 = controller_Controller_down__P31396_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 270; s.pc = 32; return s.tmp_2;
  case 32:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    if (!checkSubtype(s.tmp_1.arg0, controller_Button__C31364_VT)) failedCast(s.tmp_1.arg0);
    s.tmp_1.fn = s.tmp_1.arg0.vtable.methods.isPressed;
    s.pc = 31; return s.tmp_1;
  case 31:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = 256;
    { step = 9; continue; }
  case 8:
    r0 = 0;
  case 9:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.tmp_5 = controller_Button__C31364_v0_1_mk(s);
    s.tmp_6 = controller_Controller_up__P31395_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.callLocIdx = 271; s.pc = 34; return s.tmp_6;
  case 34:
    r0 = s.retval;
    s.tmp_5.arg0 = r0;
    if (!checkSubtype(s.tmp_5.arg0, controller_Button__C31364_VT)) failedCast(s.tmp_5.arg0);
    s.tmp_5.fn = s.tmp_5.arg0.vtable.methods.isPressed;
    s.pc = 33; return s.tmp_5;
  case 33:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 10; continue; }
    r0 = 256;
    { step = 11; continue; }
  case 10:
    r0 = 0;
  case 11:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    s.tmp_8 = r0 = s.svy___46538;
    r0 = (s.tmp_3 - s.tmp_7);
    s.tmp_9 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_8, s.tmp_9);
  case 12:
    r0 = pxsim_pxtrt.mklocRef();
    s.svxInCricle___46573 = (r0);
    s.tmp_0 = r0 = s.svxInCricle___46573;
    r0 = pxsim_pxtrt_ldlocRef(s.svx___46537);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtrt.mklocRef();
    s.svyInCircle___46575 = (r0);
    s.tmp_0 = r0 = s.svyInCircle___46575;
    r0 = pxsim_pxtrt_ldlocRef(s.svy___46538);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtrt_ldlocRef(s.svx___46537);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.svx___46537);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 * s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.svy___46538);
    s.tmp_4 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.svy___46538);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 * s.tmp_5);
    s.tmp_3 = r0;
    r0 = (s.tmp_0 + s.tmp_3);
    s.sq___46577 = (r0);
    r0 = (s.sq___46577 > 65536);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    r0 = (65536 / s.sq___46577);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.sqrt(s.tmp_1);
    s.scale___46592 = (r0);
    s.tmp_0 = r0 = s.svxInCricle___46573;
    s.tmp_3 = r0 = s.scale___46592;
    r0 = pxsim_pxtrt_ldlocRef(s.svx___46537);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 * s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    s.tmp_0 = r0 = s.svyInCircle___46575;
    s.tmp_3 = r0 = s.scale___46592;
    r0 = pxsim_pxtrt_ldlocRef(s.svy___46538);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 * s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
  case 13:
  case 14:
    r0 = pxsim_pxtcore_mkAction(5, inline__P46610);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.deadSprites___46536);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.svx___46537);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.svy___46538);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.svxInCricle___46573);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 4, s.svyInCircle___46575);
    s.tmp_1 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_2 = controller_Controller__controlledSprites__P31389_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 272; s.pc = 36; return s.tmp_2;
  case 36:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 280; s.pc = 35; return s.tmp_1;
  case 35:
    r0 = s.retval;
    r0 = pxsim_pxtrt_ldlocRef(s.deadSprites___46536);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    s.tmp_1 = controller_Controller__controlledSprites__P31390_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_2 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_3 = controller_Controller__controlledSprites__P31389_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 281; s.pc = 39; return s.tmp_3;
  case 39:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = inline__P46667;
    s.callLocIdx = 282; s.pc = 38; return s.tmp_2;
  case 38:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 283; s.pc = 37; return s.tmp_1;
  case 37:
    r0 = s.retval;
  case 15:
  case 16:
  case 17:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Controller___preUpdate__P31408.info = {"start":14894,"length":2535,"line":466,"column":8,"endLine":530,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"__preUpdate","argumentNames":["this"]}

function controller_Controller___preUpdate__P31408_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller___preUpdate__P31408, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  deadSprites___46536: undefined,
  svx___46537: undefined,
  svy___46538: undefined,
  svxInCricle___46573: undefined,
  svyInCircle___46575: undefined,
  sq___46577: undefined,
  scale___46592: undefined,
  arg0: undefined,
} }





function inline__P46610(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___46613 = undefined;
    s.vx___46614 = undefined;
    s.vy___46615 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = if_s_1_mk(s);
    s.tmp_1 = r0 = s.arg0;
    s.tmp_0.arg0 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "s");
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["s"];
      if (s.tmp_0.fn == null) { s.retval = s.tmp_0.arg0.fields["s"]; }
      else if (!s.tmp_0.fn.isGetter) { s.retval = bind(s.tmp_0); }
     else { s.callLocIdx = 273; s.pc = 22; return s.tmp_0; }
    }
  case 22:
    r0 = s.retval;
    s.s___46613 = (r0);
    s.tmp_2 = if_vx_1_mk(s);
    s.tmp_2.arg0 = s.tmp_1;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "vx");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["vx"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["vx"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 274; s.pc = 23; return s.tmp_2; }
    }
  case 23:
    r0 = s.retval;
    s.vx___46614 = (r0);
    s.tmp_3 = if_vy_1_mk(s);
    s.tmp_3.arg0 = s.tmp_1;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "vy");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["vy"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["vy"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 275; s.pc = 24; return s.tmp_3; }
    }
  case 24:
    r0 = s.retval;
    s.vy___46615 = (r0);
    r0 = s.s___46613.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtrt_stlocRef(s.caps[0], true);
    { step = 21; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["_inputLastFrame"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_numops_toBoolDecr(s.vx___46614);
    if (!r0) { step = 3; continue; }
    r0 = (s.s___46613).fields["_vx"] = (0);
  case 3:
  case 4:
    r0 = pxsim_numops_toBoolDecr(s.vy___46615);
    if (!r0) { step = 5; continue; }
    r0 = (s.s___46613).fields["_vy"] = (0);
  case 5:
  case 6:
  case 7:
  case 8:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = s.tmp_0;
    { step = 10; continue; }
  case 9:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
  case 10:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 19; continue; }
    s.tmp_2 = r0 = s.vx___46614;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 11; continue; }
    r0 = s.tmp_2;
    { step = 12; continue; }
  case 11:
    r0 = s.vy___46615;
  case 12:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 13; continue; }
    s.tmp_4 = r0 = s.s___46613;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[3]);
    s.tmp_6 = r0;
    r0 = pxsim.Math_.imul(s.tmp_6, s.vx___46614);
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["_vx"] = (s.tmp_5);
    s.tmp_0 = r0 = s.s___46613;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[4]);
    s.tmp_2 = r0;
    r0 = pxsim.Math_.imul(s.tmp_2, s.vy___46615);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_vy"] = (s.tmp_1);
    { step = 18; continue; }
  case 13:
    r0 = pxsim_numops_toBoolDecr(s.vx___46614);
    if (!r0) { step = 14; continue; }
    s.tmp_0 = r0 = s.s___46613;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_2 = r0;
    r0 = pxsim.Math_.imul(s.tmp_2, s.vx___46614);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_vx"] = (s.tmp_1);
    { step = 17; continue; }
  case 14:
    r0 = pxsim_numops_toBoolDecr(s.vy___46615);
    if (!r0) { step = 15; continue; }
    s.tmp_0 = r0 = s.s___46613;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_2 = r0;
    r0 = pxsim.Math_.imul(s.tmp_2, s.vy___46615);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_vy"] = (s.tmp_1);
  case 15:
  case 16:
  case 17:
  case 18:
    r0 = (s.arg0).fields["_inputLastFrame"] = (true);
    { step = 20; continue; }
  case 19:
    r0 = (s.arg0).fields["_inputLastFrame"] = (false);
  case 20:
  case 21:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P46610.info = {"start":16077,"length":1171,"line":497,"column":44,"endLine":525,"endColumn":13,"fileName":"pxt_modules/game/controller.ts","functionName":"inline","argumentNames":["controlledSprite"]}

function inline__P46610_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P46610, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  s___46613: undefined,
  vx___46614: undefined,
  vy___46615: undefined,
  arg0: undefined,
} }





function inline__P46667(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["s"];
    r0 = r0.fields["flags"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
inline__P46667.info = {"start":17375,"length":42,"line":529,"column":28,"endLine":529,"endColumn":70,"fileName":"pxt_modules/game/controller.ts","functionName":"inline","argumentNames":["s"]}

function inline__P46667_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P46667, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function controller_Controller_down__P31396(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    r0 = s.arg0.fields["buttons"];
    s.tmp_0 = r0;
    r0 = (4 - 1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    return leaveAccessor(s, r0)
  default: oops()
} } }
controller_Controller_down__P31396.info = {"start":9528,"length":77,"line":312,"column":8,"endLine":314,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"down","argumentNames":["this"]}
controller_Controller_down__P31396.isGetter = true;

function controller_Controller_down__P31396_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller_down__P31396, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function controller_Controller_button__P34514(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    r0 = s.arg0.fields["buttons"];
    s.tmp_0 = r0;
    r0 = (s.arg1 - 1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
controller_Controller_button__P34514.info = {"start":11484,"length":105,"line":373,"column":8,"endLine":375,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"button","argumentNames":["this","button"]}

function controller_Controller_button__P34514_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller_button__P34514, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function controller_Controller_up__P31395(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    r0 = s.arg0.fields["buttons"];
    s.tmp_0 = r0;
    r0 = (2 - 1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    return leaveAccessor(s, r0)
  default: oops()
} } }
controller_Controller_up__P31395.info = {"start":9376,"length":73,"line":304,"column":8,"endLine":306,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"up","argumentNames":["this"]}
controller_Controller_up__P31395.isGetter = true;

function controller_Controller_up__P31395_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller_up__P31395, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function controller_Controller_right__P31394(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    r0 = s.arg0.fields["buttons"];
    s.tmp_0 = r0;
    r0 = (3 - 1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    return leaveAccessor(s, r0)
  default: oops()
} } }
controller_Controller_right__P31394.info = {"start":9220,"length":79,"line":296,"column":8,"endLine":298,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"right","argumentNames":["this"]}
controller_Controller_right__P31394.isGetter = true;

function controller_Controller_right__P31394_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller_right__P31394, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function controller_Controller_left__P31393(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    r0 = s.arg0.fields["buttons"];
    s.tmp_0 = r0;
    r0 = (1 - 1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    return leaveAccessor(s, r0)
  default: oops()
} } }
controller_Controller_left__P31393.info = {"start":9063,"length":77,"line":288,"column":8,"endLine":290,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"left","argumentNames":["this"]}
controller_Controller_left__P31393.isGetter = true;

function controller_Controller_left__P31393_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller_left__P31393, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function controller_Controller__controlledSprites__P31390(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    s.tmp_1 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 253; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = r0.fields["controlledSprites"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["playerIndex"];
    s.tmp_2 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_0, s.tmp_2, s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Controller__controlledSprites__P31390.info = {"start":8697,"length":134,"line":272,"column":8,"endLine":274,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"_controlledSprites","argumentNames":["this","cps"]}

function controller_Controller__controlledSprites__P31390_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller__controlledSprites__P31390, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function controller_Controller__controlledSprites__P31389(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    s.tmp_1 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 252; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = r0.fields["controlledSprites"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["playerIndex"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_2);
    return leaveAccessor(s, r0)
  default: oops()
} } }
controller_Controller__controlledSprites__P31389.info = {"start":8555,"length":132,"line":268,"column":8,"endLine":270,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"_controlledSprites","argumentNames":["this"]}
controller_Controller__controlledSprites__P31389.isGetter = true;

function controller_Controller__controlledSprites__P31389_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller__controlledSprites__P31389, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function controller_Button_pressureLevel__P31374(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Button__C31364_VT)) failedCast(r0);
    r0 = pxsim.control.deviceDalVersion();
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == "sim");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = controller_Button__C31364_v0_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!checkSubtype(s.tmp_3.arg0, controller_Button__C31364_VT)) failedCast(s.tmp_3.arg0);
    s.tmp_3.fn = s.tmp_3.arg0.vtable.methods.isPressed;
    s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 1; continue; }
    r0 = 512;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
    { step = 5; continue; }
    { step = 4; continue; }
  case 3:
    r0 = s.arg0.fields["id"];
    s.tmp_5 = r0;
    r0 = pxsim_pxtcore.pressureLevelByButtonId(s.tmp_5, -1);
    { step = 5; continue; }
  case 4:
    r0 = undefined;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
controller_Button_pressureLevel__P31374.info = {"start":4279,"length":311,"line":139,"column":8,"endLine":146,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"pressureLevel","argumentNames":["this"]}

function controller_Button_pressureLevel__P31374_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Button_pressureLevel__P31374, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function controller_Button_isPressed__P31373(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Button__C31364_VT)) failedCast(r0);
    r0 = s.arg0.fields["_pressed"];
    return leave(s, r0)
  default: oops()
} } }
controller_Button_isPressed__P31373.info = {"start":4129,"length":57,"line":132,"column":8,"endLine":134,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"isPressed","argumentNames":["this"]}

function controller_Button_isPressed__P31373_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Button_isPressed__P31373, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function Fx_imul__P29583(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.Math_.imul(s.arg0, s.arg1);
    return leave(s, r0)
  default: oops()
} } }
Fx_imul__P29583.info = {"start":1010,"length":130,"line":32,"column":4,"endLine":34,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"imul","argumentNames":["a","b"]}

function Fx_imul__P29583_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_imul__P29583, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function power_checkDeepSleep__P31167(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___45876 = undefined;
    s.to___45879 = undefined;
    s.tmp_0 = power_init__P34413_mk(s);
    s.callLocIdx = 167; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    s.tmp_0 = r0 = globals._poked___34411;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.p___45876 = (s.tmp_1);
    s.tmp_0 = r0 = globals._timeout___34412;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = 0;
  case 4:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.to___45879 = (s.tmp_1);
    r0 = (s.to___45879 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    r0 = pxsim.control.millis();
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - s.p___45876);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > s.to___45879);
  case 6:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_3;
    { step = 8; continue; }
  case 7:
    r0 = pxsim.control.isUSBInitialized();
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
  case 8:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.deepSleep();
  case 9:
  case 10:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
power_checkDeepSleep__P31167.info = {"start":1087,"length":298,"line":36,"column":4,"endLine":46,"endColumn":5,"fileName":"pxt_modules/power/power.ts","functionName":"checkDeepSleep","argumentNames":[]}

function power_checkDeepSleep__P31167_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: power_checkDeepSleep__P31167, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  p___45876: undefined,
  to___45879: undefined,
} }





function power_init__P34413(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = (globals._timeout___34412 !== undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtcore.getConfig(212, -1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * 1000);
    globals._timeout___34412 = (r0);
    r0 = (globals._timeout___34412 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = (globals._timeout___34412 < 300000);
  case 4:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 5; continue; }
    globals._timeout___34412 = (300000);
  case 5:
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
power_init__P34413.info = {"start":1610,"length":376,"line":57,"column":4,"endLine":66,"endColumn":5,"fileName":"pxt_modules/power/power.ts","functionName":"init","argumentNames":[]}

function power_init__P34413_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: power_init__P34413, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function power_poke__P31166(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = power_init__P34413_mk(s);
    s.callLocIdx = 166; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim.control.millis();
    globals._poked___34411 = (r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
power_poke__P31166.info = {"start":795,"length":81,"line":26,"column":4,"endLine":29,"endColumn":5,"fileName":"pxt_modules/power/power.ts","functionName":"poke","argumentNames":[]}

function power_poke__P31166_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: power_poke__P31166, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function control_EventContext_deltaTime__P29816(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventContext__C29811_VT)) failedCast(r0);
    r0 = s.arg0.fields["deltaTimeMillis"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 1000);
    return leaveAccessor(s, r0)
  default: oops()
} } }
control_EventContext_deltaTime__P29816.info = {"start":1995,"length":75,"line":67,"column":8,"endLine":69,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"deltaTime","argumentNames":["this"]}
control_EventContext_deltaTime__P29816.isGetter = true;

function control_EventContext_deltaTime__P29816_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventContext_deltaTime__P29816, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function scene_Scene_constructor__P31898(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Scene__C31877_VT)) failedCast(r0);
    r0 = (s.arg0).fields["previousScene"] = (s.arg2);
    r0 = (s.arg0).fields["eventContext"] = (s.arg1);
    r0 = (s.arg0).fields["flags"] = (0);
    r0 = pxsim_pxtcore_mkClassInstance(ArcadePhysicsEngine__C31634_VT);
    s.tmp_0 = r0;
    s.tmp_1 = ArcadePhysicsEngine_constructor__P31635_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 500;
    s.tmp_1.arg2 = 2;
    s.tmp_1.arg3 = 4;
    s.callLocIdx = 869; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["physicsEngine"] = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(scene_Camera__C31818_VT);
    s.tmp_0 = r0;
    s.tmp_1 = scene_Camera_constructor__P31822_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 870; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = (s.arg0).fields["camera"] = (s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(scene_Background__C31726_VT);
    s.tmp_0 = r0;
    s.tmp_1 = scene_Background_constructor__P31730_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = s.arg0.fields["camera"];
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 871; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    r0 = (s.arg0).fields["background"] = (s.tmp_0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["destroyedHandlers"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["createdHandlers"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["overlapHandlers"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["overlapMap"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["tileOverlapHandlers"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["collisionHandlers"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["wallCollisionHandlers"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["gameForeverHandlers"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["spritesByKind"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["controlledSprites"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_data"] = (s.tmp_1);
    r0 = (s.arg0).fields["_millis"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Scene_constructor__P31898.info = {"start":3365,"length":793,"line":102,"column":8,"endLine":120,"endColumn":9,"fileName":"pxt_modules/game/scene.ts","functionName":"inline","argumentNames":["this","eventContext","previousScene"]}

function scene_Scene_constructor__P31898_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Scene_constructor__P31898, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function scene_Camera_constructor__P31822(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Camera__C31818_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_offsetX"] = (0);
    r0 = (s.arg0).fields["_offsetY"] = (0);
    r0 = (s.arg0).fields["drawOffsetX"] = (0);
    r0 = (s.arg0).fields["drawOffsetY"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Camera_constructor__P31822.info = {"start":456,"length":156,"line":15,"column":8,"endLine":21,"endColumn":9,"fileName":"pxt_modules/game/camera.ts","functionName":"inline","argumentNames":["this"]}

function scene_Camera_constructor__P31822_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Camera_constructor__P31822, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function scene_Background_constructor__P31730(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Background__C31726_VT)) failedCast(r0);
    r0 = (s.arg0).fields["color"] = (0);
    r0 = (s.arg0).fields["camera"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_layers"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Background_constructor__P31730.info = {"start":367,"length":132,"line":20,"column":8,"endLine":24,"endColumn":9,"fileName":"pxt_modules/game/background.ts","functionName":"inline","argumentNames":["this","camera"]}

function scene_Background_constructor__P31730_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Background_constructor__P31730, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function ArcadePhysicsEngine_constructor__P31635(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    r0 = undefined;
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["sprites"] = (s.tmp_1);
    r0 = pxsim_pxtcore_mkClassInstance(sprites_SpriteMap__C31555_VT);
    s.tmp_0 = r0;
    s.tmp_1 = sprites_SpriteMap_constructor__P31556_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 532; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["map"] = (s.tmp_0);
    s.tmp_0 = ArcadePhysicsEngine_maxSpeed__P31637_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 533; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = ArcadePhysicsEngine_maxStep__P31641_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg3;
    s.callLocIdx = 534; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = ArcadePhysicsEngine_minStep__P31639_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg2;
    s.callLocIdx = 535; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_constructor__P31635.info = {"start":1330,"length":277,"line":55,"column":4,"endLine":62,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["this","maxVelocity","minSingleStep","maxSingleStep"]}

function ArcadePhysicsEngine_constructor__P31635_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_constructor__P31635, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function ArcadePhysicsEngine_maxStep__P31641(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["maxSingleStep"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_maxStep__P31641.info = {"start":2058,"length":67,"line":85,"column":4,"endLine":87,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"maxStep","argumentNames":["this","v"]}

function ArcadePhysicsEngine_maxStep__P31641_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_maxStep__P31641, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function ArcadePhysicsEngine_maxStep__P31640(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    r0 = s.arg0.fields["maxSingleStep"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 128);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 8);
    return leaveAccessor(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_maxStep__P31640.info = {"start":1978,"length":74,"line":81,"column":4,"endLine":83,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"maxStep","argumentNames":["this"]}
ArcadePhysicsEngine_maxStep__P31640.isGetter = true;

function ArcadePhysicsEngine_maxStep__P31640_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_maxStep__P31640, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function Fx_toInt__P29592(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 + 128);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 8);
    return leave(s, r0)
  default: oops()
} } }
Fx_toInt__P29592.info = {"start":2144,"length":86,"line":68,"column":4,"endLine":70,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"toInt","argumentNames":["v"]}

function Fx_toInt__P29592_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_toInt__P29592, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function ArcadePhysicsEngine_minStep__P31639(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["minSingleStep"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_minStep__P31639.info = {"start":1905,"length":67,"line":77,"column":4,"endLine":79,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"minStep","argumentNames":["this","v"]}

function ArcadePhysicsEngine_minStep__P31639_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_minStep__P31639, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function ArcadePhysicsEngine_minStep__P31638(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    r0 = s.arg0.fields["minSingleStep"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 128);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 8);
    return leaveAccessor(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_minStep__P31638.info = {"start":1825,"length":74,"line":73,"column":4,"endLine":75,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"minStep","argumentNames":["this"]}
ArcadePhysicsEngine_minStep__P31638.isGetter = true;

function ArcadePhysicsEngine_minStep__P31638_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_minStep__P31638, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function ArcadePhysicsEngine_maxSpeed__P31637(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["maxVelocity"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["maxVelocity"];
    s.tmp_2 = r0;
    r0 = (0 - s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["maxNegativeVelocity"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_maxSpeed__P31637.info = {"start":1692,"length":127,"line":68,"column":4,"endLine":71,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"maxSpeed","argumentNames":["this","v"]}

function ArcadePhysicsEngine_maxSpeed__P31637_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_maxSpeed__P31637, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Fx_neg__P29577(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (0 - s.arg0);
    return leave(s, r0)
  default: oops()
} } }
Fx_neg__P29577.info = {"start":311,"length":88,"line":14,"column":4,"endLine":16,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"neg","argumentNames":["a"]}

function Fx_neg__P29577_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_neg__P29577, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function ArcadePhysicsEngine_maxSpeed__P31636(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    r0 = s.arg0.fields["maxVelocity"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 128);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 8);
    return leaveAccessor(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_maxSpeed__P31636.info = {"start":1613,"length":73,"line":64,"column":4,"endLine":66,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"maxSpeed","argumentNames":["this"]}
ArcadePhysicsEngine_maxSpeed__P31636.isGetter = true;

function ArcadePhysicsEngine_maxSpeed__P31636_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_maxSpeed__P31636, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function PhysicsEngine_constructor__P31621(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, PhysicsEngine__C31620_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
PhysicsEngine_constructor__P31621.info = {"start":26,"length":21,"line":1,"column":4,"endLine":2,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["this"]}

function PhysicsEngine_constructor__P31621_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: PhysicsEngine_constructor__P31621, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function sprites_SpriteMap_constructor__P31556(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteMap__C31555_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["buckets"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteMap_constructor__P31556.info = {"start":237,"length":56,"line":8,"column":8,"endLine":10,"endColumn":9,"fileName":"pxt_modules/game/spritemap.ts","functionName":"inline","argumentNames":["this"]}

function sprites_SpriteMap_constructor__P31556_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteMap_constructor__P31556, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function music_Melody_constructor__P31062(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, music_Melody__C31059_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_text"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_Melody_constructor__P31062.info = {"start":6328,"length":67,"line":199,"column":8,"endLine":201,"endColumn":9,"fileName":"pxt_modules/mixer/melody.ts","functionName":"inline","argumentNames":["this","text"]}

function music_Melody_constructor__P31062_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_Melody_constructor__P31062, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function control_pushEventContext__P29825(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ctx___46934 = undefined;
    s.n___46940 = undefined;
    r0 = pxsim_numops_toBoolDecr(globals.eventContexts___34354);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals.eventContexts___34354 = (r0);
  case 1:
  case 2:
    s.tmp_0 = control_eventContext__P29824_mk(s);
    s.callLocIdx = 120; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.ctx___46934 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.ctx___46934);
    if (!r0) { step = 3; continue; }
    s.tmp_0 = control_EventContext_unregister__P29818_mk(s);
    s.tmp_0.arg0 = s.ctx___46934;
    s.callLocIdx = 121; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = pxsim_pxtcore_mkClassInstance(control_EventContext__C29811_VT);
    s.tmp_0 = r0;
    s.tmp_1 = control_EventContext_constructor__P29815_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 122; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    s.n___46940 = (s.tmp_0);
    r0 = pxsim_Array__push(globals.eventContexts___34354, s.n___46940);
    r0 = s.n___46940;
    return leave(s, r0)
  default: oops()
} } }
control_pushEventContext__P29825.info = {"start":7021,"length":340,"line":213,"column":4,"endLine":224,"endColumn":5,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"pushEventContext","argumentNames":[]}

function control_pushEventContext__P29825_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_pushEventContext__P29825, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  ctx___46934: undefined,
  n___46940: undefined,
} }





function control_EventContext_constructor__P29815(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, control_EventContext__C29811_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["handlers"] = (s.tmp_1);
    r0 = (s.arg0).fields["framesInSample"] = (0);
    r0 = (s.arg0).fields["timeInSample"] = (0);
    r0 = (s.arg0).fields["deltaTimeMillis"] = (0);
    r0 = (s.arg0).fields["frameWorker"] = (0);
    r0 = (s.arg0).fields["idleCallbacks"] = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_EventContext_constructor__P29815.info = {"start":1740,"length":245,"line":58,"column":8,"endLine":65,"endColumn":9,"fileName":"pxt_modules/base/eventcontext.ts","functionName":"inline","argumentNames":["this"]}

function control_EventContext_constructor__P29815_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_EventContext_constructor__P29815, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function particles_disableAll__P32167(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sources___47908 = undefined;
    s.tmp_0 = particles_particleSources__P35034_mk(s);
    s.callLocIdx = 1199; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.sources___47908 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.sources___47908);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_0.arg0 = s.sources___47908;
    s.tmp_0.arg1 = inline__P47914;
    s.callLocIdx = 1201; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = particles_pruneParticles__P35030_mk(s);
    s.callLocIdx = 1202; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_disableAll__P32167.info = {"start":12353,"length":195,"line":401,"column":4,"endLine":407,"endColumn":5,"fileName":"pxt_modules/game/particles.ts","functionName":"disableAll","argumentNames":[]}

function particles_disableAll__P32167_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_disableAll__P32167, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  sources___47908: undefined,
} }





function inline__P47914(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = particles_ParticleSource_enabled__P32149_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = false;
    s.callLocIdx = 1200; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = false;
    return leave(s, r0)
  default: oops()
} } }
inline__P47914.info = {"start":12478,"length":22,"line":404,"column":28,"endLine":404,"endColumn":50,"fileName":"pxt_modules/game/particles.ts","functionName":"inline","argumentNames":["s"]}

function inline__P47914_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P47914, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function particles_clearAll__P32166(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sources___47919 = undefined;
    s.tmp_0 = particles_particleSources__P35034_mk(s);
    s.callLocIdx = 1195; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.sources___47919 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.sources___47919);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_0.arg0 = s.sources___47919;
    s.tmp_0.arg1 = inline__P47925;
    s.callLocIdx = 1197; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = particles_pruneParticles__P35030_mk(s);
    s.callLocIdx = 1198; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_clearAll__P32166.info = {"start":12081,"length":185,"line":390,"column":4,"endLine":396,"endColumn":5,"fileName":"pxt_modules/game/particles.ts","functionName":"clearAll","argumentNames":[]}

function particles_clearAll__P32166_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_clearAll__P32166, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  sources___47919: undefined,
} }





function inline__P47925(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = particles_ParticleSource_clear__P32151_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1196; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P47925.info = {"start":12204,"length":14,"line":393,"column":28,"endLine":393,"endColumn":42,"fileName":"pxt_modules/game/particles.ts","functionName":"inline","argumentNames":["s"]}

function inline__P47925_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P47925, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Client_start__P33551(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    r0 = s.arg0.fields["started"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = (s.arg0).fields["started"] = (true);
    s.tmp_0 = jacdac_start__P33579_mk(s);
    s.callLocIdx = 1374; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_Array__push(globals._unattachedClients___33506, s.arg0);
    r0 = pxsim_Array__push(globals._allClients___33507, s.arg0);
    s.tmp_0 = jacdac_clearAttachCache__P36431_mk(s);
    s.callLocIdx = 1375; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_start__P33551.info = {"start":11157,"length":223,"line":353,"column":8,"endLine":360,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"start","argumentNames":["this"]}

function jacdac_Client_start__P33551_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_start__P33551, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_clearAttachCache__P36431(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.d___39081 = undefined;
    s.unnamed514___U1 = undefined;
    s.unnamed515___U2 = undefined;
    s.d___39081 = (undefined);
    s.unnamed514___U1 = (globals.devices____36409);
    s.unnamed515___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed515___U2;
    r0 = pxsim_Array__length(s.unnamed514___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed514___U1, s.unnamed515___U2);
    s.d___39081 = (r0);
    r0 = s.d___39081.fields["services"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = s.d___39081.fields["services"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_3, 0);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 + 1);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_3, 0, s.tmp_4);
  case 2:
  case 3:
    r0 = (s.unnamed515___U2 + 1);
    s.unnamed515___U2 = (r0);
    { step = 1; continue; }
  case 4:
    s.unnamed514___U1 = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_clearAttachCache__P36431.info = {"start":17572,"length":139,"line":565,"column":4,"endLine":570,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"clearAttachCache","argumentNames":[]}

function jacdac_clearAttachCache__P36431_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_clearAttachCache__P36431, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  d___39081: undefined,
  unnamed514___U1: undefined,
  unnamed515___U2: undefined,
} }





function jacdac_ConsoleClient_constructor__P33781(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ConsoleClient__C33778_VT)) failedCast(r0);
    r0 = (s.arg0).fields["minPriority"] = (4);
    s.tmp_0 = jacdac_Client_constructor__P33538_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "conc";
    s.tmp_0.arg2 = 316415946;
    s.tmp_0.arg3 = null;
    s.callLocIdx = 1612; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["broadcast"] = (true);
    r0 = pxsim_pxtcore_mkAction(1, inline__P41518);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = jacdac_onAnnounce__P33575_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 1615; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ConsoleClient_constructor__P33781.info = {"start":241,"length":487,"line":6,"column":8,"endLine":16,"endColumn":9,"fileName":"pxt_modules/jacdac-services/consoleclient.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_ConsoleClient_constructor__P33781_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ConsoleClient_constructor__P33781, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P41518(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["minPriority"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = s.caps[0].fields["minPriority"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_3);
    s.tmp_4 = jacdac_JDPacket_sendAsMultiCommand__P33635_mk(s);
    s.tmp_5 = jacdac_JDPacket_packed__P33607_mk(s);
    s.tmp_5.arg0 = 8320;
    s.tmp_5.arg1 = "i";
    s.tmp_5.arg2 = s.tmp_2;
    s.callLocIdx = 1613; s.pc = 4; return s.tmp_5;
  case 4:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    r0 = s.caps[0].fields["serviceClass"];
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 1614; s.pc = 3; return s.tmp_4;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P41518.info = {"start":364,"length":353,"line":9,"column":23,"endLine":15,"endColumn":13,"fileName":"pxt_modules/jacdac-services/consoleclient.ts","functionName":"inline","argumentNames":[]}

function inline__P41518_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41518, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
} }





function jacdac_JDPacket_packed__P33607(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = Buffer_pack__P29629_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = s.arg2;
    s.callLocIdx = 1480; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1481; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_packed__P33607.info = {"start":1770,"length":153,"line":51,"column":8,"endLine":53,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"packed","argumentNames":["service_command","fmt","nums"]}

function jacdac_JDPacket_packed__P33607_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_packed__P33607, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Buffer_pack__P29629(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___42324 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = Buffer_packedSize__P29628_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 37; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.buf___42324 = (r0);
    s.tmp_0 = Buffer___packUnpackCore__P29630_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.buf___42324;
    s.tmp_0.arg3 = true;
    s.tmp_0.arg4 = 0;
    s.callLocIdx = 38; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = s.buf___42324;
    return leave(s, r0)
  default: oops()
} } }
Buffer_pack__P29629.info = {"start":9606,"length":181,"line":344,"column":4,"endLine":348,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"pack","argumentNames":["format","nums"]}

function Buffer_pack__P29629_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_pack__P29629, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  buf___42324: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Buffer___packUnpackCore__P29630(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.isBig___42092 = undefined;
    s.idx___42093 = undefined;
    s.i___42094 = undefined;
    s.i0___42107 = undefined;
    s.reps___42115 = undefined;
    s.fmt___42129 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    s.isBig___42092 = (false);
    s.idx___42093 = (0);
    s.i___42094 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___42094;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    r0 = pxsim_String_.charAt(s.arg0, s.i___42094);
    s.tmp_3 = r0;
    r0 = pxsim_pxtcore.switch_eq(" ", s.tmp_3);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq("<", s.tmp_3);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq("=", s.tmp_3);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(">", s.tmp_3);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq("!", s.tmp_3);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq("x", s.tmp_3);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_3;
    { step = 8; continue; }
  case 2:
  case 3:
  case 4:
    s.isBig___42092 = (false);
    { step = 21; continue; }
  case 5:
  case 6:
    s.isBig___42092 = (true);
    { step = 21; continue; }
  case 7:
    r0 = (s.arg4 + 1);
    s.arg4 = (r0);
    { step = 21; continue; }
  case 8:
    s.i0___42107 = (s.i___42094);
  case 9:
    s.tmp_1 = Buffer_isDigit__P34298_mk(s);
    r0 = pxsim_String_.charAt(s.arg0, s.i___42094);
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 39; s.pc = 23; return s.tmp_1;
  case 23:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = (s.i___42094 + 1);
    s.i___42094 = (r0);
    { step = 9; continue; }
  case 10:
    s.reps___42115 = (1);
    r0 = (s.i0___42107 != s.i___42094);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.tmp_1 = parseInt__P29522_mk(s);
    s.tmp_2 = helpers_stringSlice__P29542_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.i0___42107;
    s.tmp_2.arg2 = s.i___42094;
    s.callLocIdx = 40; s.pc = 25; return s.tmp_2;
  case 25:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = undefined;
    s.callLocIdx = 41; s.pc = 24; return s.tmp_1;
  case 24:
    r0 = s.retval;
    s.reps___42115 = (r0);
  case 11:
  case 12:
  case 13:
    s.tmp_0 = r0 = s.reps___42115;
    r0 = (s.tmp_0 - 1);
    s.reps___42115 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    s.tmp_1 = Buffer_getFormat__P34297_mk(s);
    r0 = pxsim_String_.charAt(s.arg0, s.i___42094);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.isBig___42092;
    s.callLocIdx = 42; s.pc = 26; return s.tmp_1;
  case 26:
    r0 = s.retval;
    s.fmt___42129 = (r0);
    r0 = (s.fmt___42129 === null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tmp_1 = control_fail__P29750_mk(s);
    r0 = pxsim_String_.charAt(s.arg0, s.i___42094);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 28);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 28:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("Unsupported format character: ", s.tmp_2);
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 43; s.pc = 27; return s.tmp_1;
  case 27:
    r0 = s.retval;
    { step = 19; continue; }
  case 14:
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 17; continue; }
    r0 = pxsim_numops_toBoolDecr(s.arg3);
    if (!r0) { step = 15; continue; }
    s.tmp_0 = r0 = s.idx___42093;
    r0 = (s.tmp_0 + 1);
    s.idx___42093 = (r0);
    s.tmp_1 = r0 = s.arg2;
    s.tmp_2 = r0 = s.fmt___42129;
    s.tmp_3 = r0 = s.arg4;
    r0 = pxsim_Array__getAt(s.arg1, s.tmp_0);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_1, s.tmp_2, s.tmp_3, s.tmp_4);
    { step = 16; continue; }
  case 15:
    s.tmp_0 = r0 = s.arg1;
    r0 = pxsim.BufferMethods.getNumber(s.arg2, s.fmt___42129, s.arg4);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
  case 16:
  case 17:
  case 18:
    s.tmp_0 = r0 = s.arg4;
    s.tmp_2 = Buffer_sizeOfNumberFormat__P29631_mk(s);
    s.tmp_2.arg0 = s.fmt___42129;
    s.callLocIdx = 44; s.pc = 29; return s.tmp_2;
  case 29:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.arg4 = (r0);
  case 19:
    { step = 13; continue; }
  case 20:
  case 21:
    r0 = (s.i___42094 + 1);
    s.i___42094 = (r0);
    { step = 1; continue; }
  case 22:
    r0 = s.arg4;
    return leave(s, r0)
  default: oops()
} } }
Buffer___packUnpackCore__P29630.info = {"start":10851,"length":1537,"line":380,"column":4,"endLine":422,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"__packUnpackCore","argumentNames":["format","nums","buf","isPack","off"]}

function Buffer___packUnpackCore__P29630_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer___packUnpackCore__P29630, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  isBig___42092: undefined,
  idx___42093: undefined,
  i___42094: undefined,
  i0___42107: undefined,
  reps___42115: undefined,
  fmt___42129: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function Buffer_isDigit__P34298(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.code___42219 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.charCodeAt(s.arg0, 0);
    s.code___42219 = (r0);
    r0 = (48 <= s.code___42219);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.code___42219 <= 57);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    return leave(s, r0)
  default: oops()
} } }
Buffer_isDigit__P34298.info = {"start":10727,"length":118,"line":375,"column":4,"endLine":378,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"isDigit","argumentNames":["ch"]}

function Buffer_isDigit__P34298_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_isDigit__P34298, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  code___42219: undefined,
  arg0: undefined,
} }





function Buffer_getFormat__P34297(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq("B", s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq("b", s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq("H", s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq("h", s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq("I", s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq("L", s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = pxsim_pxtcore.switch_eq("i", s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = pxsim_pxtcore.switch_eq("l", s.tmp_0);
    if (r0) { step = 14; continue; }
    r0 = pxsim_pxtcore.switch_eq("f", s.tmp_0);
    if (r0) { step = 17; continue; }
    r0 = pxsim_pxtcore.switch_eq("d", s.tmp_0);
    if (r0) { step = 20; continue; }
    r0 = s.tmp_0;
    { step = 23; continue; }
  case 1:
    r0 = 2;
    { step = 24; continue; }
  case 2:
    r0 = 1;
    { step = 24; continue; }
  case 3:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 4; continue; }
    r0 = 9;
    { step = 5; continue; }
  case 4:
    r0 = 4;
  case 5:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    { step = 24; continue; }
  case 6:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 7; continue; }
    r0 = 8;
    { step = 8; continue; }
  case 7:
    r0 = 3;
  case 8:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
    { step = 24; continue; }
  case 9:
  case 10:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 11; continue; }
    r0 = 12;
    { step = 12; continue; }
  case 11:
    r0 = 11;
  case 12:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    { step = 24; continue; }
  case 13:
  case 14:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 15; continue; }
    r0 = 10;
    { step = 16; continue; }
  case 15:
    r0 = 5;
  case 16:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
    { step = 24; continue; }
  case 17:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 18; continue; }
    r0 = 15;
    { step = 19; continue; }
  case 18:
    r0 = 13;
  case 19:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = s.tmp_5;
    { step = 24; continue; }
  case 20:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 21; continue; }
    r0 = 16;
    { step = 22; continue; }
  case 21:
    r0 = 14;
  case 22:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = s.tmp_6;
    { step = 24; continue; }
  case 23:
    r0 = null;
    { step = 24; continue; }
    r0 = undefined;
  case 24:
    return leave(s, r0)
  default: oops()
} } }
Buffer_getFormat__P34297.info = {"start":9793,"length":928,"line":350,"column":4,"endLine":373,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"getFormat","argumentNames":["pychar","isBig"]}

function Buffer_getFormat__P34297_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_getFormat__P34297, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control_fail__P29750(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_log__P29796_mk(s);
    s.tmp_0.arg0 = "Fatal failure: ";
    s.callLocIdx = 46; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = console_log__P29796_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 47; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = pxsim.control.dmesg(s.arg0);
    r0 = pxsim_pxtrt.panic(108);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_fail__P29750.info = {"start":2656,"length":155,"line":89,"column":4,"endLine":94,"endColumn":5,"fileName":"pxt_modules/base/control.ts","functionName":"fail","argumentNames":["message"]}

function control_fail__P29750_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_fail__P29750, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Buffer_sizeOfNumberFormat__P29631(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(6, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(7, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(8, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(9, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq(10, s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = pxsim_pxtcore.switch_eq(12, s.tmp_0);
    if (r0) { step = 11; continue; }
    r0 = pxsim_pxtcore.switch_eq(11, s.tmp_0);
    if (r0) { step = 12; continue; }
    r0 = pxsim_pxtcore.switch_eq(15, s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = pxsim_pxtcore.switch_eq(13, s.tmp_0);
    if (r0) { step = 14; continue; }
    r0 = pxsim_pxtcore.switch_eq(16, s.tmp_0);
    if (r0) { step = 15; continue; }
    r0 = pxsim_pxtcore.switch_eq(14, s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = s.tmp_0;
    { step = 17; continue; }
  case 1:
  case 2:
  case 3:
  case 4:
    r0 = 1;
    { step = 18; continue; }
  case 5:
  case 6:
  case 7:
  case 8:
    r0 = 2;
    { step = 18; continue; }
  case 9:
  case 10:
  case 11:
  case 12:
  case 13:
  case 14:
    r0 = 4;
    { step = 18; continue; }
  case 15:
  case 16:
    r0 = 8;
    { step = 18; continue; }
  case 17:
    r0 = 0;
  case 18:
    return leave(s, r0)
  default: oops()
} } }
Buffer_sizeOfNumberFormat__P29631.info = {"start":12467,"length":856,"line":427,"column":4,"endLine":451,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"sizeOfNumberFormat","argumentNames":["format"]}

function Buffer_sizeOfNumberFormat__P29631_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_sizeOfNumberFormat__P29631, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function parseInt__P29522(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.start___41143 = undefined;
    s.sign___41173 = undefined;
    s.output___41218 = undefined;
    s.hasDigit___41219 = undefined;
    s.i___41220 = undefined;
    s.code___41227 = undefined;
    s.val___41234 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 1:
    r0 = (s.arg1 != null);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_2;
    { step = 5; continue; }
  case 2:
    r0 = (s.arg1 < 2);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_3;
    { step = 4; continue; }
  case 3:
    r0 = (s.arg1 > 36);
  case 4:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
  case 5:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = s.tmp_5;
  case 6:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 7; continue; }
    r0 = NaN;
    { step = 46; continue; }
  case 7:
  case 8:
    s.start___41143 = (0);
  case 9:
    s.tmp_1 = r0 = s.start___41143;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = s.tmp_0;
    { step = 11; continue; }
  case 10:
    s.tmp_3 = helpers_isWhitespace__P29546_mk(s);
    r0 = pxsim_String_.charCodeAt(s.arg0, s.start___41143);
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 0; s.pc = 47; return s.tmp_3;
  case 47:
    r0 = s.retval;
  case 11:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 12; continue; }
    r0 = (s.start___41143 + 1);
    s.start___41143 = (r0);
    { step = 9; continue; }
  case 12:
    s.tmp_1 = r0 = s.start___41143;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 === s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    r0 = NaN;
    { step = 46; continue; }
  case 13:
  case 14:
    s.sign___41173 = (1);
    r0 = pxsim_String_.charAt(s.arg0, s.start___41143);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq("-", s.tmp_0);
    if (r0) { step = 15; continue; }
    r0 = pxsim_pxtcore.switch_eq("+", s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = s.tmp_0;
    { step = 17; continue; }
  case 15:
    s.sign___41173 = (-1);
  case 16:
    r0 = (s.start___41143 + 1);
    s.start___41143 = (r0);
  case 17:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 18; continue; }
    r0 = s.tmp_0;
    { step = 19; continue; }
  case 18:
    r0 = (s.arg1 == 16);
  case 19:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 20; continue; }
    r0 = s.tmp_2;
    { step = 21; continue; }
  case 20:
    r0 = pxsim_String_.charAt(s.arg0, s.start___41143);
    s.tmp_3 = r0;
    r0 = ("0" === s.tmp_3);
  case 21:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 22; continue; }
    r0 = s.tmp_4;
    { step = 25; continue; }
  case 22:
    s.tmp_7 = r0 = s.arg0;
    r0 = (s.start___41143 + 1);
    s.tmp_8 = r0;
    r0 = pxsim_String_.charAt(s.tmp_7, s.tmp_8);
    s.tmp_6 = r0;
    r0 = ("x" === s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (!r0) { step = 23; continue; }
    r0 = s.tmp_5;
    { step = 24; continue; }
  case 23:
    s.tmp_10 = r0 = s.arg0;
    r0 = (s.start___41143 + 1);
    s.tmp_11 = r0;
    r0 = pxsim_String_.charAt(s.tmp_10, s.tmp_11);
    s.tmp_9 = r0;
    r0 = ("X" === s.tmp_9);
  case 24:
    // jmp value (already in r0)
    s.tmp_12 = r0;
    r0 = s.tmp_12;
  case 25:
    // jmp value (already in r0)
    s.tmp_13 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_13);
    if (!r0) { step = 26; continue; }
    s.arg1 = (16);
    r0 = (s.start___41143 + 2);
    s.start___41143 = (r0);
    { step = 29; continue; }
  case 26:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 27; continue; }
    s.arg1 = (10);
  case 27:
  case 28:
  case 29:
    s.output___41218 = (0);
    s.hasDigit___41219 = (false);
    s.i___41220 = (s.start___41143);
  case 30:
    s.tmp_1 = r0 = s.i___41220;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 45; continue; }
    r0 = pxsim_String_.charCodeAt(s.arg0, s.i___41220);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 | 32);
    s.code___41227 = (r0);
    s.val___41234 = (undefined);
    r0 = (s.code___41227 >= 48);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 31; continue; }
    r0 = s.tmp_0;
    { step = 32; continue; }
  case 31:
    r0 = (s.code___41227 < 58);
  case 32:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 33; continue; }
    r0 = (s.code___41227 - 48);
    s.val___41234 = (r0);
    { step = 38; continue; }
  case 33:
    r0 = (s.code___41227 >= 97);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 34; continue; }
    r0 = s.tmp_0;
    { step = 35; continue; }
  case 34:
    r0 = (s.code___41227 < 123);
  case 35:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 36; continue; }
    r0 = (10 + s.code___41227);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 97);
    s.val___41234 = (r0);
  case 36:
  case 37:
  case 38:
    r0 = (s.val___41234 == undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 39; continue; }
    r0 = s.tmp_0;
    { step = 40; continue; }
  case 39:
    r0 = (s.val___41234 >= s.arg1);
  case 40:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 43; continue; }
    r0 = pxsim_numops_toBoolDecr(s.hasDigit___41219);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 41; continue; }
    r0 = NaN;
    { step = 46; continue; }
  case 41:
  case 42:
    { step = 45; continue; }
  case 43:
  case 44:
    s.hasDigit___41219 = (true);
    r0 = (s.output___41218 * s.arg1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + s.val___41234);
    s.output___41218 = (r0);
    r0 = (s.i___41220 + 1);
    s.i___41220 = (r0);
    { step = 30; continue; }
  case 45:
    r0 = (s.sign___41173 * s.output___41218);
  case 46:
    return leave(s, r0)
  default: oops()
} } }
parseInt__P29522.info = {"start":1064,"length":1690,"line":44,"column":0,"endLine":103,"endColumn":1,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"parseInt","argumentNames":["text","radix"]}

function parseInt__P29522_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: parseInt__P29522, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  start___41143: undefined,
  sign___41173: undefined,
  output___41218: undefined,
  hasDigit___41219: undefined,
  i___41220: undefined,
  code___41227: undefined,
  val___41234: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_isWhitespace__P29546(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(9, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(11, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(12, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(32, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(160, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(65279, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(10, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(13, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.switch_eq(8232, s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq(8233, s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = s.tmp_0;
    { step = 11; continue; }
  case 1:
  case 2:
  case 3:
  case 4:
  case 5:
  case 6:
  case 7:
  case 8:
  case 9:
  case 10:
    r0 = true;
    { step = 12; continue; }
  case 11:
    r0 = false;
    { step = 12; continue; }
    r0 = undefined;
  case 12:
    return leave(s, r0)
  default: oops()
} } }
helpers_isWhitespace__P29546.info = {"start":13875,"length":674,"line":476,"column":4,"endLine":493,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"isWhitespace","argumentNames":["c"]}

function helpers_isWhitespace__P29546_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_isWhitespace__P29546, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Buffer_packedSize__P29628(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Buffer___packUnpackCore__P29630_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = null;
    s.tmp_0.arg2 = null;
    s.tmp_0.arg3 = true;
    s.tmp_0.arg4 = 0;
    s.callLocIdx = 36; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
Buffer_packedSize__P29628.info = {"start":9492,"length":108,"line":340,"column":4,"endLine":342,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"packedSize","argumentNames":["format"]}

function Buffer_packedSize__P29628_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_packedSize__P29628, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_onAnnounce__P33575(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__push(globals.announceCallbacks___36410, s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_onAnnounce__P33575.info = {"start":16860,"length":85,"line":542,"column":4,"endLine":544,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"onAnnounce","argumentNames":["cb"]}

function jacdac_onAnnounce__P33575_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_onAnnounce__P33575, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_Client_constructor__P33538(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    r0 = (s.arg0).fields["name"] = (s.arg1);
    r0 = (s.arg0).fields["serviceClass"] = (s.arg2);
    r0 = (s.arg0).fields["requiredDeviceName"] = (s.arg3);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.allocateNotifyEvent();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["eventId"] = (s.tmp_1);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_ClientPacketQueue__C33524_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_ClientPacketQueue_constructor__P33525_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 1349; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["config"] = (s.tmp_0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_constructor__P33538.info = {"start":7498,"length":266,"line":243,"column":8,"endLine":250,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["this","name","serviceClass","requiredDeviceName"]}

function jacdac_Client_constructor__P33538_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_constructor__P33538, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_ClientPacketQueue_constructor__P33525(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ClientPacketQueue__C33524_VT)) failedCast(r0);
    r0 = (s.arg0).fields["parent"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["pkts"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ClientPacketQueue_constructor__P33525.info = {"start":5778,"length":38,"line":188,"column":8,"endLine":188,"endColumn":46,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["this","parent"]}

function jacdac_ClientPacketQueue_constructor__P33525_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ClientPacketQueue_constructor__P33525, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function wifi__P34244(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.n___38386 = undefined;
    s.cl___38389 = undefined;
    s.resp___38408 = undefined;
    s.tmp_0 = showConsole__P34241_mk(s);
    s.callLocIdx = 355; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = console_log__P29796_mk(s);
    s.tmp_0.arg0 = "WiFi starting...";
    s.callLocIdx = 356; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    globals.logPriority___34147 = (1);
    r0 = globals.net_Net_instance___34169;
    s.n___38386 = (r0);
    s.tmp_0 = net_Net_controller__P34170_mk(s);
    s.tmp_0.arg0 = s.n___38386;
    s.callLocIdx = 358; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.cl___38389 = (r0);
    s.tmp_0 = net_Controller__C34103_v9_1_mk(s);
    s.tmp_0.arg0 = s.cl___38389;
    if (!checkSubtype(s.tmp_0.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.connect;
    s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P38396);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.cl___38389);
    s.tmp_1 = pauseUntil__P29783_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = undefined;
    s.callLocIdx = 359; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = console_log__P29796_mk(s);
    s.tmp_4 = net_Controller__C34103_v10_1_mk(s);
    s.tmp_4.arg0 = s.cl___38389;
    if (!checkSubtype(s.tmp_4.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_4.arg0);
    s.tmp_4.fn = s.tmp_4.arg0.vtable.methods.MACaddress;
    s.pc = 7; return s.tmp_4;
  case 7:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_3);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("connected; MAC:", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 360; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = net_get__P34201_mk(s);
    s.tmp_0.arg0 = "https://pxt.io/api/ping";
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 361; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.resp___38408 = (r0);
    s.tmp_0 = console_log__P29796_mk(s);
    s.tmp_3 = net_Response_toString__P34191_mk(s);
    s.tmp_3.arg0 = s.resp___38408;
    s.callLocIdx = 362; s.pc = 11; return s.tmp_3;
  case 11:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("resp: ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 363; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.tmp_0 = hideConsole__P34242_mk(s);
    s.callLocIdx = 364; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
wifi__P34244.info = {"start":3065,"length":403,"line":111,"column":0,"endLine":127,"endColumn":1,"fileName":"main.ts","functionName":"wifi","argumentNames":[]}

function wifi__P34244_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: wifi__P34244, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  n___38386: undefined,
  cl___38389: undefined,
  resp___38408: undefined,
} }





function inline__P38396(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = net_Controller__C34103_v8_1_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    if (!checkSubtype(s.tmp_0.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.isConnected;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P38396.info = {"start":3269,"length":20,"line":119,"column":15,"endLine":119,"endColumn":35,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38396_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38396, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function net_Response_toString__P34191(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Response__C34180_VT)) failedCast(r0);
    r0 = s.arg0.fields["_cached"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_cached"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_1);
    { step = 2; continue; }
  case 1:
    r0 = -1;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.arg0.fields["status_code"];
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat("HTTP ", s.tmp_8);
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_7, "; ");
    s.tmp_6 = r0;
    r0 = s.arg0.fields["headers"];
    s.tmp_13 = r0;
    r0 = pxsim_pxtrt.keysOf(s.tmp_13);
    s.tmp_12 = r0;
    r0 = pxsim_Array__length(s.tmp_12);
    s.tmp_11 = r0;
    if ((s.tmp_11) && (s.tmp_11).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_11);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_11) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_6, s.tmp_10);
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_5, " headers; ");
    s.tmp_4 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_14 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_14);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, " bytes content");
    return leave(s, r0)
  default: oops()
} } }
net_Response_toString__P34191.info = {"start":2123,"length":178,"line":77,"column":8,"endLine":79,"endColumn":9,"fileName":"pxt_modules/net/requests.ts","functionName":"toString","argumentNames":["this"]}

function net_Response_toString__P34191_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Response_toString__P34191, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  arg0: undefined,
} }





function net_get__P34201(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = net_request__P34199_mk(s);
    s.tmp_0.arg0 = "GET";
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 1879; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
net_get__P34201.info = {"start":7473,"length":110,"line":259,"column":4,"endLine":261,"endColumn":5,"fileName":"pxt_modules/net/requests.ts","functionName":"get","argumentNames":["url","options"]}

function net_get__P34201_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_get__P34201, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_request__P34199(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___40475 = undefined;
    s.e___40489 = undefined;
    s.r___40490 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = net_log__P34148_mk(s);
    r0 = pxsim_String_.mkEmpty();
    s.tmp_3 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, " ");
    s.tmp_1 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_5);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1829; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_3 = net_Net_controller__P34170_mk(s);
    r0 = globals.net_Net_instance___34169;
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 1831; s.pc = 9; return s.tmp_3;
  case 9:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(net_Response__C34180_VT);
    s.tmp_4 = r0;
    s.tmp_5 = net_Response_constructor__P34186_mk(s);
    s.tmp_5.arg0 = s.tmp_4;
    s.tmp_5.arg1 = null;
    s.callLocIdx = 1832; s.pc = 10; return s.tmp_5;
  case 10:
    r0 = s.retval;
    s.r___40475 = (s.tmp_4);
    r0 = (s.r___40475).fields["status_code"] = (418);
    r0 = (s.r___40475).fields["reason"] = ("net controller not configured");
    r0 = s.r___40475;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtcore.beginTry(3);
    s.tmp_0 = net_internalRequest__P36626_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 1833; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    { step = 5; continue; }
    r0 = pxsim_pxtcore.endTry();
    { step = 4; continue; }
  case 3:
    r0 = pxsim_pxtcore.getThrownValue();
    s.e___40489 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(net_Response__C34180_VT);
    s.tmp_0 = r0;
    s.tmp_1 = net_Response_constructor__P34186_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = null;
    s.callLocIdx = 1834; s.pc = 12; return s.tmp_1;
  case 12:
    r0 = s.retval;
    s.r___40490 = (s.tmp_0);
    r0 = (s.r___40490).fields["status_code"] = (418);
    s.tmp_0 = r0 = s.r___40490;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_2 = r0;
    if ((s.e___40489) && (s.e___40489).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.e___40489);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.e___40489) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["reason"] = (s.tmp_1);
    r0 = s.r___40490;
    { step = 5; continue; }
  case 4:
    r0 = undefined;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
net_request__P34199.info = {"start":3455,"length":633,"line":119,"column":4,"endLine":138,"endColumn":5,"fileName":"pxt_modules/net/requests.ts","functionName":"request","argumentNames":["method","url","options"]}

function net_request__P34199_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_request__P34199, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  r___40475: undefined,
  e___40489: undefined,
  r___40490: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function net_internalRequest__P36626(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp___40515 = undefined;
    s.proto___40519 = undefined;
    s.host___40521 = undefined;
    s.path___40523 = undefined;
    s.port___40527 = undefined;
    s.tmp___40546 = undefined;
    s.ipaddr___40558 = undefined;
    s.sock___40562 = undefined;
    s.resp___40575 = undefined;
    s.k___40617 = undefined;
    s.unnamed546___U10 = undefined;
    s.unnamed547___U11 = undefined;
    s.dataBuf___40654 = undefined;
    s.line___40674 = undefined;
    s.line2___40677 = undefined;
    s.status___40680 = undefined;
    s.reason___40684 = undefined;
    s.tmp___40699 = undefined;
    s.title___40703 = undefined;
    s.content___40705 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtrt.mkMap();
    s.arg2 = (r0);
  case 1:
  case 2:
    s.tmp_3 = if_headers_1_mk(s);
    s.tmp_3.arg0 = s.arg2;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "headers");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["headers"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["headers"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 1835; s.pc = 43; return s.tmp_3; }
    }
  case 43:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_4 = if_headers_2_mk(s);
    s.tmp_4.arg0 = s.arg2;
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_4.arg1 = r0;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_4.arg0, "headers", s.tmp_4.arg1);
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["set/headers"];
      if (s.tmp_4.fn === null) { s.tmp_4.arg0.fields["headers"] = s.tmp_4.arg1; }
      else if (s.tmp_4.fn === undefined) { failedCast(s.tmp_4.arg0) } 
     else { s.callLocIdx = 1836; s.pc = 44; return s.tmp_4; }
    }
  case 44:
    r0 = s.retval;
  case 3:
  case 4:
    s.tmp_0 = net_pysplit__P36625_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = "/";
    s.tmp_0.arg2 = 3;
    s.callLocIdx = 1837; s.pc = 45; return s.tmp_0;
  case 45:
    r0 = s.retval;
    s.tmp___40515 = (r0);
    r0 = pxsim_Array__getAt(s.tmp___40515, 0);
    s.proto___40519 = (r0);
    r0 = pxsim_Array__getAt(s.tmp___40515, 2);
    s.host___40521 = (r0);
    r0 = pxsim_Array__getAt(s.tmp___40515, 3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    r0 = pxsim_String_.mkEmpty();
  case 6:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.path___40523 = (s.tmp_1);
    s.port___40527 = (0);
    r0 = (s.proto___40519 == "http:");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.port___40527 = (80);
    { step = 10; continue; }
  case 7:
    r0 = (s.proto___40519 == "https:");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    s.port___40527 = (443);
    { step = 9; continue; }
  case 8:
    s.tmp_0 = control_fail__P29750_mk(s);
    if ((s.proto___40519) && (s.proto___40519).vtable) {
    setupResume(s, 47);
    pxsim_String__stringConv(s.proto___40519);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.proto___40519) + ""; }
  case 47:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("Unsupported protocol: ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1838; s.pc = 46; return s.tmp_0;
  case 46:
    r0 = s.retval;
  case 9:
  case 10:
    r0 = pxsim_String_.indexOf(s.host___40521, ":", undefined);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.tmp_2 = helpers_stringSplit__P29544_mk(s);
    s.tmp_2.arg0 = s.host___40521;
    s.tmp_2.arg1 = ":";
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 1839; s.pc = 48; return s.tmp_2;
  case 48:
    r0 = s.retval;
    s.tmp___40546 = (r0);
    r0 = pxsim_Array__getAt(s.tmp___40546, 0);
    s.host___40521 = (r0);
    s.tmp_0 = parseInt__P29522_mk(s);
    r0 = pxsim_Array__getAt(s.tmp___40546, 1);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1840; s.pc = 49; return s.tmp_0;
  case 49:
    r0 = s.retval;
    s.port___40527 = (r0);
  case 11:
  case 12:
    s.tmp_0 = net_Net_hostByName__P34173_mk(s);
    r0 = globals.net_Net_instance___34169;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.host___40521;
    s.callLocIdx = 1842; s.pc = 50; return s.tmp_0;
  case 50:
    r0 = s.retval;
    s.ipaddr___40558 = (r0);
    r0 = (s.proto___40519 == "https:");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tmp_1 = net_Net_createSocket__P34172_mk(s);
    r0 = globals.net_Net_instance___34169;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.host___40521;
    s.tmp_1.arg2 = s.port___40527;
    s.tmp_1.arg3 = true;
    s.callLocIdx = 1844; s.pc = 51; return s.tmp_1;
  case 51:
    r0 = s.retval;
    s.sock___40562 = (r0);
    { step = 14; continue; }
  case 13:
    s.tmp_0 = net_Net_createSocket__P34172_mk(s);
    r0 = globals.net_Net_instance___34169;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.ipaddr___40558;
    s.tmp_0.arg2 = s.port___40527;
    s.tmp_0.arg3 = false;
    s.callLocIdx = 1846; s.pc = 52; return s.tmp_0;
  case 52:
    r0 = s.retval;
    s.sock___40562 = (r0);
  case 14:
    r0 = pxsim_pxtcore_mkClassInstance(net_Response__C34180_VT);
    s.tmp_0 = r0;
    s.tmp_1 = net_Response_constructor__P34186_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.sock___40562;
    s.callLocIdx = 1847; s.pc = 53; return s.tmp_1;
  case 53:
    r0 = s.retval;
    s.resp___40575 = (s.tmp_0);
    s.tmp_0 = if_setTimeout_2_mk(s);
    s.tmp_0.arg0 = s.sock___40562;
    s.tmp_1 = if_timeout_1_mk(s);
    s.tmp_1.arg0 = s.arg2;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "timeout");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["timeout"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["timeout"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 1848; s.pc = 55; return s.tmp_1; }
    }
  case 55:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "setTimeout"), 2);
      s.callLocIdx = 1849; s.pc = 54; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["setTimeout"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["setTimeout"], 2); s.callLocIdx = 1849; s.pc = 54; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1849; s.pc = 54; return s.tmp_0;; }
     else { s.callLocIdx = 1849; s.pc = 54; return s.tmp_0; }
    }
  case 54:
    r0 = s.retval;
    s.tmp_0 = if_connect_1_mk(s);
    s.tmp_0.arg0 = s.sock___40562;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "connect"), 1);
      s.callLocIdx = 1850; s.pc = 56; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["connect"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["connect"], 1); s.callLocIdx = 1850; s.pc = 56; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1850; s.pc = 56; return s.tmp_0;; }
     else { s.callLocIdx = 1850; s.pc = 56; return s.tmp_0; }
    }
  case 56:
    r0 = s.retval;
    s.tmp_0 = if_send_2_mk(s);
    s.tmp_0.arg0 = s.sock___40562;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_4 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 58);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 58:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, " /");
    s.tmp_2 = r0;
    if ((s.path___40523) && (s.path___40523).vtable) {
    setupResume(s, 59);
    pxsim_String__stringConv(s.path___40523);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.path___40523) + ""; }
  case 59:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, " HTTP/1.0\r\n");
    s.tmp_0.arg1 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "send"), 2);
      s.callLocIdx = 1851; s.pc = 57; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["send"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["send"], 2); s.callLocIdx = 1851; s.pc = 57; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1851; s.pc = 57; return s.tmp_0;; }
     else { s.callLocIdx = 1851; s.pc = 57; return s.tmp_0; }
    }
  case 57:
    r0 = s.retval;
    s.tmp_4 = if_headers_1_mk(s);
    s.tmp_4.arg0 = s.arg2;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "headers");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["headers"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["headers"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 1852; s.pc = 60; return s.tmp_4; }
    }
  case 60:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_3, "Host");
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    s.tmp_5 = if_send_2_mk(s);
    s.tmp_5.arg0 = s.sock___40562;
    if ((s.host___40521) && (s.host___40521).vtable) {
    setupResume(s, 62);
    pxsim_String__stringConv(s.host___40521);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.host___40521) + ""; }
  case 62:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat("Host: ", s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_6, "\r\n");
    s.tmp_5.arg1 = r0;
    if (!s.tmp_5.arg0.vtable.iface) {
      setupLambda(s.tmp_5, pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "send"), 2);
      s.callLocIdx = 1853; s.pc = 61; return s.tmp_5;
    } else {
      s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["send"];
      if (s.tmp_5.fn == null) { setupLambda(s.tmp_5, s.tmp_5.arg0.fields["send"], 2); s.callLocIdx = 1853; s.pc = 61; return s.tmp_5; }
      else if (s.tmp_5.fn.isGetter) { s.tmp_5.stage2Call = true; s.callLocIdx = 1853; s.pc = 61; return s.tmp_5;; }
     else { s.callLocIdx = 1853; s.pc = 61; return s.tmp_5; }
    }
  case 61:
    r0 = s.retval;
  case 15:
  case 16:
    s.tmp_4 = if_headers_1_mk(s);
    s.tmp_4.arg0 = s.arg2;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "headers");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["headers"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["headers"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 1854; s.pc = 63; return s.tmp_4; }
    }
  case 63:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_3, "User-Agent");
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 17; continue; }
    s.tmp_5 = if_send_2_mk(s);
    s.tmp_5.arg0 = s.sock___40562;
    s.tmp_5.arg1 = "User-Agent: MakeCode ESP32\r\n";
    if (!s.tmp_5.arg0.vtable.iface) {
      setupLambda(s.tmp_5, pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "send"), 2);
      s.callLocIdx = 1855; s.pc = 64; return s.tmp_5;
    } else {
      s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["send"];
      if (s.tmp_5.fn == null) { setupLambda(s.tmp_5, s.tmp_5.arg0.fields["send"], 2); s.callLocIdx = 1855; s.pc = 64; return s.tmp_5; }
      else if (s.tmp_5.fn.isGetter) { s.tmp_5.stage2Call = true; s.callLocIdx = 1855; s.pc = 64; return s.tmp_5;; }
     else { s.callLocIdx = 1855; s.pc = 64; return s.tmp_5; }
    }
  case 64:
    r0 = s.retval;
  case 17:
  case 18:
    s.k___40617 = (undefined);
    s.tmp_1 = if_headers_1_mk(s);
    s.tmp_1.arg0 = s.arg2;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "headers");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["headers"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["headers"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 1856; s.pc = 65; return s.tmp_1; }
    }
  case 65:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.keysOf(s.tmp_0);
    s.unnamed546___U10 = (r0);
    s.unnamed547___U11 = (0);
  case 19:
    s.tmp_0 = r0 = s.unnamed547___U11;
    r0 = pxsim_Array__length(s.unnamed546___U10);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 20; continue; }
    r0 = pxsim_Array__getAt(s.unnamed546___U10, s.unnamed547___U11);
    s.k___40617 = (r0);
    s.tmp_2 = if_send_2_mk(s);
    s.tmp_2.arg0 = s.sock___40562;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_6 = r0;
    if ((s.k___40617) && (s.k___40617).vtable) {
    setupResume(s, 67);
    pxsim_String__stringConv(s.k___40617);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.k___40617) + ""; }
  case 67:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_6, s.tmp_7);
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_5, ": ");
    s.tmp_4 = r0;
    s.tmp_11 = if_headers_1_mk(s);
    s.tmp_11.arg0 = s.arg2;
    if (!s.tmp_11.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_11.arg0, "headers");
    } else {
      s.tmp_11.fn = s.tmp_11.arg0.vtable.iface["headers"];
      if (s.tmp_11.fn == null) { s.retval = s.tmp_11.arg0.fields["headers"]; }
      else if (!s.tmp_11.fn.isGetter) { s.retval = bind(s.tmp_11); }
     else { s.callLocIdx = 1857; s.pc = 68; return s.tmp_11; }
    }
  case 68:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_10, s.k___40617);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 69);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 69:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_8);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "\r\n");
    s.tmp_2.arg1 = r0;
    if (!s.tmp_2.arg0.vtable.iface) {
      setupLambda(s.tmp_2, pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "send"), 2);
      s.callLocIdx = 1858; s.pc = 66; return s.tmp_2;
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["send"];
      if (s.tmp_2.fn == null) { setupLambda(s.tmp_2, s.tmp_2.arg0.fields["send"], 2); s.callLocIdx = 1858; s.pc = 66; return s.tmp_2; }
      else if (s.tmp_2.fn.isGetter) { s.tmp_2.stage2Call = true; s.callLocIdx = 1858; s.pc = 66; return s.tmp_2;; }
     else { s.callLocIdx = 1858; s.pc = 66; return s.tmp_2; }
    }
  case 66:
    r0 = s.retval;
    r0 = (s.unnamed547___U11 + 1);
    s.unnamed547___U11 = (r0);
    { step = 19; continue; }
  case 20:
    s.unnamed546___U10 = (undefined);
    s.tmp_2 = if_json_1_mk(s);
    s.tmp_2.arg0 = s.arg2;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "json");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["json"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["json"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 1859; s.pc = 70; return s.tmp_2; }
    }
  case 70:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 21; continue; }
    s.tmp_3 = control_assert__P29749_mk(s);
    s.tmp_5 = if_data_1_mk(s);
    s.tmp_5.arg0 = s.arg2;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "data");
    } else {
      s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["data"];
      if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["data"]; }
      else if (!s.tmp_5.fn.isGetter) { s.retval = bind(s.tmp_5); }
     else { s.callLocIdx = 1860; s.pc = 72; return s.tmp_5; }
    }
  case 72:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == null);
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = 100;
    s.callLocIdx = 1861; s.pc = 71; return s.tmp_3;
  case 71:
    r0 = s.retval;
    s.tmp_0 = if_data_2_mk(s);
    s.tmp_0.arg0 = s.arg2;
    s.tmp_1 = JSON_stringify__P29803_mk(s);
    s.tmp_2 = if_json_1_mk(s);
    s.tmp_2.arg0 = s.arg2;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "json");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["json"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["json"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 1862; s.pc = 75; return s.tmp_2; }
    }
  case 75:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = null;
    s.tmp_1.arg2 = 0;
    s.callLocIdx = 1863; s.pc = 74; return s.tmp_1;
  case 74:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "data", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/data"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["data"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 1864; s.pc = 73; return s.tmp_0; }
    }
  case 73:
    r0 = s.retval;
    s.tmp_0 = if_send_2_mk(s);
    s.tmp_0.arg0 = s.sock___40562;
    s.tmp_0.arg1 = "Content-Type: application/json\r\n";
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "send"), 2);
      s.callLocIdx = 1865; s.pc = 76; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["send"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["send"], 2); s.callLocIdx = 1865; s.pc = 76; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1865; s.pc = 76; return s.tmp_0;; }
     else { s.callLocIdx = 1865; s.pc = 76; return s.tmp_0; }
    }
  case 76:
    r0 = s.retval;
  case 21:
  case 22:
    s.tmp_0 = net_dataAsBuffer__P34198_mk(s);
    s.tmp_1 = if_data_1_mk(s);
    s.tmp_1.arg0 = s.arg2;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "data");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["data"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["data"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 1866; s.pc = 78; return s.tmp_1; }
    }
  case 78:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1867; s.pc = 77; return s.tmp_0;
  case 77:
    r0 = s.retval;
    s.dataBuf___40654 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.dataBuf___40654);
    if (!r0) { step = 23; continue; }
    s.tmp_0 = if_send_2_mk(s);
    s.tmp_0.arg0 = s.sock___40562;
    r0 = pxsim.BufferMethods.length(s.dataBuf___40654);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 80);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 80:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("Content-Length: ", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "\r\n");
    s.tmp_0.arg1 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "send"), 2);
      s.callLocIdx = 1868; s.pc = 79; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["send"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["send"], 2); s.callLocIdx = 1868; s.pc = 79; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1868; s.pc = 79; return s.tmp_0;; }
     else { s.callLocIdx = 1868; s.pc = 79; return s.tmp_0; }
    }
  case 79:
    r0 = s.retval;
  case 23:
  case 24:
    s.tmp_0 = if_send_2_mk(s);
    s.tmp_0.arg0 = s.sock___40562;
    s.tmp_0.arg1 = "\r\n";
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "send"), 2);
      s.callLocIdx = 1869; s.pc = 81; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["send"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["send"], 2); s.callLocIdx = 1869; s.pc = 81; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1869; s.pc = 81; return s.tmp_0;; }
     else { s.callLocIdx = 1869; s.pc = 81; return s.tmp_0; }
    }
  case 81:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.dataBuf___40654);
    if (!r0) { step = 25; continue; }
    s.tmp_0 = if_send_2_mk(s);
    s.tmp_0.arg0 = s.sock___40562;
    s.tmp_0.arg1 = s.dataBuf___40654;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "send"), 2);
      s.callLocIdx = 1870; s.pc = 82; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["send"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["send"], 2); s.callLocIdx = 1870; s.pc = 82; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1870; s.pc = 82; return s.tmp_0;; }
     else { s.callLocIdx = 1870; s.pc = 82; return s.tmp_0; }
    }
  case 82:
    r0 = s.retval;
  case 25:
  case 26:
    s.tmp_0 = if_readLine_1_mk(s);
    s.tmp_0.arg0 = s.sock___40562;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "readLine"), 1);
      s.callLocIdx = 1871; s.pc = 83; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["readLine"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["readLine"], 1); s.callLocIdx = 1871; s.pc = 83; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1871; s.pc = 83; return s.tmp_0;; }
     else { s.callLocIdx = 1871; s.pc = 83; return s.tmp_0; }
    }
  case 83:
    r0 = s.retval;
    s.line___40674 = (r0);
    s.tmp_0 = net_pysplit__P36625_mk(s);
    s.tmp_0.arg0 = s.line___40674;
    s.tmp_0.arg1 = " ";
    s.tmp_0.arg2 = 2;
    s.callLocIdx = 1872; s.pc = 84; return s.tmp_0;
  case 84:
    r0 = s.retval;
    s.line2___40677 = (r0);
    s.tmp_0 = parseInt__P29522_mk(s);
    r0 = pxsim_Array__getAt(s.line2___40677, 1);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1873; s.pc = 85; return s.tmp_0;
  case 85:
    r0 = s.retval;
    s.status___40680 = (r0);
    r0 = pxsim_String_.mkEmpty();
    s.reason___40684 = (r0);
    r0 = pxsim_Array__length(s.line2___40677);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 27; continue; }
    r0 = pxsim_Array__getAt(s.line2___40677, 2);
    s.reason___40684 = (r0);
  case 27:
  case 28:
  case 29:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 38; continue; }
    s.tmp_0 = if_readLine_1_mk(s);
    s.tmp_0.arg0 = s.sock___40562;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "readLine"), 1);
      s.callLocIdx = 1874; s.pc = 86; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["readLine"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["readLine"], 1); s.callLocIdx = 1874; s.pc = 86; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1874; s.pc = 86; return s.tmp_0;; }
     else { s.callLocIdx = 1874; s.pc = 86; return s.tmp_0; }
    }
  case 86:
    r0 = s.retval;
    s.line___40674 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.line___40674);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 30; continue; }
    r0 = s.tmp_0;
    { step = 31; continue; }
  case 30:
    r0 = (s.line___40674 == "\r\n");
  case 31:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 32; continue; }
    { step = 38; continue; }
  case 32:
  case 33:
    s.tmp_3 = net_pysplit__P36625_mk(s);
    s.tmp_3.arg0 = s.line___40674;
    s.tmp_3.arg1 = ": ";
    s.tmp_3.arg2 = 1;
    s.callLocIdx = 1875; s.pc = 87; return s.tmp_3;
  case 87:
    r0 = s.retval;
    s.tmp___40699 = (r0);
    r0 = pxsim_Array__getAt(s.tmp___40699, 0);
    s.title___40703 = (r0);
    r0 = pxsim_Array__getAt(s.tmp___40699, 1);
    s.content___40705 = (r0);
    s.tmp_0 = r0 = s.title___40703;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 34; continue; }
    r0 = s.tmp_0;
    { step = 35; continue; }
  case 34:
    r0 = s.content___40705;
  case 35:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 36; continue; }
    r0 = s.resp___40575.fields["headers"];
    s.tmp_2 = r0;
    s.tmp_4 = helpers_stringToLowerCase__P29543_mk(s);
    s.tmp_4.arg0 = s.title___40703;
    s.callLocIdx = 1876; s.pc = 88; return s.tmp_4;
  case 88:
    r0 = s.retval;
    s.tmp_3 = r0;
    s.tmp_6 = helpers_stringToLowerCase__P29543_mk(s);
    s.tmp_6.arg0 = s.content___40705;
    s.callLocIdx = 1877; s.pc = 89; return s.tmp_6;
  case 89:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt.mapSetGeneric(s.tmp_2, s.tmp_3, s.tmp_5);
  case 36:
  case 37:
    { step = 29; continue; }
  case 38:
    r0 = s.resp___40575.fields["headers"];
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_1, "transfer-encoding");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 39; continue; }
    r0 = s.tmp_0;
    { step = 40; continue; }
  case 39:
    r0 = pxsim_String_.mkEmpty();
  case 40:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_String_.indexOf(s.tmp_2, "chunked", undefined);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >= 0);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 41; continue; }
    s.tmp_5 = control_fail__P29750_mk(s);
    s.tmp_5.arg0 = "not supported chunked encoding";
    s.callLocIdx = 1878; s.pc = 90; return s.tmp_5;
  case 90:
    r0 = s.retval;
  case 41:
  case 42:
    r0 = (s.resp___40575).fields["status_code"] = (s.status___40680);
    r0 = (s.resp___40575).fields["reason"] = (s.reason___40684);
    r0 = s.resp___40575;
    return leave(s, r0)
  default: oops()
} } }
net_internalRequest__P36626.info = {"start":4094,"length":3158,"line":140,"column":4,"endLine":247,"endColumn":5,"fileName":"pxt_modules/net/requests.ts","functionName":"internalRequest","argumentNames":["method","url","options"]}

function net_internalRequest__P36626_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_internalRequest__P36626, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp___40515: undefined,
  proto___40519: undefined,
  host___40521: undefined,
  path___40523: undefined,
  port___40527: undefined,
  tmp___40546: undefined,
  ipaddr___40558: undefined,
  sock___40562: undefined,
  resp___40575: undefined,
  k___40617: undefined,
  unnamed546___U10: undefined,
  unnamed547___U11: undefined,
  dataBuf___40654: undefined,
  line___40674: undefined,
  line2___40677: undefined,
  status___40680: undefined,
  reason___40684: undefined,
  tmp___40699: undefined,
  title___40703: undefined,
  content___40705: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function net_pysplit__P36625(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.arr___41440 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = helpers_stringSplit__P29544_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 1824; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.arr___41440 = (r0);
    r0 = pxsim_Array__length(s.arr___41440);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    s.tmp_4 = helpers_arrayJoin__P29528_mk(s);
    s.tmp_5 = helpers_arraySlice__P29539_mk(s);
    s.tmp_5.arg0 = s.arr___41440;
    s.tmp_5.arg1 = s.arg2;
    s.tmp_5.arg2 = undefined;
    s.callLocIdx = 1826; s.pc = 6; return s.tmp_5;
  case 6:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = s.arg1;
    s.callLocIdx = 1827; s.pc = 5; return s.tmp_4;
  case 5:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_3);
    s.tmp_6 = helpers_arrayConcat__P29538_mk(s);
    s.tmp_7 = helpers_arraySlice__P29539_mk(s);
    s.tmp_7.arg0 = s.arr___41440;
    s.tmp_7.arg1 = 0;
    s.tmp_7.arg2 = s.arg2;
    s.callLocIdx = 1825; s.pc = 8; return s.tmp_7;
  case 8:
    r0 = s.retval;
    s.tmp_6.arg0 = r0;
    s.tmp_6.arg1 = s.tmp_2;
    s.callLocIdx = 1828; s.pc = 7; return s.tmp_6;
  case 7:
    r0 = s.retval;
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
    r0 = s.arr___41440;
    { step = 3; continue; }
  case 2:
    r0 = undefined;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
net_pysplit__P36625.info = {"start":2836,"length":261,"line":102,"column":4,"endLine":109,"endColumn":5,"fileName":"pxt_modules/net/requests.ts","functionName":"pysplit","argumentNames":["str","sep","limit"]}

function net_pysplit__P36625_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_pysplit__P36625, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arr___41440: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function helpers_arrayConcat__P29538(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.out___42635 = undefined;
    s.value___42638 = undefined;
    s.unnamed466___U2 = undefined;
    s.unnamed467___U3 = undefined;
    s.value___42645 = undefined;
    s.unnamed468___U5 = undefined;
    s.unnamed469___U6 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.out___42635 = (r0);
    s.value___42638 = (undefined);
    s.unnamed466___U2 = (s.arg0);
    s.unnamed467___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed467___U3;
    r0 = pxsim_Array__length(s.unnamed466___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed466___U2, s.unnamed467___U3);
    s.value___42638 = (r0);
    r0 = pxsim_Array__push(s.out___42635, s.value___42638);
    r0 = (s.unnamed467___U3 + 1);
    s.unnamed467___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed466___U2 = (undefined);
    s.value___42645 = (undefined);
    s.unnamed468___U5 = (s.arg1);
    s.unnamed469___U6 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed469___U6;
    r0 = pxsim_Array__length(s.unnamed468___U5);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed468___U5, s.unnamed469___U6);
    s.value___42645 = (r0);
    r0 = pxsim_Array__push(s.out___42635, s.value___42645);
    r0 = (s.unnamed469___U6 + 1);
    s.unnamed469___U6 = (r0);
    { step = 3; continue; }
  case 4:
    s.unnamed468___U5 = (undefined);
    r0 = s.out___42635;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayConcat__P29538.info = {"start":8639,"length":264,"line":288,"column":4,"endLine":297,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayConcat","argumentNames":["arr","otherArr"]}

function helpers_arrayConcat__P29538_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayConcat__P29538, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  out___42635: undefined,
  value___42638: undefined,
  unnamed466___U2: undefined,
  unnamed467___U3: undefined,
  value___42645: undefined,
  unnamed468___U5: undefined,
  unnamed469___U6: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_dataAsBuffer__P34198(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = null;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtcore.typeOf(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == "string");
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = pxsim.control.createBufferFromUTF8(s.arg0);
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = s.arg0;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
net_dataAsBuffer__P34198.info = {"start":2530,"length":228,"line":90,"column":4,"endLine":96,"endColumn":5,"fileName":"pxt_modules/net/requests.ts","functionName":"dataAsBuffer","argumentNames":["data"]}

function net_dataAsBuffer__P34198_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_dataAsBuffer__P34198, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function net_Net_hostByName__P34173(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.c___41110 = undefined;
    s.b___41115 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Net__C34167_VT)) failedCast(r0);
    s.tmp_0 = net_Net_controller__P34170_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1814; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.c___41110 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.c___41110);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 5; continue; }
  case 1:
  case 2:
    s.tmp_2 = net_Controller__C34103_v7_2_mk(s);
    s.tmp_3 = net_Net_controller__P34170_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 1815; s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.arg1;
    if (!checkSubtype(s.tmp_2.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.hostbyName;
    s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.b___41115 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.b___41115);
    if (!r0) { step = 3; continue; }
    r0 = pxsim.BufferMethods.toString(s.b___41115);
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = undefined;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
net_Net_hostByName__P34173.info = {"start":2557,"length":247,"line":87,"column":8,"endLine":93,"endColumn":9,"fileName":"pxt_modules/net/net.ts","functionName":"hostByName","argumentNames":["this","host"]}

function net_Net_hostByName__P34173_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Net_hostByName__P34173, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  c___41110: undefined,
  b___41115: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_Controller_hostbyName__P34112(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_hostbyName__P34112.info = {"start":744,"length":85,"line":30,"column":8,"endLine":32,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"hostbyName","argumentNames":["this","hostname"]}

function net_Controller_hostbyName__P34112_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_hostbyName__P34112, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_Net_createSocket__P34172(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.c___41063 = undefined;
    s.socket___41068 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Net__C34167_VT)) failedCast(r0);
    s.tmp_0 = net_Net_controller__P34170_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1812; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.c___41063 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.c___41063);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkClassInstance(net_ControllerSocket__C34126_VT);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.arg3);
    if (!r0) { step = 3; continue; }
    r0 = 2;
    { step = 4; continue; }
  case 3:
    r0 = 0;
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.tmp_4 = net_ControllerSocket_constructor__P34135_mk(s);
    s.tmp_4.arg0 = s.tmp_2;
    s.tmp_4.arg1 = s.c___41063;
    s.tmp_4.arg2 = s.arg1;
    s.tmp_4.arg3 = s.arg2;
    s.tmp_4.arg4 = s.tmp_3;
    s.callLocIdx = 1813; s.pc = 7; return s.tmp_4;
  case 7:
    r0 = s.retval;
    s.socket___41068 = (s.tmp_2);
    r0 = s.socket___41068;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
net_Net_createSocket__P34172.info = {"start":2256,"length":291,"line":80,"column":8,"endLine":85,"endColumn":9,"fileName":"pxt_modules/net/net.ts","functionName":"createSocket","argumentNames":["this","host","port","secure"]}

function net_Net_createSocket__P34172_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Net_createSocket__P34172, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  c___41063: undefined,
  socket___41068: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function net_ControllerSocket_constructor__P34135(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C34126_VT)) failedCast(r0);
    r0 = (s.arg0).fields["controller"] = (s.arg1);
    r0 = (s.arg0).fields["host"] = (s.arg2);
    r0 = (s.arg0).fields["port"] = (s.arg3);
    r0 = (s.arg0).fields["conntype"] = (s.arg4);
    r0 = s.arg0.fields["conntype"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["conntype"] = (0);
  case 1:
  case 2:
    r0 = (s.arg0).fields["_buffer"] = (_hex41093);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = net_Controller__C34103_v1_1_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_2.arg0 = r0;
    if (!checkSubtype(s.tmp_2.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.socket;
    s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_socknum"] = (s.tmp_1);
    s.tmp_0 = net_ControllerSocket_setTimeout__P34144_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1783; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_constructor__P34135.info = {"start":672,"length":359,"line":22,"column":8,"endLine":29,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"inline","argumentNames":["this","controller","host","port","conntype"]}

function net_ControllerSocket_constructor__P34135_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_constructor__P34135, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }

const _hex41093 = pxsim.BufferMethods.createBufferFromHex("")




function net_ControllerSocket_setTimeout__P34144(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C34126_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_timeout"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_setTimeout__P34144.info = {"start":6080,"length":78,"line":158,"column":8,"endLine":160,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"setTimeout","argumentNames":["this","value"]}

function net_ControllerSocket_setTimeout__P34144_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_setTimeout__P34144, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_Controller_socket__P34106(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = -1;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socket__P34106.info = {"start":166,"length":58,"line":8,"column":8,"endLine":10,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socket","argumentNames":["this"]}

function net_Controller_socket__P34106_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socket__P34106, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function JSON_stringify__P29803(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ss___40749 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(JSON_Stringifier__C34343_VT);
    s.ss___40749 = (r0);
    s.tmp_0 = r0 = s.ss___40749;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["currIndent"] = (s.tmp_1);
    r0 = (s.arg2 | 0);
    s.arg2 = (r0);
    r0 = (s.arg2 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.arg2 = (0);
  case 1:
  case 2:
    r0 = (s.arg2 > 10);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.arg2 = (10);
  case 3:
  case 4:
    s.tmp_0 = r0 = s.ss___40749;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["indentStep"] = (s.tmp_1);
    s.tmp_0 = r0 = s.ss___40749;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["currIndent"] = (s.tmp_1);
    r0 = (s.ss___40749).fields["indent"] = (s.arg2);
  case 5:
    s.tmp_0 = r0 = s.arg2;
    r0 = (s.tmp_0 - 1);
    s.arg2 = (r0);
    r0 = (s.tmp_0 > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 6; continue; }
    s.tmp_2 = r0 = s.ss___40749;
    r0 = s.tmp_2.fields["indentStep"];
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, " ");
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["indentStep"] = (s.tmp_3);
    { step = 5; continue; }
  case 6:
    s.tmp_0 = JSON_Stringifier_go__P34345_mk(s);
    s.tmp_0.arg0 = s.ss___40749;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 101; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
JSON_stringify__P29803.info = {"start":8773,"length":414,"line":288,"column":4,"endLine":300,"endColumn":5,"fileName":"pxt_modules/base/json.ts","functionName":"stringify","argumentNames":["value","replacer","indent"]}

function JSON_stringify__P29803_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_stringify__P29803, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  ss___40749: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function JSON_Stringifier_go__P34345(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.t___40790 = undefined;
    s.arr___40814 = undefined;
    s.r___40820 = undefined;
    s.i___40837 = undefined;
    s.keys___40901 = undefined;
    s.r___40908 = undefined;
    s.i___40925 = undefined;
    s.k___40931 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Stringifier__C34343_VT)) failedCast(r0);
    r0 = pxsim_pxtcore.typeOf(s.arg1);
    s.t___40790 = (r0);
    r0 = (s.t___40790 == "string");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = JSON_Stringifier_doString__P34344_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 95; s.pc = 38; return s.tmp_1;
  case 38:
    r0 = s.retval;
    { step = 37; continue; }
    { step = 36; continue; }
  case 1:
    r0 = (s.t___40790 == "boolean");
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_2;
    { step = 3; continue; }
  case 2:
    r0 = (s.t___40790 == "number");
  case 3:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 4; continue; }
    r0 = s.tmp_3;
    { step = 5; continue; }
  case 4:
    r0 = (s.arg1 == null);
  case 5:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_String_.mkEmpty();
    s.tmp_5 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 39);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 39:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_6);
    { step = 37; continue; }
    { step = 35; continue; }
  case 6:
    r0 = pxsim_Array_.isArray(s.arg1);
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 19; continue; }
    s.arr___40814 = (s.arg1);
    r0 = pxsim_Array__length(s.arr___40814);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = "[]";
    { step = 37; continue; }
    { step = 18; continue; }
  case 7:
    s.r___40820 = ("[");
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["currIndent"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 40);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 40:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.arg0.fields["indentStep"];
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 41);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 41:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_5);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["currIndent"] = (s.tmp_2);
    if ((s.r___40820) && (s.r___40820).vtable) {
    setupResume(s, 42);
    pxsim_String__stringConv(s.r___40820);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40820) + ""; }
  case 42:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "\n");
    s.r___40820 = (r0);
  case 8:
  case 9:
    s.i___40837 = (0);
  case 10:
    s.tmp_1 = r0 = s.i___40837;
    r0 = pxsim_Array__length(s.arr___40814);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    if ((s.r___40820) && (s.r___40820).vtable) {
    setupResume(s, 43);
    pxsim_String__stringConv(s.r___40820);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40820) + ""; }
  case 43:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.arg0.fields["currIndent"];
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 44);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 44:
    r0 = s.retval;
    s.tmp_6 = r0;
    s.tmp_10 = JSON_Stringifier_go__P34345_mk(s);
    s.tmp_10.arg0 = s.arg0;
    r0 = pxsim_Array__getAt(s.arr___40814, s.i___40837);
    s.tmp_10.arg1 = r0;
    s.callLocIdx = 96; s.pc = 45; return s.tmp_10;
  case 45:
    r0 = s.retval;
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 46);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 46:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_6, s.tmp_8);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 47);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 47:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.r___40820 = (r0);
    s.tmp_1 = r0 = s.i___40837;
    r0 = pxsim_Array__length(s.arr___40814);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 != s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    if ((s.r___40820) && (s.r___40820).vtable) {
    setupResume(s, 48);
    pxsim_String__stringConv(s.r___40820);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40820) + ""; }
  case 48:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ",");
    s.r___40820 = (r0);
  case 11:
  case 12:
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    if ((s.r___40820) && (s.r___40820).vtable) {
    setupResume(s, 49);
    pxsim_String__stringConv(s.r___40820);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40820) + ""; }
  case 49:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "\n");
    s.r___40820 = (r0);
  case 13:
  case 14:
    r0 = (s.i___40837 + 1);
    s.i___40837 = (r0);
    { step = 10; continue; }
  case 15:
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 16; continue; }
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = helpers_stringSlice__P29542_mk(s);
    r0 = s.arg0.fields["currIndent"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["indent"];
    s.tmp_3.arg1 = r0;
    s.tmp_3.arg2 = undefined;
    s.callLocIdx = 97; s.pc = 50; return s.tmp_3;
  case 50:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["currIndent"] = (s.tmp_2);
  case 16:
  case 17:
    if ((s.r___40820) && (s.r___40820).vtable) {
    setupResume(s, 51);
    pxsim_String__stringConv(s.r___40820);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40820) + ""; }
  case 51:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["currIndent"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 52);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 52:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "]");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 53);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 53:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___40820 = (r0);
    r0 = s.r___40820;
    { step = 37; continue; }
  case 18:
    { step = 34; continue; }
  case 19:
    r0 = pxsim_pxtrt.keysOf(s.arg1);
    s.keys___40901 = (r0);
    r0 = pxsim_Array__length(s.keys___40901);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    r0 = "{}";
    { step = 37; continue; }
  case 20:
  case 21:
    s.r___40908 = ("{");
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["currIndent"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 54);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 54:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.arg0.fields["indentStep"];
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 55);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 55:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_5);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["currIndent"] = (s.tmp_2);
    if ((s.r___40908) && (s.r___40908).vtable) {
    setupResume(s, 56);
    pxsim_String__stringConv(s.r___40908);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40908) + ""; }
  case 56:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "\n");
    s.r___40908 = (r0);
  case 22:
  case 23:
    s.i___40925 = (0);
  case 24:
    s.tmp_1 = r0 = s.i___40925;
    r0 = pxsim_Array__length(s.keys___40901);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 31; continue; }
    r0 = pxsim_Array__getAt(s.keys___40901, s.i___40925);
    s.k___40931 = (r0);
    if ((s.r___40908) && (s.r___40908).vtable) {
    setupResume(s, 57);
    pxsim_String__stringConv(s.r___40908);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40908) + ""; }
  case 57:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["currIndent"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 58);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 58:
    r0 = s.retval;
    s.tmp_3 = r0;
    s.tmp_7 = JSON_Stringifier_doString__P34344_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.tmp_7.arg1 = s.k___40931;
    s.callLocIdx = 98; s.pc = 59; return s.tmp_7;
  case 59:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 60);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 60:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_5);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 61);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 61:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___40908 = (r0);
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 25; continue; }
    if ((s.r___40908) && (s.r___40908).vtable) {
    setupResume(s, 62);
    pxsim_String__stringConv(s.r___40908);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40908) + ""; }
  case 62:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, ": ");
    s.r___40908 = (r0);
    { step = 26; continue; }
  case 25:
    if ((s.r___40908) && (s.r___40908).vtable) {
    setupResume(s, 63);
    pxsim_String__stringConv(s.r___40908);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40908) + ""; }
  case 63:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, ":");
    s.r___40908 = (r0);
  case 26:
    if ((s.r___40908) && (s.r___40908).vtable) {
    setupResume(s, 64);
    pxsim_String__stringConv(s.r___40908);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40908) + ""; }
  case 64:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = JSON_Stringifier_go__P34345_mk(s);
    s.tmp_3.arg0 = s.arg0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.arg1, s.k___40931);
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 99; s.pc = 65; return s.tmp_3;
  case 65:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 66);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 66:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___40908 = (r0);
    s.tmp_1 = r0 = s.i___40925;
    r0 = pxsim_Array__length(s.keys___40901);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 != s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 27; continue; }
    if ((s.r___40908) && (s.r___40908).vtable) {
    setupResume(s, 67);
    pxsim_String__stringConv(s.r___40908);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40908) + ""; }
  case 67:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ",");
    s.r___40908 = (r0);
  case 27:
  case 28:
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 29; continue; }
    if ((s.r___40908) && (s.r___40908).vtable) {
    setupResume(s, 68);
    pxsim_String__stringConv(s.r___40908);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40908) + ""; }
  case 68:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "\n");
    s.r___40908 = (r0);
  case 29:
  case 30:
    r0 = (s.i___40925 + 1);
    s.i___40925 = (r0);
    { step = 24; continue; }
  case 31:
    r0 = s.arg0.fields["indent"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 32; continue; }
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = helpers_stringSlice__P29542_mk(s);
    r0 = s.arg0.fields["currIndent"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["indent"];
    s.tmp_3.arg1 = r0;
    s.tmp_3.arg2 = undefined;
    s.callLocIdx = 100; s.pc = 69; return s.tmp_3;
  case 69:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["currIndent"] = (s.tmp_2);
  case 32:
  case 33:
    if ((s.r___40908) && (s.r___40908).vtable) {
    setupResume(s, 70);
    pxsim_String__stringConv(s.r___40908);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___40908) + ""; }
  case 70:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["currIndent"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 71);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 71:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "}");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 72);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 72:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___40908 = (r0);
    r0 = s.r___40908;
    { step = 37; continue; }
  case 34:
  case 35:
  case 36:
    r0 = undefined;
  case 37:
    return leave(s, r0)
  default: oops()
} } }
JSON_Stringifier_go__P34345.info = {"start":6319,"length":2076,"line":223,"column":8,"endLine":279,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"go","argumentNames":["this","v"]}

function JSON_Stringifier_go__P34345_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Stringifier_go__P34345, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  t___40790: undefined,
  arr___40814: undefined,
  r___40820: undefined,
  i___40837: undefined,
  keys___40901: undefined,
  r___40908: undefined,
  i___40925: undefined,
  k___40931: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function JSON_Stringifier_doString__P34344(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___41017 = undefined;
    s.i___41018 = undefined;
    s.c___41024 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Stringifier__C34343_VT)) failedCast(r0);
    s.r___41017 = ("\"");
    s.i___41018 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___41018;
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = pxsim_String_.charAt(s.arg1, s.i___41018);
    s.c___41024 = (r0);
    r0 = (s.c___41024 == "\n");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.c___41024 = ("\\n");
    { step = 13; continue; }
  case 2:
    r0 = (s.c___41024 == "\r");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.c___41024 = ("\\r");
    { step = 12; continue; }
  case 3:
    r0 = (s.c___41024 == "\t");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.c___41024 = ("\\t");
    { step = 11; continue; }
  case 4:
    r0 = (s.c___41024 == "\b");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.c___41024 = ("\\b");
    { step = 10; continue; }
  case 5:
    r0 = (s.c___41024 == "\\");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.c___41024 = ("\\\\");
    { step = 9; continue; }
  case 6:
    r0 = (s.c___41024 == "\"");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.c___41024 = ("\\\"");
  case 7:
  case 8:
  case 9:
  case 10:
  case 11:
  case 12:
  case 13:
    if ((s.r___41017) && (s.r___41017).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.r___41017);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___41017) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.c___41024) && (s.c___41024).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.c___41024);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.c___41024) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___41017 = (r0);
    r0 = (s.i___41018 + 1);
    s.i___41018 = (r0);
    { step = 1; continue; }
  case 14:
    if ((s.r___41017) && (s.r___41017).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.r___41017);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___41017) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "\"");
    return leave(s, r0)
  default: oops()
} } }
JSON_Stringifier_doString__P34344.info = {"start":5837,"length":472,"line":208,"column":8,"endLine":221,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"doString","argumentNames":["this","s"]}

function JSON_Stringifier_doString__P34344_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Stringifier_doString__P34344, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  r___41017: undefined,
  i___41018: undefined,
  c___41024: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control_assert__P29749(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = control_fail__P29750_mk(s);
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("Assertion failed, code=", s.tmp_3);
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 45; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_assert__P29749.info = {"start":2509,"length":141,"line":83,"column":4,"endLine":87,"endColumn":5,"fileName":"pxt_modules/base/control.ts","functionName":"assert","argumentNames":["cond","code"]}

function control_assert__P29749_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_assert__P29749, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_stringToLowerCase__P29543(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___38818 = undefined;
    s.prev___38819 = undefined;
    s.i___38820 = undefined;
    s.c___38826 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.mkEmpty();
    s.r___38818 = (r0);
    s.prev___38819 = (0);
    s.i___38820 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___38820;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_String_.charCodeAt(s.arg0, s.i___38820);
    s.c___38826 = (r0);
    r0 = (65 <= s.c___38826);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.c___38826 <= 90);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    if ((s.r___38818) && (s.r___38818).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.r___38818);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___38818) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    s.tmp_7 = helpers_stringSlice__P29542_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.tmp_7.arg1 = s.prev___38819;
    s.tmp_7.arg2 = s.i___38820;
    s.callLocIdx = 13; s.pc = 8; return s.tmp_7;
  case 8:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.c___38826 + 32);
    s.tmp_10 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_10);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_8);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_3);
    s.r___38818 = (r0);
    r0 = (s.i___38820 + 1);
    s.prev___38819 = (r0);
  case 4:
  case 5:
    r0 = (s.i___38820 + 1);
    s.i___38820 = (r0);
    { step = 1; continue; }
  case 6:
    if ((s.r___38818) && (s.r___38818).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.r___38818);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___38818) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = helpers_stringSlice__P29542_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.prev___38819;
    s.tmp_3.arg2 = undefined;
    s.callLocIdx = 14; s.pc = 13; return s.tmp_3;
  case 13:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___38818 = (r0);
    r0 = s.r___38818;
    return leave(s, r0)
  default: oops()
} } }
helpers_stringToLowerCase__P29543.info = {"start":11538,"length":386,"line":393,"column":4,"endLine":405,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"stringToLowerCase","argumentNames":["s"]}

function helpers_stringToLowerCase__P29543_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_stringToLowerCase__P29543, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  r___38818: undefined,
  prev___38819: undefined,
  i___38820: undefined,
  c___38826: undefined,
  arg0: undefined,
} }





function net_Response_constructor__P34186(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Response__C34180_VT)) failedCast(r0);
    r0 = (s.arg0).fields["socket"] = (s.arg1);
    r0 = (s.arg0).fields["_cached"] = (null);
    r0 = (s.arg0).fields["status_code"] = (null);
    r0 = (s.arg0).fields["reason"] = (null);
    r0 = (s.arg0).fields["_read_so_far"] = (0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["headers"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Response_constructor__P34186.info = {"start":776,"length":210,"line":30,"column":8,"endLine":36,"endColumn":9,"fileName":"pxt_modules/net/requests.ts","functionName":"inline","argumentNames":["this","socket"]}

function net_Response_constructor__P34186_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Response_constructor__P34186, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_log__P34148(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P29792_mk(s);
    s.tmp_0.arg0 = globals.logPriority___34147;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("net:", s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1808; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_log__P34148.info = {"start":238,"length":88,"line":11,"column":4,"endLine":13,"endColumn":5,"fileName":"pxt_modules/net/net.ts","functionName":"log","argumentNames":["msg"]}

function net_log__P34148_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_log__P34148, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function net_Controller_MACaddress__P34117(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = undefined;
    return leaveAccessor(s, r0)
  default: oops()
} } }
net_Controller_MACaddress__P34117.info = {"start":1016,"length":46,"line":37,"column":8,"endLine":37,"endColumn":54,"fileName":"pxt_modules/net/controller.ts","functionName":"MACaddress","argumentNames":["this"]}
net_Controller_MACaddress__P34117.isGetter = true;

function net_Controller_MACaddress__P34117_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_MACaddress__P34117, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function net_Controller_isConnected__P34114(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = false;
    return leaveAccessor(s, r0)
  default: oops()
} } }
net_Controller_isConnected__P34114.info = {"start":886,"length":44,"line":34,"column":8,"endLine":34,"endColumn":52,"fileName":"pxt_modules/net/controller.ts","functionName":"isConnected","argumentNames":["this"]}
net_Controller_isConnected__P34114.isGetter = true;

function net_Controller_isConnected__P34114_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_isConnected__P34114, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function net_Controller_connect__P34115(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_connect__P34115.info = {"start":939,"length":19,"line":35,"column":8,"endLine":35,"endColumn":27,"fileName":"pxt_modules/net/controller.ts","functionName":"connect","argumentNames":["this"]}

function net_Controller_connect__P34115_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_connect__P34115, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function net_Net_controller__P34170(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Net__C34167_VT)) failedCast(r0);
    r0 = s.arg0.fields["_controller"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = net_log__P34148_mk(s);
    s.tmp_2.arg0 = "init controller";
    s.callLocIdx = 1809; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = if_factory_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!s.tmp_2.arg0.vtable.iface) {
      setupLambda(s.tmp_2, pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "factory"), 1);
      s.callLocIdx = 1810; s.pc = 6; return s.tmp_2;
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["factory"];
      if (s.tmp_2.fn == null) { setupLambda(s.tmp_2, s.tmp_2.arg0.fields["factory"], 1); s.callLocIdx = 1810; s.pc = 6; return s.tmp_2; }
      else if (s.tmp_2.fn.isGetter) { s.tmp_2.stage2Call = true; s.callLocIdx = 1810; s.pc = 6; return s.tmp_2;; }
     else { s.callLocIdx = 1810; s.pc = 6; return s.tmp_2; }
    }
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_controller"] = (s.tmp_1);
    r0 = s.arg0.fields["_controller"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = net_log__P34148_mk(s);
    s.tmp_3.arg0 = "controller not found";
    s.callLocIdx = 1811; s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    r0 = (s.arg0).fields["_controller"] = (null);
  case 1:
  case 2:
  case 3:
  case 4:
    r0 = s.arg0.fields["_controller"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
net_Net_controller__P34170.info = {"start":1536,"length":395,"line":55,"column":8,"endLine":65,"endColumn":9,"fileName":"pxt_modules/net/net.ts","functionName":"controller","argumentNames":["this"]}
net_Net_controller__P34170.isGetter = true;

function net_Net_controller__P34170_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Net_controller__P34170, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function net_instance__P34174(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = globals.net_Net_instance___34169;
    return leave(s, r0)
  default: oops()
} } }
net_instance__P34174.info = {"start":2869,"length":72,"line":99,"column":4,"endLine":101,"endColumn":5,"fileName":"pxt_modules/net/net.ts","functionName":"instance","argumentNames":[]}

function net_instance__P34174_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_instance__P34174, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function deviceBrowser__P34245(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.devs___38422 = undefined;
    r0 = pxsim_pxtrt.mklocRef();
    s.devs___38422 = (r0);
    s.tmp_0 = r0 = s.devs___38422;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "title", "JACDAC browser");
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "footer", "A=view, > test, < ID");
    r0 = pxsim_pxtcore_mkAction(1, inline__P38425);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.devs___38422);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "update", s.tmp_1);
    s.tmp_2 = menu_show__P34230_mk(s);
    s.tmp_2.arg0 = s.tmp_0;
    s.callLocIdx = 376; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
deviceBrowser__P34245.info = {"start":3470,"length":436,"line":129,"column":0,"endLine":141,"endColumn":1,"fileName":"main.ts","functionName":"deviceBrowser","argumentNames":[]}

function deviceBrowser__P34245_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: deviceBrowser__P34245, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  devs___38422: undefined,
} }





function inline__P38425(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.caps[0];
    s.tmp_2 = jacdac_devices__P33573_mk(s);
    s.callLocIdx = 365; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    s.tmp_0 = helpers_arraySort__P29530_mk(s);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = inline__P38431;
    s.callLocIdx = 368; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = if_elements_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = helpers_arrayMap__P29531_mk(s);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = inline__P38444;
    s.callLocIdx = 374; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "elements", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/elements"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["elements"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 375; s.pc = 3; return s.tmp_0; }
    }
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38425.info = {"start":3637,"length":260,"line":134,"column":16,"endLine":139,"endColumn":9,"fileName":"main.ts","functionName":"inline","argumentNames":["opts"]}

function inline__P38425_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38425, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P38431(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = jacdac_Device_shortId__P33561_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 366; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = jacdac_Device_shortId__P33561_mk(s);
    s.tmp_3.arg0 = s.arg1;
    s.callLocIdx = 367; s.pc = 2; return s.tmp_3;
  case 2:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String_.compare(s.tmp_0, s.tmp_2);
    return leave(s, r0)
  default: oops()
} } }
inline__P38431.info = {"start":3705,"length":38,"line":136,"column":22,"endLine":136,"endColumn":60,"fileName":"main.ts","functionName":"inline","argumentNames":["a","b"]}

function inline__P38431_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38431, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P38444(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkAction(1, inline__P38449);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P38452);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P38455);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.arg0);
    s.tmp_3 = menu_item__P34220_mk(s);
    s.tmp_4 = describe__P34233_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.callLocIdx = 369; s.pc = 2; return s.tmp_4;
  case 2:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.tmp_0;
    s.tmp_3.arg2 = s.tmp_1;
    s.tmp_3.arg3 = s.tmp_2;
    s.callLocIdx = 373; s.pc = 1; return s.tmp_3;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P38444.info = {"start":3782,"length":104,"line":137,"column":37,"endLine":138,"endColumn":55,"fileName":"main.ts","functionName":"inline","argumentNames":["d"]}

function inline__P38444_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38444, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function inline__P38449(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = deviceView__P34260_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 370; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38449.info = {"start":3810,"length":19,"line":137,"column":65,"endLine":137,"endColumn":84,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38449_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38449, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P38452(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = testDevice__P34259_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 371; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38452.info = {"start":3847,"length":19,"line":138,"column":16,"endLine":138,"endColumn":35,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38452_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38452, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P38455(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = identify__P34235_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 372; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38455.info = {"start":3868,"length":17,"line":138,"column":37,"endLine":138,"endColumn":54,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38455_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38455, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function identify__P34235(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    s.tmp_3 = r0 = s.arg0;
    s.tmp_5 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 312; s.pc = 6; return s.tmp_5;
  case 6:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_3 == s.tmp_4);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    s.tmp_6 = control_runInBackground__P29706_mk(s);
    s.tmp_6.arg0 = globals.onIdentifyRequest___33572;
    s.callLocIdx = 313; s.pc = 7; return s.tmp_6;
  case 7:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    s.tmp_0 = jacdac_Device_sendCtrlCommand__P33570_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 129;
    s.tmp_0.arg2 = null;
    s.callLocIdx = 314; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
identify__P34235.info = {"start":670,"length":211,"line":24,"column":0,"endLine":30,"endColumn":1,"fileName":"main.ts","functionName":"identify","argumentNames":["d"]}

function identify__P34235_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: identify__P34235, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }





function jacdac_Device_sendCtrlCommand__P33570(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pkt___41990 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = jacdac_JDPacket_onlyHeader__P33606_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 1398; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_3 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_3.arg0 = s.arg1;
    s.tmp_3.arg1 = s.arg2;
    s.callLocIdx = 1399; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    s.pkt___41990 = (s.tmp_4);
    s.tmp_0 = jacdac_JDPacket_service_number__P33616_mk(s);
    s.tmp_0.arg0 = s.pkt___41990;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1400; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendCmd__P33634_mk(s);
    s.tmp_0.arg0 = s.pkt___41990;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 1401; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_sendCtrlCommand__P33570.info = {"start":15288,"length":241,"line":486,"column":8,"endLine":490,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"sendCtrlCommand","argumentNames":["this","cmd","payload"]}

function jacdac_Device_sendCtrlCommand__P33570_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_sendCtrlCommand__P33570, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  pkt___41990: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_JDPacket__sendCmd__P33634(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_JDPacket_device_identifier__P33609_mk(s);
    s.tmp_2.arg0 = s.arg0;
    r0 = s.arg1.fields["deviceId"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 1504; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_0, 3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 1);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_0, 3, s.tmp_1);
    s.tmp_0 = jacdac_JDPacket__sendCore__P33632_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1505; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket__sendCmd__P33634.info = {"start":5890,"length":210,"line":185,"column":8,"endLine":191,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"_sendCmd","argumentNames":["this","dev"]}

function jacdac_JDPacket__sendCmd__P33634_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket__sendCmd__P33634, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_device_identifier__P33609(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.idb___38745 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    s.tmp_0 = Buffer_fromHex__P29623_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 1482; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.idb___38745 = (r0);
    r0 = pxsim.BufferMethods.length(s.idb___38745);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 8);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = jacdac_error__P36450_mk(s);
    s.tmp_2.arg0 = "Invalid id";
    s.callLocIdx = 1483; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_0, 4, s.idb___38745);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_device_identifier__P33609.info = {"start":2057,"length":196,"line":59,"column":8,"endLine":64,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"device_identifier","argumentNames":["this","id"]}

function jacdac_JDPacket_device_identifier__P33609_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_device_identifier__P33609, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  idb___38745: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_error__P36450(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore.throwValue(s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_error__P36450.info = {"start":973,"length":53,"line":22,"column":4,"endLine":24,"endColumn":5,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"error","argumentNames":["msg"]}

function jacdac_error__P36450_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_error__P36450, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function Buffer_fromHex__P29623(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.hexStr___38761 = undefined;
    s.res___38763 = undefined;
    s.i___38772 = undefined;
    s.p0___38778 = undefined;
    s.p1___38787 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.hexStr___38761 = ("0123456789abcdef");
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 1);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.res___38763 = (r0);
    s.tmp_0 = helpers_stringToLowerCase__P29543_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 31; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.arg0 = (r0);
    s.i___38772 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___38772;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_3 = r0 = s.hexStr___38761;
    r0 = pxsim_String_.charAt(s.arg0, s.i___38772);
    s.tmp_4 = r0;
    r0 = pxsim_String_.indexOf(s.tmp_3, s.tmp_4, undefined);
    s.p0___38778 = (r0);
    s.tmp_0 = r0 = s.hexStr___38761;
    s.tmp_2 = r0 = s.arg0;
    r0 = (s.i___38772 + 1);
    s.tmp_3 = r0;
    r0 = pxsim_String_.charAt(s.tmp_2, s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_String_.indexOf(s.tmp_0, s.tmp_1, undefined);
    s.p1___38787 = (r0);
    r0 = (s.p0___38778 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.p1___38787 < 0);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.throwValue("Invalid hex");
  case 4:
  case 5:
    s.tmp_2 = r0 = s.res___38763;
    r0 = (s.i___38772 >> 1);
    s.tmp_3 = r0;
    r0 = (s.p0___38778 << 4);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 | s.p1___38787);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_2, s.tmp_3, s.tmp_4);
    r0 = (s.i___38772 + 2);
    s.i___38772 = (r0);
    { step = 1; continue; }
  case 6:
    r0 = s.res___38763;
    return leave(s, r0)
  default: oops()
} } }
Buffer_fromHex__P29623.info = {"start":7141,"length":469,"line":256,"column":4,"endLine":268,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"fromHex","argumentNames":["hex"]}

function Buffer_fromHex__P29623_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_fromHex__P29623, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  hexStr___38761: undefined,
  res___38763: undefined,
  i___38772: undefined,
  p0___38778: undefined,
  p1___38787: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_device_identifier__P33608(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_1, 4, 8);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_device_identifier__P33608.info = {"start":1933,"length":115,"line":55,"column":8,"endLine":58,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"device_identifier","argumentNames":["this"]}
jacdac_JDPacket_device_identifier__P33608.isGetter = true;

function jacdac_JDPacket_device_identifier__P33608_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_device_identifier__P33608, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_service_number__P33616(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = (s.arg1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.throwValue("service_number not set");
  case 1:
  case 2:
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_header"];
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_5, 13);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 192);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 | s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_1, 13, s.tmp_2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_service_number__P33616.info = {"start":3022,"length":238,"line":89,"column":8,"endLine":93,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"service_number","argumentNames":["this","service_number"]}

function jacdac_JDPacket_service_number__P33616_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_service_number__P33616, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_service_number__P33615(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_1, 13);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & 63);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_service_number__P33615.info = {"start":2911,"length":102,"line":86,"column":8,"endLine":88,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"service_number","argumentNames":["this"]}
jacdac_JDPacket_service_number__P33615.isGetter = true;

function jacdac_JDPacket_service_number__P33615_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_service_number__P33615, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P36425(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.led___42004 = undefined;
    s.i___42010 = undefined;
    r0 = pxsim.pins.pinByCfg(13);
    s.led___42004 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.led___42004);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    s.i___42010 = (0);
  case 3:
    r0 = (s.i___42010 < 7);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(s.led___42004, true);
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 50;
    s.callLocIdx = 63; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(s.led___42004, false);
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 150;
    s.callLocIdx = 64; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = (s.i___42010 + 1);
    s.i___42010 = (r0);
    { step = 3; continue; }
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36425.info = {"start":15737,"length":266,"line":500,"column":35,"endLine":510,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":[]}

function inline__P36425_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36425, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  led___42004: undefined,
  i___42010: undefined,
} }





function jacdac_selfDevice__P33574(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.myDevice___36408);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_Device__C33554_VT);
    s.tmp_2 = r0;
    s.tmp_3 = jacdac_Device_constructor__P33558_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    r0 = pxsim.control.deviceLongSerialNumber();
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_4);
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 1410; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    globals.myDevice___36408 = (s.tmp_2);
    s.tmp_0 = r0 = globals.myDevice___36408;
    r0 = pxsim.control.createBuffer(4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["services"] = (s.tmp_1);
  case 1:
  case 2:
    r0 = globals.myDevice___36408;
    return leave(s, r0)
  default: oops()
} } }
jacdac_selfDevice__P33574.info = {"start":16634,"length":220,"line":534,"column":4,"endLine":540,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"selfDevice","argumentNames":[]}

function jacdac_selfDevice__P33574_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_selfDevice__P33574, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
} }





function jacdac_Device_constructor__P33558(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    r0 = (s.arg0).fields["deviceId"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["clients"] = (s.tmp_1);
    r0 = pxsim_Array__push(globals.devices____36409, s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_constructor__P33558.info = {"start":12547,"length":80,"line":398,"column":8,"endLine":400,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["this","deviceId"]}

function jacdac_Device_constructor__P33558_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_constructor__P33558, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function testDevice__P34259(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___37253 = undefined;
    s.id___37260 = undefined;
    s.s___37267 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 194; s.pc = 12; return s.tmp_3;
  case 12:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 11; continue; }
  case 1:
  case 2:
    r0 = (s.arg0 != globals.lastDev___34258);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 3; continue; }
    globals.testDevN___34257 = (1);
    { step = 4; continue; }
  case 3:
    r0 = (globals.testDevN___34257 + 1);
    globals.testDevN___34257 = (r0);
  case 4:
    globals.lastDev___34258 = (s.arg0);
    s.i___37253 = (4);
  case 5:
    s.tmp_1 = r0 = s.i___37253;
    r0 = s.arg0.fields["services"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = s.arg0.fields["services"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_4, 11, s.i___37253);
    s.id___37260 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P37270);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.id___37260);
    s.tmp_1 = helpers_arrayFind__P29536_mk(s);
    s.tmp_1.arg0 = globals.serviceDescs___34252;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 195; s.pc = 13; return s.tmp_1;
  case 13:
    r0 = s.retval;
    s.s___37267 = (r0);
    s.tmp_0 = r0 = s.s___37267;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 6:
    r0 = s.s___37267.fields["testFn"];
  case 7:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 8; continue; }
    s.tmp_2 = if_testFn_2_mk(s);
    s.tmp_2.arg0 = s.s___37267;
    s.tmp_2.arg1 = globals.testDevN___34257;
    if (!s.tmp_2.arg0.vtable.iface) {
      setupLambda(s.tmp_2, pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "testFn"), 2);
      s.callLocIdx = 196; s.pc = 14; return s.tmp_2;
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["testFn"];
      if (s.tmp_2.fn == null) { setupLambda(s.tmp_2, s.tmp_2.arg0.fields["testFn"], 2); s.callLocIdx = 196; s.pc = 14; return s.tmp_2; }
      else if (s.tmp_2.fn.isGetter) { s.tmp_2.stage2Call = true; s.callLocIdx = 196; s.pc = 14; return s.tmp_2;; }
     else { s.callLocIdx = 196; s.pc = 14; return s.tmp_2; }
    }
  case 14:
    r0 = s.retval;
  case 8:
  case 9:
    r0 = (s.i___37253 + 4);
    s.i___37253 = (r0);
    { step = 5; continue; }
  case 10:
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
testDevice__P34259.info = {"start":3616,"length":429,"line":107,"column":0,"endLine":122,"endColumn":1,"fileName":"services.ts","functionName":"testDevice","argumentNames":["d"]}

function testDevice__P34259_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: testDevice__P34259, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  i___37253: undefined,
  id___37260: undefined,
  s___37267: undefined,
  arg0: undefined,
} }





function inline__P37270(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["classNum"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P37270.info = {"start":3945,"length":21,"line":117,"column":34,"endLine":117,"endColumn":55,"fileName":"services.ts","functionName":"inline","argumentNames":["s"]}

function inline__P37270_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37270, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function helpers_arrayFind__P29536(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___42747 = undefined;
    s.i___42750 = undefined;
    s.v___42755 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___42747 = (r0);
    s.i___42750 = (0);
  case 1:
    r0 = (s.i___42750 < s.len___42747);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.arg0, s.i___42750);
    s.v___42755 = (r0);
    s.tmp_1 = lambda_3_mk(s);
    s.tmp_1.argL = s.arg1;
    s.tmp_1.arg0 = s.v___42755;
    s.tmp_1.arg1 = s.i___42750;
    setupLambda(s.tmp_1, s.tmp_1.argL);
    s.callLocIdx = 9; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.v___42755;
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___42750 + 1);
    s.i___42750 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = undefined;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayFind__P29536.info = {"start":8018,"length":292,"line":271,"column":4,"endLine":278,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayFind","argumentNames":["arr","callbackfn"]}

function helpers_arrayFind__P29536_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayFind__P29536, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  len___42747: undefined,
  i___42750: undefined,
  v___42755: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function deviceView__P34260(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.services___37291 = undefined;
    s.i___37293 = undefined;
    s.id___37300 = undefined;
    s.s___37307 = undefined;
    s.num___37338 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 197; s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    r0 = pxsim_Array__mk();
    s.services___37291 = (r0);
    s.i___37293 = (4);
  case 3:
    s.tmp_1 = r0 = s.i___37293;
    r0 = s.arg0.fields["services"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.arg0.fields["services"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_4, 11, s.i___37293);
    s.id___37300 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P37310);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.id___37300);
    s.tmp_1 = helpers_arrayFind__P29536_mk(s);
    s.tmp_1.arg0 = globals.serviceDescs___34252;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 198; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.s___37307 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.s___37307);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(ServiceDesc__C34250_VT);
    s.tmp_2 = r0;
    s.tmp_3 = ServiceDesc_constructor__P34251_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    s.tmp_3.arg1 = s.id___37300;
    s.tmp_6 = hexNum__P34256_mk(s);
    s.tmp_6.arg0 = s.id___37300;
    s.callLocIdx = 199; s.pc = 11; return s.tmp_6;
  case 11:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat("Service: ", s.tmp_4);
    s.tmp_3.arg2 = r0;
    s.tmp_3.arg3 = inline__P37329;
    s.callLocIdx = 200; s.pc = 10; return s.tmp_3;
  case 10:
    r0 = s.retval;
    s.s___37307 = (s.tmp_2);
  case 4:
  case 5:
    r0 = pxsim_Array__push(s.services___37291, s.s___37307);
    r0 = (s.i___37293 + 4);
    s.i___37293 = (r0);
    { step = 3; continue; }
  case 6:
    r0 = pxsim_pxtrt.mklocRef();
    s.num___37338 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.num___37338, 0);
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    s.tmp_4 = jacdac_Device_shortId__P33561_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.callLocIdx = 201; s.pc = 13; return s.tmp_4;
  case 13:
    r0 = s.retval;
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("Device: ", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "title", s.tmp_1);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "footer", "A = select, -> = test service");
    r0 = pxsim_pxtcore_mkAction(3, inline__P37347);
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_5, 0, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_5, 1, s.services___37291);
    r0 = pxsim_pxtrt_stclo(s.tmp_5, 2, s.num___37338);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "update", s.tmp_5);
    s.tmp_6 = menu_show__P34230_mk(s);
    s.tmp_6.arg0 = s.tmp_0;
    s.callLocIdx = 228; s.pc = 15; return s.tmp_6;
  case 15:
    r0 = s.retval;
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
deviceView__P34260.info = {"start":4047,"length":1387,"line":124,"column":0,"endLine":163,"endColumn":1,"fileName":"services.ts","functionName":"deviceView","argumentNames":["d"]}

function deviceView__P34260_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: deviceView__P34260, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  services___37291: undefined,
  i___37293: undefined,
  id___37300: undefined,
  s___37307: undefined,
  num___37338: undefined,
  arg0: undefined,
} }





function inline__P37310(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["classNum"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P37310.info = {"start":4328,"length":21,"line":130,"column":34,"endLine":130,"endColumn":55,"fileName":"services.ts","functionName":"inline","argumentNames":["s"]}

function inline__P37310_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37310, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P37329(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37329.info = {"start":4429,"length":9,"line":132,"column":62,"endLine":132,"endColumn":71,"fileName":"services.ts","functionName":"inline","argumentNames":[]}

function inline__P37329_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37329, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function noop__P37339(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
noop__P37339.info = {"start":4493,"length":19,"line":138,"column":4,"endLine":138,"endColumn":23,"fileName":"services.ts","functionName":"noop","argumentNames":[]}

function noop__P37339_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: noop__P37339, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function inline__P37347(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = if_elements_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_0.arg1 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "elements", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/elements"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["elements"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 202; s.pc = 5; return s.tmp_0; }
    }
  case 5:
    r0 = s.retval;
    s.tmp_1 = if_elements_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "elements");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["elements"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["elements"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 203; s.pc = 6; return s.tmp_1; }
    }
  case 6:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = menu_item__P34220_mk(s);
    s.tmp_4 = jacdac_Device_classDescription__P33565_mk(s);
    s.tmp_4.arg0 = s.caps[0];
    s.callLocIdx = 204; s.pc = 8; return s.tmp_4;
  case 8:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = noop__P37339;
    s.tmp_3.arg2 = undefined;
    s.tmp_3.arg3 = undefined;
    s.callLocIdx = 205; s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    s.tmp_1 = if_elements_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "elements");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["elements"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["elements"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 206; s.pc = 9; return s.tmp_1; }
    }
  case 9:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = menu_item__P34220_mk(s);
    s.tmp_4 = jacdac_Device_firmwareVersion__P33567_mk(s);
    s.tmp_4.arg0 = s.caps[0];
    s.callLocIdx = 207; s.pc = 11; return s.tmp_4;
  case 11:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = noop__P37339;
    s.tmp_3.arg2 = undefined;
    s.tmp_3.arg3 = undefined;
    s.callLocIdx = 208; s.pc = 10; return s.tmp_3;
  case 10:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    s.tmp_1 = jacdac_Device_temperature__P33566_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    s.callLocIdx = 210; s.pc = 12; return s.tmp_1;
  case 12:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = "?";
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.tmp_4 = if_elements_1_mk(s);
    s.tmp_4.arg0 = s.arg0;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "elements");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["elements"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["elements"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 209; s.pc = 13; return s.tmp_4; }
    }
  case 13:
    r0 = s.retval;
    s.tmp_3 = r0;
    s.tmp_6 = menu_item__P34220_mk(s);
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat("Temp: ", s.tmp_9);
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_7, "C");
    s.tmp_6.arg0 = r0;
    s.tmp_6.arg1 = noop__P37339;
    s.tmp_6.arg2 = undefined;
    s.tmp_6.arg3 = undefined;
    s.callLocIdx = 211; s.pc = 14; return s.tmp_6;
  case 14:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.tmp_5);
    r0 = pxsim_pxtcore_mkAction(1, inline__P37399);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[0]);
    s.tmp_2 = if_elements_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "elements");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["elements"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["elements"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 212; s.pc = 17; return s.tmp_2; }
    }
  case 17:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_4 = menu_item__P34220_mk(s);
    s.tmp_4.arg0 = "Identify";
    s.tmp_4.arg1 = s.tmp_0;
    s.tmp_4.arg2 = undefined;
    s.tmp_4.arg3 = undefined;
    s.callLocIdx = 214; s.pc = 18; return s.tmp_4;
  case 18:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_3);
    s.tmp_1 = if_elements_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "elements");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["elements"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["elements"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 215; s.pc = 19; return s.tmp_1; }
    }
  case 19:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = menu_item__P34220_mk(s);
    s.tmp_3.arg0 = "---";
    s.tmp_3.arg1 = noop__P37339;
    s.tmp_3.arg2 = undefined;
    s.tmp_3.arg3 = undefined;
    s.callLocIdx = 216; s.pc = 20; return s.tmp_3;
  case 20:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    r0 = pxsim_pxtcore_mkAction(2, inline__P37417);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[0]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.caps[2]);
    s.tmp_1 = if_elements_2_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_2 = helpers_arrayConcat__P29538_mk(s);
    s.tmp_3 = if_elements_1_mk(s);
    s.tmp_3.arg0 = s.arg0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "elements");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["elements"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["elements"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 217; s.pc = 23; return s.tmp_3; }
    }
  case 23:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_4 = helpers_arrayMap__P29531_mk(s);
    s.tmp_4.arg0 = s.caps[1];
    s.tmp_4.arg1 = s.tmp_0;
    s.callLocIdx = 223; s.pc = 24; return s.tmp_4;
  case 24:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 224; s.pc = 22; return s.tmp_2;
  case 22:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_1.arg0, "elements", s.tmp_1.arg1);
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["set/elements"];
      if (s.tmp_1.fn === null) { s.tmp_1.arg0.fields["elements"] = s.tmp_1.arg1; }
      else if (s.tmp_1.fn === undefined) { failedCast(s.tmp_1.arg0) } 
     else { s.callLocIdx = 225; s.pc = 21; return s.tmp_1; }
    }
  case 21:
    r0 = s.retval;
    r0 = s.caps[0].fields["clients"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 != null);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_4 = menu_exit__P34229_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.callLocIdx = 227; s.pc = 25; return s.tmp_4;
  case 25:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37347.info = {"start":4634,"length":791,"line":143,"column":16,"endLine":161,"endColumn":9,"fileName":"services.ts","functionName":"inline","argumentNames":["opts"]}

function inline__P37347_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37347, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  arg0: undefined,
} }





function inline__P37399(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = identify__P34235_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 213; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37399.info = {"start":4952,"length":17,"line":148,"column":53,"endLine":148,"endColumn":70,"fileName":"services.ts","functionName":"inline","argumentNames":[]}

function inline__P37399_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37399, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P37417(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkAction(2, inline__P37423);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[0]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg0);
    r0 = pxsim_pxtcore_mkAction(3, inline__P37427);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 1, s.caps[1]);
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 2, s.caps[0]);
    s.tmp_2 = menu_item__P34220_mk(s);
    r0 = s.arg0.fields["name"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.tmp_0;
    s.tmp_2.arg2 = s.tmp_1;
    s.tmp_2.arg3 = undefined;
    s.callLocIdx = 222; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P37417.info = {"start":5089,"length":259,"line":150,"column":62,"endLine":157,"endColumn":14,"fileName":"services.ts","functionName":"inline","argumentNames":["s"]}

function inline__P37417_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37417, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P37423(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = sensorView__P34255_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.caps[1];
    s.callLocIdx = 218; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37423.info = {"start":5112,"length":54,"line":150,"column":85,"endLine":152,"endColumn":13,"fileName":"services.ts","functionName":"inline","argumentNames":[]}

function inline__P37423_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37423, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P37427(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.caps[0].fields["testFn"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = r0 = s.caps[1];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 1);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_1, s.tmp_2);
    s.tmp_4 = if_testFn_2_mk(s);
    s.tmp_4.arg0 = s.caps[0];
    s.tmp_4.arg1 = s.tmp_2;
    if (!s.tmp_4.arg0.vtable.iface) {
      setupLambda(s.tmp_4, pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "testFn"), 2);
      s.callLocIdx = 219; s.pc = 3; return s.tmp_4;
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["testFn"];
      if (s.tmp_4.fn == null) { setupLambda(s.tmp_4, s.tmp_4.arg0.fields["testFn"], 2); s.callLocIdx = 219; s.pc = 3; return s.tmp_4; }
      else if (s.tmp_4.fn.isGetter) { s.tmp_4.stage2Call = true; s.callLocIdx = 219; s.pc = 3; return s.tmp_4;; }
     else { s.callLocIdx = 219; s.pc = 3; return s.tmp_4; }
    }
  case 3:
    r0 = s.retval;
    s.tmp_0 = if_title_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_7 = jacdac_Device_shortId__P33561_mk(s);
    s.tmp_7.arg0 = s.caps[2];
    s.callLocIdx = 220; s.pc = 5; return s.tmp_7;
  case 5:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("Device: ", s.tmp_5);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, " T:");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_8);
    s.tmp_0.arg1 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "title", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/title"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["title"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 221; s.pc = 4; return s.tmp_0; }
    }
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37427.info = {"start":5168,"length":179,"line":152,"column":15,"endLine":157,"endColumn":13,"fileName":"services.ts","functionName":"inline","argumentNames":["opts"]}

function inline__P37427_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37427, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  arg0: undefined,
} }





function menu_exit__P34229(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = game_popScene__P31995_mk(s);
    s.callLocIdx = 84; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = if_active_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = false;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "active", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/active"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["active"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 85; s.pc = 2; return s.tmp_0; }
    }
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
menu_exit__P34229.info = {"start":702,"length":95,"line":26,"column":4,"endLine":29,"endColumn":5,"fileName":"ui.ts","functionName":"exit","argumentNames":["opts"]}

function menu_exit__P34229_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: menu_exit__P34229, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Device_isConnected__P33559(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    r0 = s.arg0.fields["clients"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 != null);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Device_isConnected__P33559.info = {"start":12637,"length":69,"line":402,"column":8,"endLine":404,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"isConnected","argumentNames":["this"]}
jacdac_Device_isConnected__P33559.isGetter = true;

function jacdac_Device_isConnected__P33559_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_isConnected__P33559, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function sensorView__P34255(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.client___37152 = undefined;
    s.reading___37162 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(RawSensorClient__C34253_VT);
    s.tmp_0 = r0;
    s.tmp_1 = RawSensorClient_constructor__P34254_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = s.arg1.fields["name"];
    s.tmp_1.arg1 = r0;
    r0 = s.arg1.fields["classNum"];
    s.tmp_1.arg2 = r0;
    r0 = s.arg0.fields["deviceId"];
    s.tmp_1.arg3 = r0;
    s.callLocIdx = 182; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.client___37152 = (s.tmp_0);
    s.tmp_0 = menu_item__P34220_mk(s);
    s.tmp_0.arg0 = "Reading: ";
    s.tmp_0.arg1 = inline__P37167;
    s.tmp_0.arg2 = undefined;
    s.tmp_0.arg3 = undefined;
    s.callLocIdx = 183; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.reading___37162 = (r0);
    s.tmp_0 = jacdac_SensorClient_setStreaming__P33773_mk(s);
    s.tmp_0.arg0 = s.client___37152;
    s.tmp_0.arg1 = true;
    s.callLocIdx = 184; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(2, inline__P37172);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.reading___37162);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.client___37152);
    s.tmp_1 = jacdac_SensorClient_onStateChanged__P33775_mk(s);
    s.tmp_1.arg0 = s.client___37152;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 187; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    s.tmp_8 = jacdac_Device_shortId__P33561_mk(s);
    s.tmp_8.arg0 = s.arg0;
    s.callLocIdx = 188; s.pc = 5; return s.tmp_8;
  case 5:
    r0 = s.retval;
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat("Device: ", s.tmp_6);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, " / ");
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = s.arg1.fields["name"];
    s.tmp_10 = r0;
    if ((s.tmp_10) && (s.tmp_10).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_10);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_10) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_9);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "title", s.tmp_1);
    r0 = pxsim_pxtcore_mkAction(2, inline__P37199);
    s.tmp_11 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_11, 0, s.reading___37162);
    r0 = pxsim_pxtrt_stclo(s.tmp_11, 1, s.arg0);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "update", s.tmp_11);
    s.tmp_12 = menu_show__P34230_mk(s);
    s.tmp_12.arg0 = s.tmp_0;
    s.callLocIdx = 192; s.pc = 10; return s.tmp_12;
  case 10:
    r0 = s.retval;
    s.tmp_0 = jacdac_Client_destroy__P33552_mk(s);
    s.tmp_0.arg0 = s.client___37152;
    s.callLocIdx = 193; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sensorView__P34255.info = {"start":2824,"length":563,"line":76,"column":0,"endLine":94,"endColumn":1,"fileName":"services.ts","functionName":"sensorView","argumentNames":["d","s"]}

function sensorView__P34255_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sensorView__P34255, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  client___37152: undefined,
  reading___37162: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P37167(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37167.info = {"start":2994,"length":9,"line":78,"column":43,"endLine":78,"endColumn":52,"fileName":"services.ts","functionName":"inline","argumentNames":[]}

function inline__P37167_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37167, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function inline__P37172(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = r0 = s.caps[0];
    s.tmp_4 = jacdac_intOfBuffer__P33638_mk(s);
    s.tmp_5 = jacdac_SensorClient_state__P33772_mk(s);
    s.tmp_5.arg0 = s.caps[1];
    s.callLocIdx = 185; s.pc = 2; return s.tmp_5;
  case 2:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 186; s.pc = 1; return s.tmp_4;
  case 1:
    r0 = s.retval;
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("Reading: ", s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["name"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37172.info = {"start":3061,"length":83,"line":80,"column":26,"endLine":82,"endColumn":5,"fileName":"services.ts","functionName":"inline","argumentNames":[]}

function inline__P37172_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37172, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
} }





function inline__P37199(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.caps[0]);
    s.tmp_1 = if_elements_2_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.tmp_0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_1.arg0, "elements", s.tmp_1.arg1);
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["set/elements"];
      if (s.tmp_1.fn === null) { s.tmp_1.arg0.fields["elements"] = s.tmp_1.arg1; }
      else if (s.tmp_1.fn === undefined) { failedCast(s.tmp_1.arg0) } 
     else { s.callLocIdx = 189; s.pc = 3; return s.tmp_1; }
    }
  case 3:
    r0 = s.retval;
    r0 = s.caps[1].fields["clients"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 != null);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_4 = menu_exit__P34229_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.callLocIdx = 191; s.pc = 4; return s.tmp_4;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P37199.info = {"start":3235,"length":121,"line":86,"column":16,"endLine":90,"endColumn":9,"fileName":"services.ts","functionName":"inline","argumentNames":["opts"]}

function inline__P37199_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37199, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function jacdac_Client_destroy__P33552(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    r0 = s.arg0.fields["device"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["device"];
    r0 = r0.fields["clients"];
    s.tmp_1 = r0;
    r0 = pxsim_Array_.removeElement(s.tmp_1, s.arg0);
  case 1:
  case 2:
    r0 = pxsim_Array_.removeElement(globals._unattachedClients___33506, s.arg0);
    r0 = pxsim_Array_.removeElement(globals._allClients___33507, s.arg0);
    r0 = (s.arg0).fields["serviceNumber"] = (null);
    r0 = (s.arg0).fields["device"] = (null);
    s.tmp_0 = jacdac_clearAttachCache__P36431_mk(s);
    s.callLocIdx = 1376; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_destroy__P33552.info = {"start":11390,"length":301,"line":362,"column":8,"endLine":370,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"destroy","argumentNames":["this"]}

function jacdac_Client_destroy__P33552_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_destroy__P33552, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_SensorClient_state__P33772(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C33769_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P33551_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1601; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = s.arg0.fields["_lastState"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_SensorClient_state__P33772.info = {"start":507,"length":92,"line":16,"column":8,"endLine":19,"endColumn":9,"fileName":"pxt_modules/jacdac-services/sensorclient.ts","functionName":"state","argumentNames":["this"]}
jacdac_SensorClient_state__P33772.isGetter = true;

function jacdac_SensorClient_state__P33772_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_state__P33772, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_intOfBuffer__P33638(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.fmt___42878 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_0;
    { step = 5; continue; }
  case 1:
  case 2:
    s.fmt___42878 = (1);
    { step = 6; continue; }
  case 3:
  case 4:
    s.fmt___42878 = (3);
    { step = 6; continue; }
  case 5:
    s.fmt___42878 = (5);
  case 6:
    r0 = pxsim.BufferMethods.getNumber(s.arg0, s.fmt___42878, 0);
    return leave(s, r0)
  default: oops()
} } }
jacdac_intOfBuffer__P33638.info = {"start":8718,"length":453,"line":277,"column":4,"endLine":293,"endColumn":5,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"intOfBuffer","argumentNames":["data"]}

function jacdac_intOfBuffer__P33638_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_intOfBuffer__P33638, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  fmt___42878: undefined,
  arg0: undefined,
} }





function jacdac_SensorClient_onStateChanged__P33775(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C33769_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_stateChangedHandler"] = (s.arg1);
    s.tmp_0 = jacdac_Client_start__P33551_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1604; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_onStateChanged__P33775.info = {"start":1251,"length":129,"line":41,"column":8,"endLine":44,"endColumn":9,"fileName":"pxt_modules/jacdac-services/sensorclient.ts","functionName":"onStateChanged","argumentNames":["this","handler"]}

function jacdac_SensorClient_onStateChanged__P33775_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_onStateChanged__P33775, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function RawSensorClient_constructor__P34254(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, RawSensorClient__C34253_VT)) failedCast(r0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_0 = jacdac_SensorClient_constructor__P33771_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_0.arg3 = s.arg3;
    s.callLocIdx = 181; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
RawSensorClient_constructor__P34254.info = {"start":2693,"length":127,"line":71,"column":4,"endLine":73,"endColumn":5,"fileName":"services.ts","functionName":"inline","argumentNames":["this","name","deviceClass","requiredDevice"]}

function RawSensorClient_constructor__P34254_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: RawSensorClient_constructor__P34254, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_SensorClient_constructor__P33771(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C33769_VT)) failedCast(r0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_0 = jacdac_Client_constructor__P33538_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_0.arg3 = s.arg3;
    s.callLocIdx = 1600; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.createBuffer(0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_lastState"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_constructor__P33771.info = {"start":306,"length":191,"line":11,"column":8,"endLine":14,"endColumn":9,"fileName":"pxt_modules/jacdac-services/sensorclient.ts","functionName":"inline","argumentNames":["this","name","deviceClass","requiredDevice"]}

function jacdac_SensorClient_constructor__P33771_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_constructor__P33771, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_Device_temperature__P33566(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Device_queryInt__P33563_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 386;
    s.tmp_0.arg2 = 1000;
    s.callLocIdx = 1391; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Device_temperature__P33566.info = {"start":14444,"length":84,"line":460,"column":8,"endLine":462,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"temperature","argumentNames":["this"]}
jacdac_Device_temperature__P33566.isGetter = true;

function jacdac_Device_temperature__P33566_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_temperature__P33566, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Device_queryInt__P33563(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.v___42658 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Device_query__P33564_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 1384; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.v___42658 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.v___42658);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_intOfBuffer__P33638_mk(s);
    s.tmp_2.arg0 = s.v___42658;
    s.callLocIdx = 1385; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_queryInt__P33563.info = {"start":13441,"length":175,"line":429,"column":8,"endLine":433,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"queryInt","argumentNames":["this","reg","refreshRate"]}

function jacdac_Device_queryInt__P33563_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_queryInt__P33563, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  v___42658: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Device_query__P33564(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.q___42671 = undefined;
    s.now___42684 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Device_lookupQuery__P36424_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1386; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.q___42671 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.q___42671);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_RegQuery__C36422_VT);
    s.tmp_2 = r0;
    s.tmp_3 = jacdac_RegQuery_constructor__P36423_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    s.tmp_3.arg1 = s.arg1;
    s.callLocIdx = 1387; s.pc = 10; return s.tmp_3;
  case 10:
    r0 = s.retval;
    s.q___42671 = (s.tmp_2);
    r0 = s.arg0.fields["queries"];
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_4, s.tmp_2);
  case 1:
  case 2:
    r0 = pxsim.control.millis();
    s.now___42684 = (r0);
    r0 = s.q___42671.fields["lastQuery"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 3:
    r0 = (s.arg2 != null);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_3;
    { step = 5; continue; }
  case 4:
    r0 = s.q___42671.fields["lastQuery"];
    s.tmp_5 = r0;
    r0 = (s.now___42684 - s.tmp_5);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 > s.arg2);
  case 5:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = s.tmp_6;
  case 6:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 7; continue; }
    r0 = (s.q___42671).fields["lastQuery"] = (s.now___42684);
    s.tmp_0 = jacdac_Device_sendCtrlCommand__P33570_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = (4096 | s.arg1);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = null;
    s.callLocIdx = 1388; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = s.q___42671.fields["value"];
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_query__P33564.info = {"start":13626,"length":434,"line":435,"column":8,"endLine":446,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"query","argumentNames":["this","reg","refreshRate"]}

function jacdac_Device_query__P33564_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_query__P33564, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  q___42671: undefined,
  now___42684: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Device_lookupQuery__P36424(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    r0 = s.arg0.fields["queries"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["queries"] = (s.tmp_4);
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkAction(1, inline__P39443);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);
    s.tmp_1 = helpers_arrayFind__P29536_mk(s);
    r0 = s.arg0.fields["queries"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1383; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_lookupQuery__P36424.info = {"start":13282,"length":149,"line":424,"column":8,"endLine":427,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"lookupQuery","argumentNames":["this","reg"]}

function jacdac_Device_lookupQuery__P36424_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_lookupQuery__P36424, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P39443(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["reg"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P39443.info = {"start":13403,"length":17,"line":426,"column":37,"endLine":426,"endColumn":54,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["q"]}

function inline__P39443_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P39443, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_RegQuery_constructor__P36423(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RegQuery__C36422_VT)) failedCast(r0);
    r0 = (s.arg0).fields["reg"] = (s.arg1);
    r0 = (s.arg0).fields["lastQuery"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RegQuery_constructor__P36423.info = {"start":12289,"length":35,"line":387,"column":8,"endLine":387,"endColumn":43,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["this","reg"]}

function jacdac_RegQuery_constructor__P36423_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RegQuery_constructor__P36423, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Device_firmwareVersion__P33567(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.b___42713 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Device_query__P33564_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 389;
    s.tmp_0.arg2 = null;
    s.callLocIdx = 1392; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.b___42713 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.b___42713);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.BufferMethods.toString(s.b___42713);
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.mkEmpty();
    { step = 3; continue; }
  case 2:
    r0 = undefined;
  case 3:
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Device_firmwareVersion__P33567.info = {"start":14538,"length":165,"line":464,"column":8,"endLine":468,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"firmwareVersion","argumentNames":["this"]}
jacdac_Device_firmwareVersion__P33567.isGetter = true;

function jacdac_Device_firmwareVersion__P33567_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_firmwareVersion__P33567, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  b___42713: undefined,
  arg0: undefined,
} }





function jacdac_Device_classDescription__P33565(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.v___42723 = undefined;
    s.num___42732 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Device_query__P33564_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 384;
    s.tmp_0.arg2 = null;
    s.callLocIdx = 1389; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.v___42723 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.v___42723);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.BufferMethods.toString(s.v___42723);
    { step = 5; continue; }
    { step = 4; continue; }
  case 1:
    s.tmp_0 = jacdac_Device_query__P33564_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 385;
    s.tmp_0.arg2 = null;
    s.callLocIdx = 1390; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.num___42732 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.num___42732);
    if (!r0) { step = 2; continue; }
    r0 = pxsim.BufferMethods.toHex(s.num___42732);
    s.tmp_1 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat("0x", s.tmp_0);
    { step = 5; continue; }
    { step = 3; continue; }
  case 2:
    r0 = pxsim_String_.mkEmpty();
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = undefined;
  case 5:
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Device_classDescription__P33565.info = {"start":14070,"length":364,"line":448,"column":8,"endLine":458,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"classDescription","argumentNames":["this"]}
jacdac_Device_classDescription__P33565.isGetter = true;

function jacdac_Device_classDescription__P33565_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_classDescription__P33565, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  v___42723: undefined,
  num___42732: undefined,
  arg0: undefined,
} }





function hexNum__P34256(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.hex___37213 = undefined;
    s.r___37215 = undefined;
    s.i___37216 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.hex___37213 = ("0123456789abcdef");
    s.r___37215 = ("0x");
    s.i___37216 = (0);
  case 1:
    r0 = (s.i___37216 < 8);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    if ((s.r___37215) && (s.r___37215).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.r___37215);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___37215) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_4 = r0 = s.hex___37213;
    s.tmp_7 = r0 = s.arg0;
    r0 = (7 - s.i___37216);
    s.tmp_9 = r0;
    r0 = (s.tmp_9 * 4);
    s.tmp_8 = r0;
    r0 = (s.tmp_7 >>> s.tmp_8);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 & 15);
    s.tmp_5 = r0;
    r0 = pxsim_String_.charAt(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_2);
    s.r___37215 = (r0);
    r0 = (s.i___37216 + 1);
    s.i___37216 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.r___37215;
    return leave(s, r0)
  default: oops()
} } }
hexNum__P34256.info = {"start":3389,"length":181,"line":96,"column":0,"endLine":103,"endColumn":1,"fileName":"services.ts","functionName":"hexNum","argumentNames":["n"]}

function hexNum__P34256_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: hexNum__P34256, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  hex___37213: undefined,
  r___37215: undefined,
  i___37216: undefined,
  arg0: undefined,
} }





function jacdac_Device_shortId__P33561(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    r0 = s.arg0.fields["_shortId"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = r0 = s.arg0;
    s.tmp_5 = jacdac_shortDeviceId__P33553_mk(s);
    r0 = s.arg0.fields["deviceId"];
    s.tmp_5.arg0 = r0;
    s.callLocIdx = 1379; s.pc = 3; return s.tmp_5;
  case 3:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["_shortId"] = (s.tmp_4);
  case 1:
  case 2:
    r0 = s.arg0.fields["_shortId"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Device_shortId__P33561.info = {"start":12966,"length":203,"line":413,"column":8,"endLine":418,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"shortId","argumentNames":["this"]}
jacdac_Device_shortId__P33561.isGetter = true;

function jacdac_Device_shortId__P33561_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_shortId__P33561, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function jacdac_shortDeviceId__P33553(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.h___42819 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = Buffer_fromHex__P29623_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 1377; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.hash(s.tmp_0, 30);
    s.h___42819 = (r0);
    r0 = (s.h___42819 % 26);
    s.tmp_7 = r0;
    r0 = (65 + s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_6);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim.Math_.idiv(s.h___42819, 26);
    s.tmp_12 = r0;
    r0 = (s.tmp_12 % 26);
    s.tmp_11 = r0;
    r0 = (65 + s.tmp_11);
    s.tmp_10 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_10);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_8);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim.Math_.idiv(s.h___42819, 676);
    s.tmp_17 = r0;
    r0 = (s.tmp_17 % 26);
    s.tmp_16 = r0;
    r0 = (65 + s.tmp_16);
    s.tmp_15 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_15);
    s.tmp_14 = r0;
    if ((s.tmp_14) && (s.tmp_14).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_14);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_14) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_13 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_13);
    s.tmp_1 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim.Math_.idiv(s.h___42819, 17576);
    s.tmp_22 = r0;
    r0 = (s.tmp_22 % 26);
    s.tmp_21 = r0;
    r0 = (65 + s.tmp_21);
    s.tmp_20 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_20);
    s.tmp_19 = r0;
    if ((s.tmp_19) && (s.tmp_19).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_19);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_19) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_18 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_18);
    return leave(s, r0)
  default: oops()
} } }
jacdac_shortDeviceId__P33553.info = {"start":11856,"length":358,"line":376,"column":4,"endLine":382,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"shortDeviceId","argumentNames":["devid"]}

function jacdac_shortDeviceId__P33553_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_shortDeviceId__P33553, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  tmp_19: undefined,
  tmp_20: undefined,
  tmp_21: undefined,
  tmp_22: undefined,
  h___42819: undefined,
  arg0: undefined,
} }





function jacdac_devices__P33573(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = helpers_arraySlice__P29539_mk(s);
    s.tmp_0.arg0 = globals.devices____36409;
    s.tmp_0.arg1 = undefined;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 1409; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_devices__P33573.info = {"start":16563,"length":65,"line":530,"column":4,"endLine":532,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"devices","argumentNames":[]}

function jacdac_devices__P33573_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_devices__P33573, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function operateDNS__P34237(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_DeviceNameClient__C33761_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_DeviceNameClient_constructor__P33763_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = s.arg0.fields["deviceId"];
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 324; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    globals.dns___34232 = (s.tmp_0);
    s.tmp_0 = jacdac_DeviceNameClient_scan__P33764_mk(s);
    s.tmp_0.arg0 = globals.dns___34232;
    s.callLocIdx = 325; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "title", "Bind function");
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "update", inline__P38292);
    s.tmp_1 = menu_show__P34230_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 338; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
operateDNS__P34237.info = {"start":1400,"length":727,"line":49,"column":0,"endLine":69,"endColumn":1,"fileName":"main.ts","functionName":"operateDNS","argumentNames":["ourDNS"]}

function operateDNS__P34237_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: operateDNS__P34237, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P38292(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = if_elements_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = helpers_arrayMap__P29531_mk(s);
    s.tmp_2 = helpers_arrayFilter__P29535_mk(s);
    r0 = globals.dns___34232.fields["remoteRequestedDevices"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = inline__P38300;
    s.callLocIdx = 326; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = inline__P38309;
    s.callLocIdx = 332; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "elements", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/elements"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["elements"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 333; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    s.tmp_1 = if_elements_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "elements");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["elements"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["elements"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 334; s.pc = 4; return s.tmp_1; }
    }
  case 4:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = menu_item__P34220_mk(s);
    s.tmp_3.arg0 = "Clear all names";
    s.tmp_3.arg1 = inline__P38337;
    s.tmp_3.arg2 = undefined;
    s.tmp_3.arg3 = undefined;
    s.callLocIdx = 337; s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38292.info = {"start":1580,"length":538,"line":55,"column":16,"endLine":67,"endColumn":9,"fileName":"main.ts","functionName":"inline","argumentNames":["opts"]}

function inline__P38292_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38292, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function inline__P38300(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["name"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["name"];
    s.tmp_2 = r0;
    r0 = pxsim_String_.charAt(s.tmp_2, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != ".");
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    return leave(s, r0)
  default: oops()
} } }
inline__P38300.info = {"start":1669,"length":31,"line":57,"column":24,"endLine":57,"endColumn":55,"fileName":"main.ts","functionName":"inline","argumentNames":["r"]}

function inline__P38300_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38300, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function inline__P38309(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkAction(1, inline__P38316);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = menu_item__P34220_mk(s);
    s.tmp_2 = describeRemote__P34234_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 327; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.tmp_1.arg2 = undefined;
    s.tmp_1.arg3 = undefined;
    s.callLocIdx = 331; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P38309.info = {"start":1723,"length":204,"line":58,"column":21,"endLine":62,"endColumn":22,"fileName":"main.ts","functionName":"inline","argumentNames":["r"]}

function inline__P38309_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38309, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P38316(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.newD___38317 = undefined;
    r0 = pxsim_pxtcore_mkAction(1, inline__P38322);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[0]);
    s.tmp_1 = selectDevice__P34236_mk(s);
    r0 = s.caps[0].fields["name"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 329; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.newD___38317 = (r0);
    s.tmp_0 = jacdac_RemoteRequestedDevice_select__P33760_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.newD___38317;
    s.callLocIdx = 330; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38316.info = {"start":1777,"length":149,"line":59,"column":49,"endLine":62,"endColumn":21,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38316_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38316, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  newD___38317: undefined,
} }





function inline__P38322(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_RemoteRequestedDevice_isCandidate__P33759_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 328; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P38322.info = {"start":1843,"length":21,"line":60,"column":58,"endLine":60,"endColumn":79,"fileName":"main.ts","functionName":"inline","argumentNames":["d"]}

function inline__P38322_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38322, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P38337(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_DeviceNameClient_clearNames__P33765_mk(s);
    s.tmp_0.arg0 = globals.dns___34232;
    s.callLocIdx = 335; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = resetAll__P34239_mk(s);
    s.callLocIdx = 336; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38337.info = {"start":1989,"length":117,"line":63,"column":60,"endLine":66,"endColumn":13,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38337_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38337, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_DeviceNameClient_clearNames__P33765(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_DeviceNameClient__C33761_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_sendCommandWithAck__P33547_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = jacdac_JDPacket_onlyHeader__P33606_mk(s);
    s.tmp_1.arg0 = 132;
    s.callLocIdx = 1593; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1594; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_DeviceNameClient_clearNames__P33765.info = {"start":8207,"length":107,"line":243,"column":8,"endLine":245,"endColumn":9,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"clearNames","argumentNames":["this"]}

function jacdac_DeviceNameClient_clearNames__P33765_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_DeviceNameClient_clearNames__P33765, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Client_sendCommandWithAck__P33547(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P33551_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1365; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = s.arg0.fields["serviceNumber"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_JDPacket_service_number__P33616_mk(s);
    s.tmp_2.arg0 = s.arg1;
    r0 = s.arg0.fields["serviceNumber"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 1366; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.tmp_3 = jacdac_JDPacket__sendWithAck__P33636_mk(s);
    s.tmp_3.arg0 = s.arg1;
    r0 = s.arg0.fields["device"];
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 1367; s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.throwValue("No ACK");
  case 3:
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_sendCommandWithAck__P33547.info = {"start":9769,"length":268,"line":315,"column":8,"endLine":322,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"sendCommandWithAck","argumentNames":["this","pkt"]}

function jacdac_Client_sendCommandWithAck__P33547_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_sendCommandWithAck__P33547, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket__sendWithAck__P33636(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.aw___41607 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = false;
    { step = 7; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_JDPacket_requires_ack__P33614_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = true;
    s.callLocIdx = 1507; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendCmd__P33634_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1508; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(globals.ackAwaiters___36449);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array__mk();
    globals.ackAwaiters___36449 = (r0);
    s.tmp_0 = control_runInBackground__P29706_mk(s);
    s.tmp_0.arg0 = inline__P41601;
    s.callLocIdx = 1511; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_AckAwaiter__C36452_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_AckAwaiter_constructor__P36453_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    r0 = s.arg1.fields["deviceId"];
    s.tmp_1.arg2 = r0;
    s.callLocIdx = 1512; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    s.aw___41607 = (s.tmp_0);
    r0 = pxsim_Array__push(globals.ackAwaiters___36449, s.aw___41607);
  case 5:
    r0 = s.aw___41607.fields["added"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.aw___41607.fields["eventId"];
    s.tmp_2 = r0;
    setupResume(s, 12);
    pxsim.control.waitForEvent(1023, s.tmp_2);
    checkResumeConsumed();
    return;
  case 12:
    r0 = s.retval;
    { step = 5; continue; }
  case 6:
    r0 = s.aw___41607.fields["added"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == 0);
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket__sendWithAck__P33636.info = {"start":6486,"length":685,"line":201,"column":8,"endLine":222,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"_sendWithAck","argumentNames":["this","dev"]}

function jacdac_JDPacket__sendWithAck__P33636_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket__sendWithAck__P33636, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  aw___41607: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P41601(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

  case 1:
    r0 = pxsim_numops_toBoolDecr(1);
    if (!r0) { step = 2; continue; }
    s.tmp_0 = pause__P29829_mk(s);
    r0 = pxsim.Math_.randomRange(20, 50);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1509; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = jacdac_checkAckAwaiters__P36454_mk(s);
    s.callLocIdx = 1510; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P41601.info = {"start":6739,"length":178,"line":209,"column":40,"endLine":214,"endColumn":17,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"inline","argumentNames":[]}

function inline__P41601_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41601, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_checkAckAwaiters__P36454(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.now___41643 = undefined;
    s.retryTime___41646 = undefined;
    s.toRetry___41649 = undefined;
    s.a___41663 = undefined;
    s.unnamed530___U4 = undefined;
    s.unnamed531___U5 = undefined;
    r0 = pxsim.control.millis();
    s.now___41643 = (r0);
    r0 = (s.now___41643 - 30);
    s.retryTime___41646 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P41651);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.retryTime___41646);
    s.tmp_1 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_1.arg0 = globals.ackAwaiters___36449;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1514; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    s.toRetry___41649 = (r0);
    r0 = pxsim_Array__length(s.toRetry___41649);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 10; continue; }
  case 1:
  case 2:
    s.a___41663 = (undefined);
    s.unnamed530___U4 = (s.toRetry___41649);
    s.unnamed531___U5 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed531___U5;
    r0 = pxsim_Array__length(s.unnamed530___U4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_Array__getAt(s.unnamed530___U4, s.unnamed531___U5);
    s.a___41663 = (r0);
    r0 = s.a___41663.fields["added"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    { step = 8; continue; }
  case 4:
  case 5:
    r0 = s.a___41663.fields["numTries"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >= 3);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 6; continue; }
    r0 = (s.a___41663).fields["added"] = (-1);
    r0 = s.a___41663.fields["eventId"];
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(1023, s.tmp_0);
    { step = 7; continue; }
  case 6:
    s.tmp_0 = r0 = s.a___41663;
    r0 = s.tmp_0.fields["numTries"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["numTries"] = (s.tmp_1);
    s.tmp_0 = jacdac_JDPacket__sendCore__P33632_mk(s);
    r0 = s.a___41663.fields["pkt"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1515; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = (s.unnamed531___U5 + 1);
    s.unnamed531___U5 = (r0);
    { step = 3; continue; }
  case 9:
    s.unnamed530___U4 = (undefined);
    s.tmp_0 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_0.arg0 = globals.ackAwaiters___36449;
    s.tmp_0.arg1 = inline__P41690;
    s.callLocIdx = 1516; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    globals.ackAwaiters___36449 = (r0);
  case 10:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_checkAckAwaiters__P36454.info = {"start":7540,"length":640,"line":240,"column":4,"endLine":258,"endColumn":5,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"checkAckAwaiters","argumentNames":[]}

function jacdac_checkAckAwaiters__P36454_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_checkAckAwaiters__P36454, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  now___41643: undefined,
  retryTime___41646: undefined,
  toRetry___41649: undefined,
  a___41663: undefined,
  unnamed530___U4: undefined,
  unnamed531___U5: undefined,
} }





function inline__P41651(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["added"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 < s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P41651.info = {"start":7685,"length":24,"line":243,"column":43,"endLine":243,"endColumn":67,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"inline","argumentNames":["a"]}

function inline__P41651_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41651, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P41690(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["added"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 > 0);
    return leave(s, r0)
  default: oops()
} } }
inline__P41690.info = {"start":8157,"length":16,"line":257,"column":41,"endLine":257,"endColumn":57,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"inline","argumentNames":["a"]}

function inline__P41690_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41690, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_AckAwaiter_constructor__P36453(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_AckAwaiter__C36452_VT)) failedCast(r0);
    r0 = (s.arg0).fields["pkt"] = (s.arg1);
    r0 = (s.arg0).fields["srcId"] = (s.arg2);
    r0 = (s.arg0).fields["numTries"] = (1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg1.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["crc"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["added"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.allocateNotifyEvent();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["eventId"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_AckAwaiter_constructor__P36453.info = {"start":7297,"length":231,"line":230,"column":8,"endLine":237,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"inline","argumentNames":["this","pkt","srcId"]}

function jacdac_AckAwaiter_constructor__P36453_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_AckAwaiter_constructor__P36453, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_JDPacket_crc__P33617(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_crc__P33617.info = {"start":3270,"length":97,"line":95,"column":8,"endLine":97,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"crc","argumentNames":["this"]}
jacdac_JDPacket_crc__P33617.isGetter = true;

function jacdac_JDPacket_crc__P33617_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_crc__P33617, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_requires_ack__P33614(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    s.tmp_1 = r0 = s.arg1;
    s.tmp_3 = jacdac_JDPacket_requires_ack__P33613_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 1486; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 != s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_header"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_4, 3);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 ^ 2);
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_4, 3, s.tmp_5);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_requires_ack__P33614.info = {"start":2754,"length":147,"line":81,"column":8,"endLine":84,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"requires_ack","argumentNames":["this","ack"]}

function jacdac_JDPacket_requires_ack__P33614_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_requires_ack__P33614, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_requires_ack__P33613(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = true;
    { step = 2; continue; }
  case 1:
    r0 = false;
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_requires_ack__P33613.info = {"start":2621,"length":124,"line":78,"column":8,"endLine":80,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"requires_ack","argumentNames":["this"]}
jacdac_JDPacket_requires_ack__P33613.isGetter = true;

function jacdac_JDPacket_requires_ack__P33613_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_requires_ack__P33613, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_packet_flags__P33610(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_0, 3);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_packet_flags__P33610.info = {"start":2263,"length":45,"line":66,"column":8,"endLine":66,"endColumn":53,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"packet_flags","argumentNames":["this"]}
jacdac_JDPacket_packet_flags__P33610.isGetter = true;

function jacdac_JDPacket_packet_flags__P33610_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_packet_flags__P33610, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_RemoteRequestedDevice_select__P33760(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RemoteRequestedDevice__C33754_VT)) failedCast(r0);
    r0 = s.arg0.fields["boundTo"];
    s.tmp_1 = r0;
    r0 = (s.arg1 == s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["parent"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == null);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    s.tmp_4 = jacdac_setDevName__P36501_mk(s);
    r0 = s.arg1.fields["deviceId"];
    s.tmp_4.arg0 = r0;
    r0 = s.arg0.fields["name"];
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 1567; s.pc = 8; return s.tmp_4;
  case 8:
    r0 = s.retval;
    { step = 6; continue; }
  case 3:
    r0 = s.arg0.fields["boundTo"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_1 = jacdac_DeviceNameClient_setName__P33766_mk(s);
    r0 = s.arg0.fields["parent"];
    s.tmp_1.arg0 = r0;
    r0 = s.arg0.fields["boundTo"];
    s.tmp_1.arg1 = r0;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1.arg2 = r0;
    s.callLocIdx = 1568; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
  case 4:
  case 5:
    s.tmp_0 = jacdac_DeviceNameClient_setName__P33766_mk(s);
    r0 = s.arg0.fields["parent"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg1;
    r0 = s.arg0.fields["name"];
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1569; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
  case 6:
    r0 = (s.arg0).fields["boundTo"] = (s.arg1);
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RemoteRequestedDevice_select__P33760.info = {"start":5572,"length":392,"line":168,"column":8,"endLine":179,"endColumn":9,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"select","argumentNames":["this","dev"]}

function jacdac_RemoteRequestedDevice_select__P33760_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RemoteRequestedDevice_select__P33760, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_setDevName__P36501(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.devid___41756 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    if ((globals.devNameSettingPrefix___33505) && (globals.devNameSettingPrefix___33505).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(globals.devNameSettingPrefix___33505);
    checkResumeConsumed();
    return;
    } else { s.retval = (globals.devNameSettingPrefix___33505) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.devid___41756 = (r0);
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = settings_remove__P31297_mk(s);
    s.tmp_2.arg0 = s.devid___41756;
    s.callLocIdx = 1555; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_0 = settings_writeString__P31289_mk(s);
    s.tmp_0.arg0 = s.devid___41756;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1556; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 2:
    s.tmp_0 = jacdac_Device_clearNameCache__P33571_mk(s);
    s.callLocIdx = 1557; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_setDevName__P36501.info = {"start":1952,"length":257,"line":63,"column":4,"endLine":70,"endColumn":5,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"setDevName","argumentNames":["id","name"]}

function jacdac_setDevName__P36501_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_setDevName__P36501, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  devid___41756: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Device_clearNameCache__P33571(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.d___41772 = undefined;
    s.unnamed512___U1 = undefined;
    s.unnamed513___U2 = undefined;
    s.d___41772 = (undefined);
    s.unnamed512___U1 = (globals.devices____36409);
    s.unnamed513___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed513___U2;
    r0 = pxsim_Array__length(s.unnamed512___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed512___U1, s.unnamed513___U2);
    s.d___41772 = (r0);
    r0 = (s.d___41772).fields["_name"] = (undefined);
    r0 = (s.unnamed513___U2 + 1);
    s.unnamed513___U2 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed512___U1 = (undefined);
    s.tmp_0 = jacdac_clearAttachCache__P36431_mk(s);
    s.callLocIdx = 1402; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_clearNameCache__P33571.info = {"start":15539,"length":138,"line":492,"column":8,"endLine":496,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"clearNameCache","argumentNames":[]}

function jacdac_Device_clearNameCache__P33571_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_clearNameCache__P33571, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  d___41772: undefined,
  unnamed512___U1: undefined,
  unnamed513___U2: undefined,
} }





function settings_remove__P31297(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._remove(s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_remove__P31297.info = {"start":3702,"length":64,"line":148,"column":4,"endLine":150,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"remove","argumentNames":["key"]}

function settings_remove__P31297_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_remove__P31297, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function settings_writeString__P31289(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = settings_writeBuffer__P31288_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = pxsim.control.createBufferFromUTF8(s.arg1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 213; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_writeString__P31289.info = {"start":1895,"length":125,"line":75,"column":4,"endLine":77,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"writeString","argumentNames":["key","value"]}

function settings_writeString__P31289_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_writeString__P31289, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function settings_writeBuffer__P31288(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._set(s.arg0, s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.settings._userClean();
    r0 = pxsim_pxtrt.panic(920);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_writeBuffer__P31288.info = {"start":1538,"length":290,"line":63,"column":4,"endLine":70,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"writeBuffer","argumentNames":["key","value"]}

function settings_writeBuffer__P31288_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_writeBuffer__P31288, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_DeviceNameClient_setName__P33766(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_DeviceNameClient__C33761_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_sendCommandWithAck__P33547_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_1.arg0 = 129;
    s.tmp_2 = helpers_bufferConcat__P29606_mk(s);
    s.tmp_3 = Buffer_fromHex__P29623_mk(s);
    r0 = s.arg1.fields["deviceId"];
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 1595; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    r0 = pxsim.control.createBufferFromUTF8(s.arg2);
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 1596; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1597; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1598; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_DeviceNameClient_setName__P33766.info = {"start":8324,"length":191,"line":247,"column":8,"endLine":250,"endColumn":9,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"setName","argumentNames":["this","dev","name"]}

function jacdac_DeviceNameClient_setName__P33766_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_DeviceNameClient_setName__P33766, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_RemoteRequestedDevice_isCandidate__P33759(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RemoteRequestedDevice__C33754_VT)) failedCast(r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P41804);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);
    s.tmp_1 = helpers_arrayEvery__P29533_mk(s);
    r0 = s.arg0.fields["services"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1566; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RemoteRequestedDevice_isCandidate__P33759.info = {"start":5461,"length":101,"line":164,"column":8,"endLine":166,"endColumn":9,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"isCandidate","argumentNames":["this","ldev"]}

function jacdac_RemoteRequestedDevice_isCandidate__P33759_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RemoteRequestedDevice_isCandidate__P33759, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P41804(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_Device_hasService__P33569_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 1565; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P41804.info = {"start":5528,"length":23,"line":165,"column":39,"endLine":165,"endColumn":62,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":["s"]}

function inline__P41804_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41804, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Device_hasService__P33569(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___41549 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    s.i___41549 = (4);
  case 1:
    s.tmp_1 = r0 = s.i___41549;
    r0 = s.arg0.fields["services"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = s.arg0.fields["services"];
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_6, 11, s.i___41549);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 == s.arg1);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 2; continue; }
    r0 = true;
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___41549 + 4);
    s.i___41549 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = false;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_hasService__P33569.info = {"start":15026,"length":252,"line":479,"column":8,"endLine":484,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"hasService","argumentNames":["this","service_class"]}

function jacdac_Device_hasService__P33569_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_hasService__P33569, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  i___41549: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_arrayEvery__P29533(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___42383 = undefined;
    s.i___42386 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___42383 = (r0);
    s.i___42386 = (0);
  case 1:
    r0 = (s.i___42386 < s.len___42383);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_4 = lambda_3_mk(s);
    s.tmp_4.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___42386);
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = s.i___42386;
    setupLambda(s.tmp_4, s.tmp_4.argL);
    s.callLocIdx = 6; s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = false;
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___42386 + 1);
    s.i___42386 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = true;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayEvery__P29533.info = {"start":7135,"length":298,"line":246,"column":4,"endLine":252,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayEvery","argumentNames":["arr","callbackfn"]}

function helpers_arrayEvery__P29533_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayEvery__P29533, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  len___42383: undefined,
  i___42386: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function selectDevice__P34236(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___38248 = undefined;
    s.devs___38250 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtrt.mklocRef();
    s.res___38248 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.res___38248, undefined);
    r0 = pxsim_pxtrt.mklocRef();
    s.devs___38250 = (r0);
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 1);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("Function: ", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "title", s.tmp_1);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "footer", "A = select, -> = identify");
    r0 = pxsim_pxtcore_mkAction(3, inline__P38257);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_3, 0, s.devs___38250);
    r0 = pxsim_pxtrt_stclo(s.tmp_3, 1, s.arg1);
    r0 = pxsim_pxtrt_stclo(s.tmp_3, 2, s.res___38248);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "update", s.tmp_3);
    s.tmp_4 = menu_show__P34230_mk(s);
    s.tmp_4.arg0 = s.tmp_0;
    s.callLocIdx = 323; s.pc = 2; return s.tmp_4;
  case 2:
    r0 = s.retval;
    r0 = pxsim_pxtrt_ldlocRef(s.res___38248);
    return leave(s, r0)
  default: oops()
} } }
selectDevice__P34236.info = {"start":883,"length":515,"line":32,"column":0,"endLine":47,"endColumn":1,"fileName":"main.ts","functionName":"selectDevice","argumentNames":["fun","cond"]}

function selectDevice__P34236_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: selectDevice__P34236, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  res___38248: undefined,
  devs___38250: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P38257(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.caps[0];
    s.tmp_2 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_3 = jacdac_devices__P33573_mk(s);
    s.callLocIdx = 315; s.pc = 2; return s.tmp_3;
  case 2:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.caps[1];
    s.callLocIdx = 316; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtcore_mkAction(1, inline__P38267);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[2]);
    s.tmp_1 = if_elements_2_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_2 = helpers_arrayMap__P29531_mk(s);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.tmp_0;
    s.callLocIdx = 321; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_1.arg0, "elements", s.tmp_1.arg1);
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["set/elements"];
      if (s.tmp_1.fn === null) { s.tmp_1.arg0.fields["elements"] = s.tmp_1.arg1; }
      else if (s.tmp_1.fn === undefined) { failedCast(s.tmp_1.arg0) } 
     else { s.callLocIdx = 322; s.pc = 3; return s.tmp_1; }
    }
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38257.info = {"start":1140,"length":234,"line":38,"column":16,"endLine":44,"endColumn":9,"fileName":"main.ts","functionName":"inline","argumentNames":["opts"]}

function inline__P38257_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38257, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function inline__P38267(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkAction(2, inline__P38273);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[0]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P38279);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);
    s.tmp_2 = menu_item__P34220_mk(s);
    s.tmp_3 = describe__P34233_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 317; s.pc = 2; return s.tmp_3;
  case 2:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.tmp_0;
    s.tmp_2.arg2 = s.tmp_1;
    s.tmp_2.arg3 = undefined;
    s.callLocIdx = 320; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P38267.info = {"start":1236,"length":127,"line":40,"column":37,"endLine":43,"endColumn":33,"fileName":"main.ts","functionName":"inline","argumentNames":["d"]}

function inline__P38267_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38267, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function inline__P38273(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtrt_stlocRef(s.caps[0], s.caps[1]);
    s.tmp_0 = menu_exit__P34229_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 318; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38273.info = {"start":1264,"length":79,"line":40,"column":65,"endLine":43,"endColumn":13,"fileName":"main.ts","functionName":"inline","argumentNames":["opts"]}

function inline__P38273_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38273, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P38279(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = identify__P34235_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 319; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38279.info = {"start":1345,"length":17,"line":43,"column":15,"endLine":43,"endColumn":32,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38279_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38279, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function describeRemote__P34234(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.bnd___38178 = undefined;
    s.n___38184 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["boundTo"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = jacdac_Device_shortId__P33561_mk(s);
    r0 = s.arg0.fields["boundTo"];
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 310; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.mkEmpty();
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.bnd___38178 = (s.tmp_2);
    r0 = pxsim_pxtcore_mkAction(1, inline__P38189);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_2 = helpers_arrayFilter__P29535_mk(s);
    r0 = s.arg0.fields["candidates"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.tmp_0;
    s.callLocIdx = 311; s.pc = 10; return s.tmp_2;
  case 10:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__length(s.tmp_1);
    s.n___38184 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.n___38184);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_numops_toBoolDecr(s.bnd___38178);
    if (!r0) { step = 3; continue; }
    if ((s.bnd___38178) && (s.bnd___38178).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.bnd___38178);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.bnd___38178) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.n___38184) && (s.n___38184).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.n___38184);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.n___38184) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("+", s.tmp_3);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.bnd___38178 = (r0);
    { step = 4; continue; }
  case 3:
    r0 = pxsim_String_.mkEmpty();
    s.tmp_0 = r0;
    if ((s.n___38184) && (s.n___38184).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.n___38184);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.n___38184) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.bnd___38178 = (r0);
  case 4:
  case 5:
  case 6:
    r0 = pxsim_numops_toBoolDecr(s.bnd___38178);
    if (!r0) { step = 7; continue; }
    if ((s.bnd___38178) && (s.bnd___38178).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.bnd___38178);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.bnd___38178) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("(", s.tmp_2);
    s.tmp_1 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, ")");
    s.bnd___38178 = (r0);
  case 7:
  case 8:
    r0 = pxsim_String_.mkEmpty();
    s.tmp_2 = r0;
    r0 = s.arg0.fields["name"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, " ");
    s.tmp_0 = r0;
    if ((s.bnd___38178) && (s.bnd___38178).vtable) {
    setupResume(s, 18);
    pxsim_String__stringConv(s.bnd___38178);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.bnd___38178) + ""; }
  case 18:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_5);
    return leave(s, r0)
  default: oops()
} } }
describeRemote__P34234.info = {"start":343,"length":325,"line":13,"column":0,"endLine":22,"endColumn":1,"fileName":"main.ts","functionName":"describeRemote","argumentNames":["dev"]}

function describeRemote__P34234_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: describeRemote__P34234, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  bnd___38178: undefined,
  n___38184: undefined,
  arg0: undefined,
} }





function inline__P38189(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.caps[0].fields["boundTo"];
    s.tmp_0 = r0;
    r0 = (s.arg0 != s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
inline__P38189.info = {"start":493,"length":21,"line":15,"column":36,"endLine":15,"endColumn":57,"fileName":"main.ts","functionName":"inline","argumentNames":["c"]}

function inline__P38189_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38189, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_DeviceNameClient_scan__P33764(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_DeviceNameClient__C33761_VT)) failedCast(r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P41812);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = pauseUntil__P29783_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = undefined;
    s.callLocIdx = 1589; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_Client_sendCommand__P33546_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = jacdac_JDPacket_onlyHeader__P33606_mk(s);
    s.tmp_1.arg0 = 131;
    s.callLocIdx = 1590; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1591; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 100;
    s.callLocIdx = 1592; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_DeviceNameClient_scan__P33764.info = {"start":8032,"length":165,"line":237,"column":8,"endLine":241,"endColumn":9,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"scan","argumentNames":["this"]}

function jacdac_DeviceNameClient_scan__P33764_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_DeviceNameClient_scan__P33764, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P41812(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["device"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
inline__P41812.info = {"start":8064,"length":24,"line":238,"column":23,"endLine":238,"endColumn":47,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":[]}

function inline__P41812_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41812, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
} }





function jacdac_Client_sendCommand__P33546(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P33551_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1362; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = s.arg0.fields["serviceNumber"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_JDPacket_service_number__P33616_mk(s);
    s.tmp_2.arg0 = s.arg1;
    r0 = s.arg0.fields["serviceNumber"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 1363; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendCmd__P33634_mk(s);
    s.tmp_0.arg0 = s.arg1;
    r0 = s.arg0.fields["device"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1364; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_sendCommand__P33546.info = {"start":9539,"length":220,"line":307,"column":8,"endLine":313,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"sendCommand","argumentNames":["this","pkt"]}

function jacdac_Client_sendCommand__P33546_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_sendCommand__P33546, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_isConnected__P33540(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    r0 = s.arg0.fields["device"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_isConnected__P33540.info = {"start":7885,"length":58,"line":256,"column":8,"endLine":258,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"isConnected","argumentNames":["this"]}

function jacdac_Client_isConnected__P33540_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_isConnected__P33540, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_DeviceNameClient_constructor__P33763(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_DeviceNameClient__C33761_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["remoteRequestedDevices"] = (s.tmp_1);
    s.tmp_2 = jacdac_Client_constructor__P33538_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = "dnsc";
    s.tmp_2.arg2 = 293022141;
    s.tmp_2.arg3 = s.arg1;
    s.callLocIdx = 1575; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P41825);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = jacdac_onNewDevice__P33576_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 1577; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P41830);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = jacdac_onAnnounce__P33575_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 1580; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_Dechunker__C33749_VT);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore_mkAction(1, inline__P41840);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);
    s.tmp_2 = jacdac_Dechunker_constructor__P33752_mk(s);
    s.tmp_2.arg0 = s.tmp_0;
    s.tmp_2.arg1 = 131;
    s.tmp_2.arg2 = s.tmp_1;
    s.callLocIdx = 1587; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    r0 = (s.arg0).fields["usedNames"] = (s.tmp_0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_DeviceNameClient_constructor__P33763.info = {"start":6675,"length":1347,"line":201,"column":8,"endLine":235,"endColumn":9,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":["this","requiredDevice"]}

function jacdac_DeviceNameClient_constructor__P33763_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_DeviceNameClient_constructor__P33763, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P41825(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_recomputeCandidates__P36504_mk(s);
    r0 = s.caps[0].fields["remoteRequestedDevices"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1576; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P41825.info = {"start":6817,"length":86,"line":204,"column":24,"endLine":206,"endColumn":13,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":[]}

function inline__P41825_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41825, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P41830(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_Client_sendCommand__P33546_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_1 = jacdac_JDPacket_onlyHeader__P33606_mk(s);
    s.tmp_1.arg0 = 131;
    s.callLocIdx = 1578; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1579; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P41830.info = {"start":6929,"length":100,"line":208,"column":23,"endLine":210,"endColumn":13,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":[]}

function inline__P41830_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41830, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function inline__P41840(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.off___41842 = undefined;
    s.devs___41843 = undefined;
    s.localDevs___41845 = undefined;
    s.devid___41853 = undefined;
    s.service_class___41868 = undefined;
    s.nameBytes___41869 = undefined;
    s.name___41874 = undefined;
    s.r___41886 = undefined;
    s.dev___41892 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.off___41842 = (0);
    r0 = pxsim_Array__mk();
    s.devs___41843 = (r0);
    s.tmp_0 = jacdac_devices__P33573_mk(s);
    s.callLocIdx = 1581; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.localDevs___41845 = (r0);
  case 1:
    s.tmp_1 = r0 = s.off___41842;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim.BufferMethods.slice(s.arg0, s.off___41842, 8);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_3);
    s.devid___41853 = (r0);
    r0 = (s.off___41842 + 8);
    s.off___41842 = (r0);
    s.tmp_1 = helpers_bufferUnpack__P29609_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = "Ib";
    s.tmp_1.arg2 = s.off___41842;
    s.callLocIdx = 1582; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, 0);
    s.service_class___41868 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 1);
    s.nameBytes___41869 = (r0);
    r0 = (s.off___41842 + 5);
    s.off___41842 = (r0);
    r0 = pxsim.BufferMethods.slice(s.arg0, s.off___41842, s.nameBytes___41869);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.toString(s.tmp_0);
    s.name___41874 = (r0);
    r0 = (s.off___41842 + s.nameBytes___41869);
    s.off___41842 = (r0);
    s.tmp_0 = jacdac_addRequested__P36505_mk(s);
    s.tmp_0.arg0 = s.devs___41843;
    s.tmp_0.arg1 = s.name___41874;
    s.tmp_0.arg2 = s.service_class___41868;
    s.tmp_0.arg3 = s.caps[0];
    s.callLocIdx = 1583; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.r___41886 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P41894);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.devid___41853);
    s.tmp_1 = helpers_arrayFind__P29536_mk(s);
    s.tmp_1.arg0 = s.localDevs___41845;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1584; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.dev___41892 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.dev___41892);
    if (!r0) { step = 2; continue; }
    r0 = (s.r___41886).fields["boundTo"] = (s.dev___41892);
  case 2:
  case 3:
    { step = 1; continue; }
  case 4:
    s.tmp_0 = helpers_arraySort__P29530_mk(s);
    s.tmp_0.arg0 = s.devs___41843;
    s.tmp_0.arg1 = inline__P41908;
    s.callLocIdx = 1585; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = (s.caps[0]).fields["remoteRequestedDevices"] = (s.devs___41843);
    s.tmp_0 = jacdac_recomputeCandidates__P36504_mk(s);
    r0 = s.caps[0].fields["remoteRequestedDevices"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1586; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P41840.info = {"start":7100,"length":911,"line":212,"column":68,"endLine":234,"endColumn":13,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":["buf"]}

function inline__P41840_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41840, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  off___41842: undefined,
  devs___41843: undefined,
  localDevs___41845: undefined,
  devid___41853: undefined,
  service_class___41868: undefined,
  nameBytes___41869: undefined,
  name___41874: undefined,
  r___41886: undefined,
  dev___41892: undefined,
  arg0: undefined,
} }





function inline__P41894(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["deviceId"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P41894.info = {"start":7707,"length":24,"line":225,"column":47,"endLine":225,"endColumn":71,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":["d"]}

function inline__P41894_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41894, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P41908(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["name"];
    s.tmp_0 = r0;
    r0 = s.arg1.fields["name"];
    s.tmp_1 = r0;
    r0 = pxsim_String_.compare(s.tmp_0, s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P41908.info = {"start":7847,"length":32,"line":230,"column":26,"endLine":230,"endColumn":58,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":["a","b"]}

function inline__P41908_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41908, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_addRequested__P36505(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___41927 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkAction(1, inline__P41930);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);
    s.tmp_1 = helpers_arrayFind__P29536_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1573; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.r___41927 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.r___41927);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_RemoteRequestedDevice__C33754_VT);
    s.tmp_2 = r0;
    s.tmp_3 = jacdac_RemoteRequestedDevice_constructor__P33758_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    s.tmp_3.arg1 = s.arg3;
    s.tmp_3.arg2 = s.arg1;
    s.callLocIdx = 1574; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    s.r___41927 = (s.tmp_2);
    r0 = pxsim_Array__push(s.arg0, s.tmp_2);
  case 1:
  case 2:
    r0 = s.r___41927.fields["services"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg2);
    r0 = s.r___41927;
    return leave(s, r0)
  default: oops()
} } }
jacdac_addRequested__P36505.info = {"start":6198,"length":309,"line":188,"column":4,"endLine":194,"endColumn":5,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"addRequested","argumentNames":["devs","name","service_class","parent"]}

function jacdac_addRequested__P36505_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_addRequested__P36505, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  r___41927: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function inline__P41930(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["name"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P41930.info = {"start":6342,"length":19,"line":189,"column":26,"endLine":189,"endColumn":45,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":["d"]}

function inline__P41930_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41930, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_RemoteRequestedDevice_constructor__P33758(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RemoteRequestedDevice__C33754_VT)) failedCast(r0);
    r0 = (s.arg0).fields["parent"] = (s.arg1);
    r0 = (s.arg0).fields["name"] = (s.arg2);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["services"] = (s.tmp_1);
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["candidates"] = (s.tmp_3);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RemoteRequestedDevice_constructor__P33758.info = {"start":5348,"length":103,"line":159,"column":8,"endLine":162,"endColumn":13,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":["this","parent","name"]}

function jacdac_RemoteRequestedDevice_constructor__P33758_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RemoteRequestedDevice_constructor__P33758, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_recomputeCandidates__P36504(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.localDevs___41959 = undefined;
    s.dev___41963 = undefined;
    s.unnamed538___U2 = undefined;
    s.unnamed539___U3 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_devices__P33573_mk(s);
    s.callLocIdx = 1570; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.localDevs___41959 = (r0);
    s.dev___41963 = (undefined);
    s.unnamed538___U2 = (s.arg0);
    s.unnamed539___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed539___U3;
    r0 = pxsim_Array__length(s.unnamed538___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed538___U2, s.unnamed539___U3);
    s.dev___41963 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P41969);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.dev___41963);
    s.tmp_3 = r0 = s.dev___41963;
    s.tmp_5 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_5.arg0 = s.localDevs___41959;
    s.tmp_5.arg1 = s.tmp_2;
    s.callLocIdx = 1572; s.pc = 4; return s.tmp_5;
  case 4:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["candidates"] = (s.tmp_4);
    r0 = (s.unnamed539___U3 + 1);
    s.unnamed539___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed538___U2 = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_recomputeCandidates__P36504.info = {"start":5976,"length":216,"line":182,"column":4,"endLine":186,"endColumn":5,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"recomputeCandidates","argumentNames":["remotes"]}

function jacdac_recomputeCandidates__P36504_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_recomputeCandidates__P36504, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  localDevs___41959: undefined,
  dev___41963: undefined,
  unnamed538___U2: undefined,
  unnamed539___U3: undefined,
  arg0: undefined,
} }





function inline__P41969(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_RemoteRequestedDevice_isCandidate__P33759_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 1571; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P41969.info = {"start":6156,"length":29,"line":185,"column":46,"endLine":185,"endColumn":75,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":["ldev"]}

function inline__P41969_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P41969, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Dechunker_constructor__P33752(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Dechunker__C33749_VT)) failedCast(r0);
    r0 = (s.arg0).fields["cmd"] = (s.arg1);
    r0 = (s.arg0).fields["onUpdate"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Dechunker_constructor__P33752.info = {"start":4262,"length":107,"line":119,"column":8,"endLine":122,"endColumn":13,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"inline","argumentNames":["this","cmd","onUpdate"]}

function jacdac_Dechunker_constructor__P33752_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Dechunker_constructor__P33752, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_onNewDevice__P33576(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals.newDeviceCallbacks___36411);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals.newDeviceCallbacks___36411 = (r0);
  case 1:
  case 2:
    r0 = pxsim_Array__push(globals.newDeviceCallbacks___36411, s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_onNewDevice__P33576.info = {"start":16951,"length":144,"line":546,"column":4,"endLine":549,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"onNewDevice","argumentNames":["cb"]}

function jacdac_onNewDevice__P33576_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_onNewDevice__P33576, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function helpers_bufferUnpack__P29609(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___42079 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.arg2 = (0);
  case 1:
  case 2:
    r0 = pxsim_Array__mk();
    s.res___42079 = (r0);
    s.tmp_0 = Buffer___packUnpackCore__P29630_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = s.res___42079;
    s.tmp_0.arg2 = s.arg0;
    s.tmp_0.arg3 = false;
    s.tmp_0.arg4 = s.arg2;
    s.callLocIdx = 29; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = s.res___42079;
    return leave(s, r0)
  default: oops()
} } }
helpers_bufferUnpack__P29609.info = {"start":4698,"length":229,"line":165,"column":4,"endLine":170,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"bufferUnpack","argumentNames":["buf","format","offset"]}

function helpers_bufferUnpack__P29609_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_bufferUnpack__P29609, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  res___42079: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function describe__P34233(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.name___38137 = undefined;
    s.bound___38143 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.mkEmpty();
    s.name___38137 = (r0);
    s.tmp_1 = r0 = s.arg0;
    s.tmp_3 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 307; s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.name___38137 = ("<self>");
    { step = 6; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(globals.dns___34232);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P38145);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = helpers_arrayFind__P29536_mk(s);
    r0 = globals.dns___34232.fields["remoteRequestedDevices"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 308; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.bound___38143 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.bound___38143);
    if (!r0) { step = 2; continue; }
    r0 = s.bound___38143.fields["name"];
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("(", s.tmp_2);
    s.tmp_1 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, ")");
    s.name___38137 = (r0);
  case 2:
  case 3:
  case 4:
  case 5:
  case 6:
    r0 = pxsim_String_.mkEmpty();
    s.tmp_2 = r0;
    s.tmp_5 = jacdac_Device_shortId__P33561_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.callLocIdx = 309; s.pc = 11; return s.tmp_5;
  case 11:
    r0 = s.retval;
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, " ");
    s.tmp_0 = r0;
    if ((s.name___38137) && (s.name___38137).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.name___38137);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.name___38137) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_6);
    return leave(s, r0)
  default: oops()
} } }
describe__P34233.info = {"start":34,"length":307,"line":2,"column":0,"endLine":11,"endColumn":1,"fileName":"main.ts","functionName":"describe","argumentNames":["dev"]}

function describe__P34233_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: describe__P34233, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  name___38137: undefined,
  bound___38143: undefined,
  arg0: undefined,
} }





function inline__P38145(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["boundTo"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P38145.info = {"start":226,"length":21,"line":7,"column":54,"endLine":7,"endColumn":75,"fileName":"main.ts","functionName":"inline","argumentNames":["d"]}

function inline__P38145_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38145, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function menu_item__P34220(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.item___36667 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(menu_Item__C34216_VT);
    s.tmp_0 = r0;
    s.tmp_1 = menu_Item_constructor__P34219_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.tmp_1.arg2 = s.arg1;
    s.callLocIdx = 83; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.item___36667 = (s.tmp_0);
    r0 = (s.item___36667).fields["onRight"] = (s.arg2);
    r0 = (s.item___36667).fields["onLeft"] = (s.arg3);
    r0 = s.item___36667;
    return leave(s, r0)
  default: oops()
} } }
menu_item__P34220.info = {"start":235,"length":215,"line":9,"column":4,"endLine":14,"endColumn":5,"fileName":"ui.ts","functionName":"item","argumentNames":["name","cb","onRight","onLeft"]}

function menu_item__P34220_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: menu_item__P34220, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  item___36667: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function menu_Item_constructor__P34219(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, menu_Item__C34216_VT)) failedCast(r0);
    r0 = (s.arg0).fields["name"] = (s.arg1);
    r0 = (s.arg0).fields["cb"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
menu_Item_constructor__P34219.info = {"start":166,"length":57,"line":6,"column":8,"endLine":6,"endColumn":65,"fileName":"ui.ts","functionName":"inline","argumentNames":["this","name","cb"]}

function menu_Item_constructor__P34219_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: menu_Item_constructor__P34219, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function allDNSes__P34238(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_1 = jacdac_devices__P33573_mk(s);
    s.callLocIdx = 339; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = hasDNS__P38344;
    s.callLocIdx = 340; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
allDNSes__P34238.info = {"start":2129,"length":170,"line":71,"column":0,"endLine":76,"endColumn":1,"fileName":"main.ts","functionName":"allDNSes","argumentNames":[]}

function allDNSes__P34238_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: allDNSes__P34238, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function hasDNS__P38344(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_Device_hasService__P33569_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 293022141;
    s.callLocIdx = 341; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
hasDNS__P38344.info = {"start":2198,"length":99,"line":73,"column":4,"endLine":75,"endColumn":5,"fileName":"main.ts","functionName":"hasDNS","argumentNames":["d"]}

function hasDNS__P38344_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: hasDNS__P38344, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function helpers_arrayMap__P29531(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___42612 = undefined;
    s.len___42614 = undefined;
    s.i___42617 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___42612 = (r0);
    r0 = pxsim_Array__length(s.arg0);
    s.len___42614 = (r0);
    s.i___42617 = (0);
  case 1:
    r0 = (s.i___42617 < s.len___42614);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.res___42612;
    s.tmp_3 = lambda_3_mk(s);
    s.tmp_3.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___42617);
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.i___42617;
    setupLambda(s.tmp_3, s.tmp_3.argL);
    s.callLocIdx = 4; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = (s.i___42617 + 1);
    s.i___42617 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.res___42612;
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayMap__P29531.info = {"start":6528,"length":299,"line":229,"column":4,"endLine":236,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayMap","argumentNames":["arr","callbackfn"]}

function helpers_arrayMap__P29531_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayMap__P29531, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  res___42612: undefined,
  len___42614: undefined,
  i___42617: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function menu_show__P34230(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cursor___36684 = undefined;
    s.offset___36685 = undefined;
    s.blinkOut___36686 = undefined;
    s.move___36687 = undefined;
    s.showMenu___36726 = undefined;
    s.cnt___36953 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtrt.mklocRef();
    s.cursor___36684 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.cursor___36684, 0);
    r0 = pxsim_pxtrt.mklocRef();
    s.offset___36685 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.offset___36685, 0);
    r0 = pxsim_pxtrt.mklocRef();
    s.blinkOut___36686 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.blinkOut___36686, 0);
    r0 = pxsim_pxtcore_mkAction(3, inline__P36688);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.cursor___36684);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.offset___36685);
    s.move___36687 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(5, showMenu__P36726);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.cursor___36684);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.offset___36685);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.move___36687);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.blinkOut___36686);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 4, s.arg0);
    s.showMenu___36726 = (s.tmp_0);
    s.tmp_1 = game_pushScene__P31994_mk(s);
    s.callLocIdx = 130; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.tmp_0 = if_active_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = true;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "active", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/active"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["active"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 131; s.pc = 10; return s.tmp_0; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_1 = if_update_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "update");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["update"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["update"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 132; s.pc = 11; return s.tmp_1; }
    }
  case 11:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = if_update_2_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.arg0;
    if (!s.tmp_2.arg0.vtable.iface) {
      setupLambda(s.tmp_2, pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "update"), 2);
      s.callLocIdx = 133; s.pc = 12; return s.tmp_2;
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["update"];
      if (s.tmp_2.fn == null) { setupLambda(s.tmp_2, s.tmp_2.arg0.fields["update"], 2); s.callLocIdx = 133; s.pc = 12; return s.tmp_2; }
      else if (s.tmp_2.fn.isGetter) { s.tmp_2.stage2Call = true; s.callLocIdx = 133; s.pc = 12; return s.tmp_2;; }
     else { s.callLocIdx = 133; s.pc = 12; return s.tmp_2; }
    }
  case 12:
    r0 = s.retval;
  case 1:
  case 2:
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.showMenu___36726;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 134; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    s.cnt___36953 = (0);
  case 3:
    s.tmp_1 = if_active_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "active");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["active"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["active"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 135; s.pc = 14; return s.tmp_1; }
    }
  case 14:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    s.tmp_2 = r0 = s.cnt___36953;
    r0 = (s.tmp_2 + 1);
    s.cnt___36953 = (r0);
    r0 = (s.tmp_2 > 20);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_3;
    { step = 5; continue; }
  case 4:
    s.tmp_4 = if_update_1_mk(s);
    s.tmp_4.arg0 = s.arg0;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "update");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["update"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["update"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 136; s.pc = 15; return s.tmp_4; }
    }
  case 15:
    r0 = s.retval;
  case 5:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 6; continue; }
    s.tmp_6 = if_update_2_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.tmp_6.arg1 = s.arg0;
    if (!s.tmp_6.arg0.vtable.iface) {
      setupLambda(s.tmp_6, pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "update"), 2);
      s.callLocIdx = 137; s.pc = 16; return s.tmp_6;
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["update"];
      if (s.tmp_6.fn == null) { setupLambda(s.tmp_6, s.tmp_6.arg0.fields["update"], 2); s.callLocIdx = 137; s.pc = 16; return s.tmp_6; }
      else if (s.tmp_6.fn.isGetter) { s.tmp_6.stage2Call = true; s.callLocIdx = 137; s.pc = 16; return s.tmp_6;; }
     else { s.callLocIdx = 137; s.pc = 16; return s.tmp_6; }
    }
  case 16:
    r0 = s.retval;
    s.cnt___36953 = (0);
  case 6:
  case 7:
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 20;
    s.callLocIdx = 138; s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
    { step = 3; continue; }
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
menu_show__P34230.info = {"start":803,"length":3844,"line":31,"column":4,"endLine":136,"endColumn":5,"fileName":"ui.ts","functionName":"show","argumentNames":["opts"]}

function menu_show__P34230_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: menu_show__P34230, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  cursor___36684: undefined,
  offset___36685: undefined,
  blinkOut___36686: undefined,
  move___36687: undefined,
  showMenu___36726: undefined,
  cnt___36953: undefined,
  arg0: undefined,
} }





function inline__P36688(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.nc___36690 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + s.arg0);
    s.nc___36690 = (r0);
    r0 = (s.nc___36690 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.nc___36690 = (0);
    { step = 4; continue; }
  case 1:
    s.tmp_1 = r0 = s.nc___36690;
    s.tmp_4 = if_elements_1_mk(s);
    s.tmp_4.arg0 = s.caps[1];
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "elements");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["elements"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["elements"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 86; s.pc = 11; return s.tmp_4; }
    }
  case 11:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 >= s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_7 = if_elements_1_mk(s);
    s.tmp_7.arg0 = s.caps[1];
    if (!s.tmp_7.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, "elements");
    } else {
      s.tmp_7.fn = s.tmp_7.arg0.vtable.iface["elements"];
      if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields["elements"]; }
      else if (!s.tmp_7.fn.isGetter) { s.retval = bind(s.tmp_7); }
     else { s.callLocIdx = 87; s.pc = 12; return s.tmp_7; }
    }
  case 12:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_Array__length(s.tmp_6);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 - 1);
    s.nc___36690 = (r0);
  case 2:
  case 3:
  case 4:
    s.tmp_2 = r0 = s.nc___36690;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 - s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_4 = r0 = s.caps[2];
    r0 = (s.nc___36690 - 2);
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_4, s.tmp_5);
  case 5:
  case 6:
    s.tmp_2 = r0 = s.nc___36690;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 - s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 6);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_4 = r0 = s.caps[2];
    r0 = (s.nc___36690 - 6);
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_4, s.tmp_5);
  case 7:
  case 8:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_pxtrt_stlocRef(s.caps[2], 0);
  case 9:
  case 10:
    r0 = pxsim_pxtrt_stlocRef(s.caps[0], s.nc___36690);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36688.info = {"start":937,"length":347,"line":36,"column":21,"endLine":45,"endColumn":9,"fileName":"ui.ts","functionName":"inline","argumentNames":["dx"]}

function inline__P36688_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36688, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  nc___36690: undefined,
  arg0: undefined,
} }





function showMenu__P36726(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtrt_stlocRef(s.caps[0], 0);
    r0 = pxsim_pxtrt_stlocRef(s.caps[1], 0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P36733);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[2]);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.down___31343;
    s.tmp_1.arg1 = 2049;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 89; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P36739);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[2]);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.down___31343;
    s.tmp_1.arg1 = 2054;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 91; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P36744);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[2]);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.up___31341;
    s.tmp_1.arg1 = 2049;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 93; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P36751);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[2]);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.up___31341;
    s.tmp_1.arg1 = 2054;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 95; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(3, inline__P36758);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[3]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.caps[4]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.caps[0]);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.A___31338;
    s.tmp_1.arg1 = 2049;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 99; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(2, inline__P36781);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[4]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.caps[3]);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.B___31339;
    s.tmp_1.arg1 = 2049;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 104; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(3, inline__P36799);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[4]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.caps[0]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.caps[3]);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.left___31340;
    s.tmp_1.arg1 = 2049;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 108; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(3, inline__P36822);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[4]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.caps[0]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.caps[3]);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.right___31342;
    s.tmp_1.arg1 = 2049;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 112; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(5, inline__P36843);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[4]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.caps[0]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.caps[2]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.caps[3]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 4, s.caps[1]);
    s.tmp_1 = game_onPaint__P32004_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 129; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
showMenu__P36726.info = {"start":1294,"length":3032,"line":47,"column":8,"endLine":121,"endColumn":9,"fileName":"ui.ts","functionName":"showMenu","argumentNames":[]}

function showMenu__P36726_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: showMenu__P36726, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function inline__P36733(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.caps[0];
    s.tmp_0.arg0 = 1;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 88; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36733.info = {"start":1430,"length":13,"line":51,"column":67,"endLine":51,"endColumn":80,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36733_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36733, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P36739(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.caps[0];
    s.tmp_0.arg0 = 1;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 90; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36739.info = {"start":1513,"length":13,"line":52,"column":68,"endLine":52,"endColumn":81,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36739_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36739, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P36744(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.caps[0];
    s.tmp_0.arg0 = -1;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 92; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36744.info = {"start":1594,"length":14,"line":54,"column":65,"endLine":54,"endColumn":79,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36744_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36744, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P36751(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.caps[0];
    s.tmp_0.arg0 = -1;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 94; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36751.info = {"start":1676,"length":14,"line":55,"column":66,"endLine":55,"endColumn":80,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36751_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36751, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P36758(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.e___36764 = undefined;
    s.tmp_0 = r0 = s.caps[0];
    r0 = pxsim.control.millis();
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 100);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    s.tmp_1 = if_elements_1_mk(s);
    s.tmp_1.arg0 = s.caps[1];
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "elements");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["elements"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["elements"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 96; s.pc = 5; return s.tmp_1; }
    }
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_2);
    s.e___36764 = (r0);
    s.tmp_0 = r0 = s.e___36764;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.e___36764.fields["cb"];
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore_mkAction(2, inline__P36774);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.e___36764);
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 1, s.caps[1]);
    s.tmp_3 = control_runInBackground__P29706_mk(s);
    s.tmp_3.arg0 = s.tmp_2;
    s.callLocIdx = 98; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36758.info = {"start":1757,"length":212,"line":57,"column":64,"endLine":62,"endColumn":13,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36758_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36758, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  e___36764: undefined,
} }





function inline__P36774(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = if_cb_2_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.caps[1];
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "cb"), 2);
      s.callLocIdx = 97; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["cb"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["cb"], 2); s.callLocIdx = 97; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 97; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 97; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36774.info = {"start":1938,"length":16,"line":61,"column":44,"endLine":61,"endColumn":60,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36774_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36774, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P36781(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_1 = if_onB_1_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "onB");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["onB"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["onB"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 100; s.pc = 3; return s.tmp_1; }
    }
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = r0 = s.caps[1];
    r0 = pxsim.control.millis();
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 100);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_2, s.tmp_3);
    r0 = pxsim_pxtcore_mkAction(1, inline__P36790);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[0]);
    s.tmp_1 = control_runInBackground__P29706_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 102; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_0 = menu_exit__P34229_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 103; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36781.info = {"start":2035,"length":247,"line":63,"column":64,"endLine":70,"endColumn":13,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36781_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36781, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
} }





function inline__P36790(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = if_onB_2_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.caps[0];
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "onB"), 2);
      s.callLocIdx = 101; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["onB"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["onB"], 2); s.callLocIdx = 101; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 101; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 101; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36790.info = {"start":2173,"length":20,"line":66,"column":44,"endLine":66,"endColumn":64,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36790_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36790, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P36799(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.e___36800 = undefined;
    s.tmp_1 = if_elements_1_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "elements");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["elements"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["elements"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 105; s.pc = 5; return s.tmp_1; }
    }
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_2);
    s.e___36800 = (r0);
    s.tmp_0 = r0 = s.e___36800;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.e___36800.fields["onLeft"];
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = r0 = s.caps[2];
    r0 = pxsim.control.millis();
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 100);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_2, s.tmp_3);
    r0 = pxsim_pxtcore_mkAction(2, inline__P36815);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.e___36800);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.caps[0]);
    s.tmp_1 = control_runInBackground__P29706_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 107; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36799.info = {"start":2352,"length":244,"line":72,"column":67,"endLine":78,"endColumn":13,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36799_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36799, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  e___36800: undefined,
} }





function inline__P36815(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = if_onLeft_2_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.caps[1];
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "onLeft"), 2);
      s.callLocIdx = 106; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["onLeft"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["onLeft"], 2); s.callLocIdx = 106; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 106; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 106; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36815.info = {"start":2543,"length":20,"line":76,"column":44,"endLine":76,"endColumn":64,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36815_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36815, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P36822(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.e___36823 = undefined;
    s.tmp_1 = if_elements_1_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "elements");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["elements"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["elements"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 109; s.pc = 5; return s.tmp_1; }
    }
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_2);
    s.e___36823 = (r0);
    s.tmp_0 = r0 = s.e___36823;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.e___36823.fields["onRight"];
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = r0 = s.caps[2];
    r0 = pxsim.control.millis();
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 100);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_2, s.tmp_3);
    r0 = pxsim_pxtcore_mkAction(2, inline__P36838);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.e___36823);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.caps[0]);
    s.tmp_1 = control_runInBackground__P29706_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 111; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36822.info = {"start":2667,"length":246,"line":80,"column":68,"endLine":86,"endColumn":13,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36822_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36822, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  e___36823: undefined,
} }





function inline__P36838(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = if_onRight_2_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.caps[1];
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "onRight"), 2);
      s.callLocIdx = 110; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["onRight"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["onRight"], 2); s.callLocIdx = 110; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 110; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 110; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36838.info = {"start":2859,"length":21,"line":84,"column":44,"endLine":84,"endColumn":65,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36838_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36838, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P36843(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.hl___36873 = undefined;
    s.i___36884 = undefined;
    s.e___36888 = undefined;
    s.ename___36895 = undefined;
    s.y___36900 = undefined;
    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___34968);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 21; continue; }
  case 1:
  case 2:
    s.tmp_7 = if_elements_1_mk(s);
    s.tmp_7.arg0 = s.caps[0];
    if (!s.tmp_7.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, "elements");
    } else {
      s.tmp_7.fn = s.tmp_7.arg0.vtable.iface["elements"];
      if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields["elements"]; }
      else if (!s.tmp_7.fn.isGetter) { s.retval = bind(s.tmp_7); }
     else { s.callLocIdx = 114; s.pc = 22; return s.tmp_7; }
    }
  case 22:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_Array__length(s.tmp_6);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 == 0);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 3; continue; }
    s.tmp_8 = helpers_imagePrint__P31221_mk(s);
    s.tmp_8.arg0 = globals.screen___31263;
    s.tmp_8.arg1 = "Nothing here, press B to go back";
    s.tmp_8.arg2 = 10;
    s.tmp_8.arg3 = 60;
    s.tmp_8.arg4 = 4;
    s.tmp_8.arg5 = globals.font5___31211;
    s.tmp_8.arg6 = undefined;
    s.callLocIdx = 115; s.pc = 23; return s.tmp_8;
  case 23:
    r0 = s.retval;
    { step = 21; continue; }
  case 3:
  case 4:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_1 = r0;
    s.tmp_4 = if_elements_1_mk(s);
    s.tmp_4.arg0 = s.caps[0];
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "elements");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["elements"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["elements"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 116; s.pc = 24; return s.tmp_4; }
    }
  case 24:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 >= s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_5 = lambda_2_mk(s);
    s.tmp_5.argL = s.caps[2];
    s.tmp_5.arg0 = 0;
    setupLambda(s.tmp_5, s.tmp_5.argL);
    s.callLocIdx = 117; s.pc = 25; return s.tmp_5;
  case 25:
    r0 = s.retval;
  case 5:
  case 6:
    s.tmp_0 = helpers_imageFillRect__P31189_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = 0;
    s.tmp_0.arg3 = 160;
    s.tmp_0.arg4 = 12;
    s.tmp_0.arg5 = 12;
    s.callLocIdx = 118; s.pc = 26; return s.tmp_0;
  case 26:
    r0 = s.retval;
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_1 = if_title_1_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "title");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["title"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["title"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 119; s.pc = 28; return s.tmp_1; }
    }
  case 28:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = 9;
    s.tmp_0.arg3 = 2;
    s.tmp_0.arg4 = 4;
    s.tmp_0.arg5 = globals.font8___31206;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 120; s.pc = 27; return s.tmp_0;
  case 27:
    r0 = s.retval;
    s.tmp_1 = if_highlightColor_1_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "highlightColor");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["highlightColor"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["highlightColor"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 121; s.pc = 29; return s.tmp_1; }
    }
  case 29:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 7:
    r0 = 5;
  case 8:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.hl___36873 = (s.tmp_2);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[3]);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_pxtrt_ldlocRef(s.caps[3]);
    s.tmp_2 = r0;
    r0 = pxsim.control.millis();
    s.tmp_3 = r0;
    r0 = (s.tmp_2 < s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_pxtrt_stlocRef(s.caps[3], 0);
    { step = 10; continue; }
  case 9:
    s.hl___36873 = (6);
  case 10:
  case 11:
  case 12:
    s.i___36884 = (0);
  case 13:
    r0 = (s.i___36884 < 9);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 18; continue; }
    s.tmp_2 = if_elements_1_mk(s);
    s.tmp_2.arg0 = s.caps[0];
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "elements");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["elements"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["elements"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 122; s.pc = 30; return s.tmp_2; }
    }
  case 30:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_4 = r0 = s.i___36884;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[4]);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 + s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, s.tmp_3);
    s.e___36888 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.e___36888);
    if (!r0) { step = 14; continue; }
    r0 = s.e___36888.fields["name"];
    { step = 15; continue; }
  case 14:
    r0 = pxsim_String_.mkEmpty();
  case 15:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    s.ename___36895 = (s.tmp_0);
    r0 = (s.i___36884 * 11);
    s.tmp_0 = r0;
    r0 = (15 + s.tmp_0);
    s.y___36900 = (r0);
    s.tmp_2 = r0 = s.i___36884;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[4]);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_4 = r0;
    r0 = (s.tmp_1 == s.tmp_4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 16; continue; }
    s.tmp_5 = helpers_imageFillRect__P31189_mk(s);
    s.tmp_5.arg0 = globals.screen___31263;
    s.tmp_5.arg1 = 0;
    r0 = (s.y___36900 - 2);
    s.tmp_5.arg2 = r0;
    s.tmp_5.arg3 = 160;
    s.tmp_5.arg4 = 11;
    s.tmp_5.arg5 = s.hl___36873;
    s.callLocIdx = 123; s.pc = 31; return s.tmp_5;
  case 31:
    r0 = s.retval;
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_0.arg1 = s.ename___36895;
    s.tmp_0.arg2 = 10;
    s.tmp_0.arg3 = s.y___36900;
    s.tmp_0.arg4 = 15;
    s.tmp_0.arg5 = undefined;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 124; s.pc = 32; return s.tmp_0;
  case 32:
    r0 = s.retval;
    { step = 17; continue; }
  case 16:
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_0.arg1 = s.ename___36895;
    s.tmp_0.arg2 = 10;
    s.tmp_0.arg3 = s.y___36900;
    s.tmp_0.arg4 = 1;
    s.tmp_0.arg5 = undefined;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 125; s.pc = 33; return s.tmp_0;
  case 33:
    r0 = s.retval;
  case 17:
    r0 = (s.i___36884 + 1);
    s.i___36884 = (r0);
    { step = 13; continue; }
  case 18:
    s.tmp_1 = if_footer_1_mk(s);
    s.tmp_1.arg0 = s.caps[0];
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "footer");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["footer"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["footer"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 126; s.pc = 34; return s.tmp_1; }
    }
  case 34:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 19; continue; }
    s.tmp_2 = helpers_imagePrint__P31221_mk(s);
    s.tmp_2.arg0 = globals.screen___31263;
    s.tmp_3 = if_footer_1_mk(s);
    s.tmp_3.arg0 = s.caps[0];
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "footer");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["footer"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["footer"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 127; s.pc = 36; return s.tmp_3; }
    }
  case 36:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.tmp_2.arg2 = 10;
    s.tmp_2.arg3 = 114;
    s.tmp_2.arg4 = 4;
    s.tmp_2.arg5 = globals.font5___31211;
    s.tmp_2.arg6 = undefined;
    s.callLocIdx = 128; s.pc = 35; return s.tmp_2;
  case 35:
    r0 = s.retval;
  case 19:
  case 20:
  case 21:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36843.info = {"start":2941,"length":1373,"line":88,"column":25,"endLine":119,"endColumn":13,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36843_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36843, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  hl___36873: undefined,
  i___36884: undefined,
  e___36888: undefined,
  ename___36895: undefined,
  y___36900: undefined,
} }





function game_consoleOverlay_isVisible__P32109(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___34968);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
game_consoleOverlay_isVisible__P32109.info = {"start":422,"length":68,"line":11,"column":4,"endLine":13,"endColumn":5,"fileName":"pxt_modules/game/console.ts","functionName":"isVisible","argumentNames":[]}

function game_consoleOverlay_isVisible__P32109_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_consoleOverlay_isVisible__P32109, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function game_onPaint__P32004(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = game_init__P34678_mk(s);
    s.tmp_0.arg0 = undefined;
    s.callLocIdx = 973; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = scene_createRenderable__P31841_mk(s);
    s.tmp_2.arg0 = -20;
    s.tmp_2.arg1 = s.arg0;
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 974; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_onPaint__P32004.info = {"start":9619,"length":145,"line":308,"column":4,"endLine":312,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"onPaint","argumentNames":["a"]}

function game_onPaint__P32004_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_onPaint__P32004, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function scene_createRenderable__P31841(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.renderable___48277 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(scene_Renderable__C31836_VT);
    s.tmp_0 = r0;
    s.tmp_1 = r0 = s.arg2;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_1;
    { step = 2; continue; }
  case 1:
    r0 = inline__P48283;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.tmp_3 = scene_Renderable_constructor__P31837_mk(s);
    s.tmp_3.arg0 = s.tmp_0;
    s.tmp_3.arg1 = s.arg1;
    s.tmp_3.arg2 = s.tmp_2;
    s.tmp_3.arg3 = s.arg0;
    s.callLocIdx = 868; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.renderable___48277 = (s.tmp_0);
    r0 = s.renderable___48277;
    return leave(s, r0)
  default: oops()
} } }
scene_createRenderable__P31841.info = {"start":608,"length":339,"line":24,"column":4,"endLine":36,"endColumn":5,"fileName":"pxt_modules/game/renderable.ts","functionName":"createRenderable","argumentNames":["z","handler","shouldBeVisible"]}

function scene_createRenderable__P31841_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_createRenderable__P31841, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  renderable___48277: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P48283(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = true;
    return leave(s, r0)
  default: oops()
} } }
inline__P48283.info = {"start":875,"length":10,"line":31,"column":32,"endLine":31,"endColumn":42,"fileName":"pxt_modules/game/renderable.ts","functionName":"inline","argumentNames":[]}

function inline__P48283_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48283, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function scene_Renderable_constructor__P31837(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Renderable__C31836_VT)) failedCast(r0);
    r0 = (s.arg0).fields["handler"] = (s.arg1);
    r0 = (s.arg0).fields["shouldBeVisible"] = (s.arg2);
    s.tmp_0 = sprites_BaseSprite_constructor__P31321_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg3;
    s.callLocIdx = 865; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Renderable_constructor__P31837.info = {"start":83,"length":212,"line":2,"column":8,"endLine":8,"endColumn":9,"fileName":"pxt_modules/game/renderable.ts","functionName":"inline","argumentNames":["this","handler","shouldBeVisible","z"]}

function scene_Renderable_constructor__P31837_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Renderable_constructor__P31837, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function menu_wait__P34231(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.dialog___36972 = undefined;
    s.s___36984 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = game_pushScene__P31994_mk(s);
    s.callLocIdx = 139; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkClassInstance(game_SplashDialog__C31963_VT);
    s.tmp_0 = r0;
    s.tmp_1 = game_SplashDialog_constructor__P31970_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = 35;
    s.callLocIdx = 140; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.dialog___36972 = (s.tmp_0);
    s.tmp_0 = game_SplashDialog__C31963_v1_2_mk(s);
    s.tmp_0.arg0 = s.dialog___36972;
    s.tmp_0.arg1 = s.arg1;
    if (!checkSubtype(s.tmp_0.arg0, game_SplashDialog__C31963_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.setText;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0 = s.dialog___36972;
    r0 = pxsim.image.ofBuffer(_hex36983);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["cursor"] = (s.tmp_1);
    s.tmp_0 = sprites_create__P31435_mk(s);
    r0 = s.dialog___36972.fields["image"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = -1;
    s.callLocIdx = 141; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.s___36984 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P36992);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.dialog___36972);
    s.tmp_1 = game_onUpdate__P32001_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 142; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 143; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = game_popScene__P31995_mk(s);
    s.callLocIdx = 144; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
menu_wait__P34231.info = {"start":4653,"length":370,"line":138,"column":4,"endLine":152,"endColumn":5,"fileName":"ui.ts","functionName":"wait","argumentNames":["ms","msg"]}

function menu_wait__P34231_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: menu_wait__P34231, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  dialog___36972: undefined,
  s___36984: undefined,
  arg0: undefined,
  arg1: undefined,
} }

const _hex36983 = pxsim.BufferMethods.createBufferFromHex("870401000100000000000000")




function inline__P36992(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = game_BaseDialog__C31935_v0_1_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    if (!checkSubtype(s.tmp_0.arg0, game_BaseDialog__C31935_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.update;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P36992.info = {"start":4927,"length":46,"line":146,"column":22,"endLine":148,"endColumn":9,"fileName":"ui.ts","functionName":"inline","argumentNames":[]}

function inline__P36992_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P36992, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function game_BaseDialog_update__P31948(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    s.tmp_0 = game_BaseDialog_clearInterior__P34645_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 905; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog__C31935_v2_1_mk(s);
    s.tmp_0.arg0 = s.arg0;
    if (!checkSubtype(s.tmp_0.arg0, game_BaseDialog__C31935_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.drawTextCore;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_drawCursorRow__P31951_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 906; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_update__P31948.info = {"start":1539,"length":121,"line":60,"column":8,"endLine":64,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"update","argumentNames":["this"]}

function game_BaseDialog_update__P31948_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_update__P31948, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function game_BaseDialog_clearInterior__P34645(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.d___44492 = undefined;
    s.s___44499 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    r0 = s.arg0.fields["unit"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = game_BaseDialog_fastFill__P34644_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 4;
    s.tmp_2.arg2 = 1;
    s.tmp_2.arg3 = 1;
    r0 = s.arg0.fields["columns"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - 2);
    s.tmp_2.arg4 = r0;
    r0 = s.arg0.fields["rows"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - 2);
    s.tmp_2.arg5 = r0;
    s.callLocIdx = 927; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    { step = 7; continue; }
  case 1:
  case 2:
    s.d___44492 = (1);
  case 3:
    s.tmp_1 = r0 = s.d___44492;
    r0 = s.arg0.fields["columns"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.s___44499 = (1);
  case 4:
    s.tmp_1 = r0 = s.s___44499;
    r0 = s.arg0.fields["rows"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_4 = game_BaseDialog_drawPartial__P34646_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 4;
    s.tmp_4.arg2 = s.d___44492;
    s.tmp_4.arg3 = s.s___44499;
    s.callLocIdx = 928; s.pc = 9; return s.tmp_4;
  case 9:
    r0 = s.retval;
    r0 = (s.s___44499 + 1);
    s.s___44499 = (r0);
    { step = 4; continue; }
  case 5:
    r0 = (s.d___44492 + 1);
    s.d___44492 = (r0);
    { step = 3; continue; }
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_clearInterior__P34645.info = {"start":3911,"length":342,"line":132,"column":8,"endLine":141,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"clearInterior","argumentNames":["this"]}

function game_BaseDialog_clearInterior__P34645_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_clearInterior__P34645, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  d___44492: undefined,
  s___44499: undefined,
  arg0: undefined,
} }





function game_BaseDialog_drawPartial__P34646(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.x0___44517 = undefined;
    s.y0___44525 = undefined;
    s.xf___44533 = undefined;
    s.yf___44540 = undefined;
    s.e___44547 = undefined;
    s.t___44553 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    r0 = s.arg0.fields["innerLeft"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_2 = r0;
    r0 = (s.arg2 * s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.x0___44517 = (r0);
    r0 = s.arg0.fields["innerTop"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_2 = r0;
    r0 = (s.arg3 * s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.y0___44525 = (r0);
    r0 = (s.arg1 % 3);
    s.tmp_0 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 * s.tmp_1);
    s.xf___44533 = (r0);
    r0 = pxsim.Math_.idiv(s.arg1, 3);
    s.tmp_0 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 * s.tmp_1);
    s.yf___44540 = (r0);
    s.e___44547 = (0);
  case 1:
    r0 = s.arg0.fields["unit"];
    s.tmp_1 = r0;
    r0 = (s.e___44547 < s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.t___44553 = (0);
  case 2:
    r0 = s.arg0.fields["unit"];
    s.tmp_1 = r0;
    r0 = (s.t___44553 < s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["image"];
    s.tmp_2 = r0;
    r0 = (s.x0___44517 + s.e___44547);
    s.tmp_3 = r0;
    r0 = (s.y0___44525 + s.t___44553);
    s.tmp_4 = r0;
    r0 = s.arg0.fields["frame"];
    s.tmp_6 = r0;
    r0 = (s.xf___44533 + s.e___44547);
    s.tmp_7 = r0;
    r0 = (s.yf___44540 + s.t___44553);
    s.tmp_8 = r0;
    r0 = pxsim_ImageMethods.getPixel(s.tmp_6, s.tmp_7, s.tmp_8);
    s.tmp_5 = r0;
    r0 = pxsim_ImageMethods.setPixel(s.tmp_2, s.tmp_3, s.tmp_4, s.tmp_5);
    r0 = (s.t___44553 + 1);
    s.t___44553 = (r0);
    { step = 2; continue; }
  case 3:
    r0 = (s.e___44547 + 1);
    s.e___44547 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_drawPartial__P34646.info = {"start":4263,"length":604,"line":143,"column":8,"endLine":158,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"drawPartial","argumentNames":["this","index","colTo","rowTo"]}

function game_BaseDialog_drawPartial__P34646_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_drawPartial__P34646, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  x0___44517: undefined,
  y0___44525: undefined,
  xf___44533: undefined,
  yf___44540: undefined,
  e___44547: undefined,
  t___44553: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function game_BaseDialog_fastFill__P34644(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.color___44589 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    r0 = s.arg0.fields["frame"];
    s.tmp_0 = r0;
    r0 = (s.arg1 % 3);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.idiv(s.arg1, 3);
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.getPixel(s.tmp_0, s.tmp_1, s.tmp_2);
    s.color___44589 = (r0);
    s.tmp_0 = helpers_imageFillRect__P31189_mk(s);
    r0 = s.arg0.fields["image"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["innerLeft"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 + s.arg2);
    s.tmp_0.arg1 = r0;
    r0 = s.arg0.fields["innerTop"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.arg3);
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = s.arg4;
    s.tmp_0.arg4 = s.arg5;
    s.tmp_0.arg5 = s.color___44589;
    s.callLocIdx = 926; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_fastFill__P34644.info = {"start":3652,"length":249,"line":127,"column":8,"endLine":130,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"fastFill","argumentNames":["this","index","x","y","w","h"]}

function game_BaseDialog_fastFill__P34644_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_fastFill__P34644, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  color___44589: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function game_BaseDialog_drawCursorRow__P31951(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.offset___44403 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    s.offset___44403 = (0);
    r0 = s.arg0.fields["cursorCount"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 20);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.offset___44403 = (1);
  case 1:
  case 2:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["cursorCount"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 % 40);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["cursorCount"] = (s.tmp_1);
    r0 = s.arg0.fields["image"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["cursor"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["innerLeft"];
    s.tmp_6 = r0;
    s.tmp_8 = game_BaseDialog_textAreaWidth__P34649_mk(s);
    s.tmp_8.arg0 = s.arg0;
    s.callLocIdx = 907; s.pc = 3; return s.tmp_8;
  case 3:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = (s.tmp_6 + s.tmp_7);
    s.tmp_5 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_9 = r0;
    r0 = (s.tmp_5 + s.tmp_9);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + s.offset___44403);
    s.tmp_3 = r0;
    r0 = s.arg0.fields["cursor"];
    s.tmp_11 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_11);
    s.tmp_10 = r0;
    r0 = (s.tmp_3 - s.tmp_10);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["innerTop"];
    s.tmp_16 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_17 = r0;
    r0 = (s.tmp_16 + s.tmp_17);
    s.tmp_15 = r0;
    s.tmp_19 = game_BaseDialog_textAreaHeight__P34650_mk(s);
    s.tmp_19.arg0 = s.arg0;
    s.callLocIdx = 908; s.pc = 4; return s.tmp_19;
  case 4:
    r0 = s.retval;
    s.tmp_18 = r0;
    r0 = (s.tmp_15 + s.tmp_18);
    s.tmp_14 = r0;
    r0 = (s.tmp_14 + 1);
    s.tmp_13 = r0;
    r0 = s.arg0.fields["cursor"];
    s.tmp_22 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_22);
    s.tmp_21 = r0;
    r0 = (s.tmp_21 + 1);
    s.tmp_20 = r0;
    r0 = (s.tmp_13 - s.tmp_20);
    s.tmp_12 = r0;
    r0 = pxsim_ImageMethods.drawTransparentImage(s.tmp_0, s.tmp_1, s.tmp_2, s.tmp_12);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_drawCursorRow__P31951.info = {"start":1832,"length":479,"line":74,"column":8,"endLine":87,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"drawCursorRow","argumentNames":["this"]}

function game_BaseDialog_drawCursorRow__P31951_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_drawCursorRow__P31951, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  tmp_19: undefined,
  tmp_20: undefined,
  tmp_21: undefined,
  tmp_22: undefined,
  offset___44403: undefined,
  arg0: undefined,
} }





function game_BaseDialog_textAreaHeight__P34650(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    r0 = s.arg0.fields["image"];
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_2);
    s.tmp_1 = r0;
    r0 = s.arg0.fields["innerTop"];
    s.tmp_5 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_6 = r0;
    r0 = (s.tmp_5 + s.tmp_6);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 << 1);
    s.tmp_3 = r0;
    r0 = (s.tmp_1 - s.tmp_3);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - 1);
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_textAreaHeight__P34650.info = {"start":5183,"length":117,"line":172,"column":8,"endLine":174,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"textAreaHeight","argumentNames":["this"]}

function game_BaseDialog_textAreaHeight__P34650_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_textAreaHeight__P34650, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }





function game_BaseDialog_textAreaWidth__P34649(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    r0 = s.arg0.fields["image"];
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_2);
    s.tmp_1 = r0;
    r0 = s.arg0.fields["innerLeft"];
    s.tmp_5 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_6 = r0;
    r0 = (s.tmp_5 + s.tmp_6);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 << 1);
    s.tmp_3 = r0;
    r0 = (s.tmp_1 - s.tmp_3);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - 2);
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_textAreaWidth__P34649.info = {"start":5057,"length":116,"line":168,"column":8,"endLine":170,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"textAreaWidth","argumentNames":["this"]}

function game_BaseDialog_textAreaWidth__P34649_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_textAreaWidth__P34649, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }





function game_BaseDialog_cursorRowHeight__P34647(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    r0 = s.arg0.fields["cursor"];
    s.tmp_1 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_cursorRowHeight__P34647.info = {"start":4877,"length":82,"line":160,"column":8,"endLine":162,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"cursorRowHeight","argumentNames":["this"]}

function game_BaseDialog_cursorRowHeight__P34647_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_cursorRowHeight__P34647, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function game_BaseDialog_drawTextCore__P31950(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_drawTextCore__P31950.info = {"start":1757,"length":65,"line":70,"column":8,"endLine":72,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"drawTextCore","argumentNames":["this"]}

function game_BaseDialog_drawTextCore__P31950_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_drawTextCore__P31950, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function sprites_create__P31435(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.scene___47135 = undefined;
    s.sprite___47138 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 308; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.scene___47135 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(Sprite__C31477_VT);
    s.tmp_0 = r0;
    s.tmp_1 = Sprite_constructor__P31514_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 309; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.sprite___47138 = (s.tmp_0);
    s.tmp_0 = Sprite_setKind__P31532_mk(s);
    s.tmp_0.arg0 = s.sprite___47138;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 310; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = PhysicsEngine__C31620_v0_2_mk(s);
    r0 = s.scene___47135.fields["physicsEngine"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.sprite___47138;
    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C31620_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.addSprite;
    s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P47153);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);
    r0 = pxsim_pxtcore_mkAction(1, inline__P47160);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.sprite___47138);
    s.tmp_2 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_3 = helpers_arrayFilter__P29535_mk(s);
    r0 = s.scene___47135.fields["createdHandlers"];
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.tmp_0;
    s.callLocIdx = 311; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.tmp_1;
    s.callLocIdx = 313; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    r0 = s.sprite___47138;
    return leave(s, r0)
  default: oops()
} } }
sprites_create__P31435.info = {"start":890,"length":400,"line":35,"column":4,"endLine":47,"endColumn":5,"fileName":"pxt_modules/game/sprites.ts","functionName":"create","argumentNames":["img","kind"]}

function sprites_create__P31435_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_create__P31435, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  scene___47135: undefined,
  sprite___47138: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P47153(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["kind"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P47153.info = {"start":1195,"length":19,"line":43,"column":20,"endLine":43,"endColumn":39,"fileName":"pxt_modules/game/sprites.ts","functionName":"inline","argumentNames":["h"]}

function inline__P47153_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P47153, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P47160(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = if_handler_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.caps[0];
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "handler"), 2);
      s.callLocIdx = 312; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["handler"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["handler"], 2); s.callLocIdx = 312; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 312; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 312; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P47160.info = {"start":1237,"length":22,"line":44,"column":21,"endLine":44,"endColumn":43,"fileName":"pxt_modules/game/sprites.ts","functionName":"inline","argumentNames":["h"]}

function inline__P47160_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P47160, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function PhysicsEngine_addSprite__P31622(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, PhysicsEngine__C31620_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
PhysicsEngine_addSprite__P31622.info = {"start":124,"length":29,"line":8,"column":4,"endLine":8,"endColumn":33,"fileName":"pxt_modules/game/physics.ts","functionName":"addSprite","argumentNames":["this","sprite"]}

function PhysicsEngine_addSprite__P31622_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: PhysicsEngine_addSprite__P31622, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_setKind__P31532(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.spritesByKind___47179 = undefined;
    s.overlapMap___47208 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = (s.arg1 == undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["_kind"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === s.arg1);
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    { step = 15; continue; }
  case 3:
  case 4:
    s.tmp_3 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 377; s.pc = 16; return s.tmp_3;
  case 16:
    r0 = s.retval;
    r0 = r0.fields["spritesByKind"];
    s.spritesByKind___47179 = (r0);
    r0 = s.arg0.fields["_kind"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    r0 = s.arg0.fields["_kind"];
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.spritesByKind___47179, s.tmp_2);
  case 6:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 7; continue; }
    s.tmp_4 = sprites_SpriteSet_remove__P31579_mk(s);
    r0 = s.arg0.fields["_kind"];
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.spritesByKind___47179, s.tmp_5);
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = s.arg0;
    s.callLocIdx = 378; s.pc = 17; return s.tmp_4;
  case 17:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = (s.arg1 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_pxtrt.mapGetGeneric(s.spritesByKind___47179, s.arg1);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(sprites_SpriteSet__C31572_VT);
    s.tmp_4 = r0;
    s.tmp_5 = sprites_SpriteSet_constructor__P31574_mk(s);
    s.tmp_5.arg0 = s.tmp_4;
    s.callLocIdx = 379; s.pc = 18; return s.tmp_5;
  case 18:
    r0 = s.retval;
    r0 = pxsim_pxtrt.mapSetGeneric(s.spritesByKind___47179, s.arg1, s.tmp_4);
  case 9:
  case 10:
    s.tmp_0 = sprites_SpriteSet_add__P31577_mk(s);
    r0 = pxsim_pxtrt.mapGetGeneric(s.spritesByKind___47179, s.arg1);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 380; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
  case 11:
  case 12:
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 381; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
    r0 = r0.fields["overlapMap"];
    s.overlapMap___47208 = (r0);
    r0 = pxsim_pxtrt.mapGetGeneric(s.overlapMap___47208, s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tmp_3 = r0 = s.overlapMap___47208;
    s.tmp_4 = r0 = s.arg1;
    r0 = pxsim_Array__mk();
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt.mapSetGeneric(s.tmp_3, s.tmp_4, s.tmp_5);
  case 13:
  case 14:
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.overlapMap___47208, s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_kindsOverlappedWith"] = (s.tmp_1);
    r0 = (s.arg0).fields["_kind"] = (s.arg1);
  case 15:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_setKind__P31532.info = {"start":10872,"length":663,"line":398,"column":4,"endLine":418,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"setKind","argumentNames":["this","value"]}

function Sprite_setKind__P31532_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_setKind__P31532, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  spritesByKind___47179: undefined,
  overlapMap___47208: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_SpriteSet_remove__P31579(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___47256 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteSet__C31572_VT)) failedCast(r0);
    r0 = s.arg0.fields["_sprites"];
    s.tmp_0 = r0;
    r0 = pxsim_Array_.indexOf(s.tmp_0, s.arg1, undefined);
    s.i___47256 = (r0);
    r0 = (s.i___47256 > -1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = helpers_arraySplice__P29525_mk(s);
    r0 = s.arg0.fields["_sprites"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.i___47256;
    s.tmp_1.arg2 = 1;
    s.callLocIdx = 522; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = true;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = false;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteSet_remove__P31579.info = {"start":1816,"length":235,"line":66,"column":8,"endLine":73,"endColumn":9,"fileName":"pxt_modules/game/spriteset.ts","functionName":"remove","argumentNames":["this","sprite"]}

function sprites_SpriteSet_remove__P31579_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteSet_remove__P31579, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  i___47256: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_SpriteSet_add__P31577(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteSet__C31572_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = false;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["_sprites"];
    s.tmp_4 = r0;
    r0 = pxsim_Array_.indexOf(s.tmp_4, s.arg1, undefined);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 > -1);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = false;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = s.arg0.fields["_sprites"];
    s.tmp_5 = r0;
    r0 = pxsim_Array__push(s.tmp_5, s.arg1);
    r0 = true;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteSet_add__P31577.info = {"start":1027,"length":263,"line":41,"column":8,"endLine":49,"endColumn":9,"fileName":"pxt_modules/game/spriteset.ts","functionName":"add","argumentNames":["this","sprite"]}

function sprites_SpriteSet_add__P31577_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteSet_add__P31577, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_SpriteSet_contains__P31580(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteSet__C31572_VT)) failedCast(r0);
    r0 = s.arg0.fields["_sprites"];
    s.tmp_1 = r0;
    r0 = pxsim_Array_.indexOf(s.tmp_1, s.arg1, undefined);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 > -1);
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteSet_contains__P31580.info = {"start":2162,"length":100,"line":79,"column":8,"endLine":81,"endColumn":9,"fileName":"pxt_modules/game/spriteset.ts","functionName":"contains","argumentNames":["this","sprite"]}

function sprites_SpriteSet_contains__P31580_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteSet_contains__P31580, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_SpriteSet_constructor__P31574(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteSet__C31572_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_sprites"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteSet_constructor__P31574.info = {"start":488,"length":57,"line":19,"column":8,"endLine":21,"endColumn":9,"fileName":"pxt_modules/game/spriteset.ts","functionName":"inline","argumentNames":["this"]}

function sprites_SpriteSet_constructor__P31574_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteSet_constructor__P31574, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function Sprite_constructor__P31514(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = sprites_BaseSprite_constructor__P31321_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 332; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.width(s.arg1);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 - s.tmp_5);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 256);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_x"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.height(s.arg1);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 - s.tmp_5);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 256);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_y"] = (s.tmp_1);
    r0 = s.arg0.fields["_x"];
    s.tmp_0 = r0;
    r0 = (s.arg0).fields["_lastX"] = (s.tmp_0);
    r0 = s.arg0.fields["_y"];
    s.tmp_0 = r0;
    r0 = (s.arg0).fields["_lastY"] = (s.tmp_0);
    s.tmp_0 = Sprite_vx__P31491_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 335; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = Sprite_vy__P31493_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 336; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = Sprite_ax__P31495_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 337; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = Sprite_ay__P31497_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 338; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = Sprite_fx__P31499_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 339; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = Sprite_fy__P31501_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 340; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = (s.arg0).fields["flags"] = (0);
    s.tmp_0 = Sprite_setImage__P31517_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 341; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.tmp_0 = Sprite_setKind__P31532_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = -1;
    s.callLocIdx = 342; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = (s.arg0).fields["layer"] = (1);
    r0 = (s.arg0).fields["lifespan"] = (undefined);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_overlappers"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_obstacles"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_constructor__P31514.info = {"start":5178,"length":618,"line":202,"column":4,"endLine":222,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"inline","argumentNames":["this","img"]}

function Sprite_constructor__P31514_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_constructor__P31514, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_setImage__P31517(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = (s.arg0).fields["_image"] = (s.arg1);
    s.tmp_0 = Sprite_setHitbox__P31518_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 343; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_setImage__P31517.info = {"start":6825,"length":133,"line":252,"column":4,"endLine":256,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"setImage","argumentNames":["this","img"]}

function Sprite_setImage__P31517_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_setImage__P31517, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_setHitbox__P31518(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.newHitBox___47335 = undefined;
    s.oMinX___47343 = undefined;
    s.oMinY___47347 = undefined;
    s.oMaxX___47351 = undefined;
    s.oMaxY___47358 = undefined;
    s.nMinX___47365 = undefined;
    s.nMinY___47368 = undefined;
    s.nMaxX___47371 = undefined;
    s.nMaxY___47377 = undefined;
    s.xDiff___47383 = undefined;
    s.yDiff___47394 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = game_calculateHitBox__P31431_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 344; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.newHitBox___47335 = (r0);
    r0 = s.arg0.fields["_hitbox"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["_hitbox"] = (s.newHitBox___47335);
    { step = 7; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["_hitbox"];
    r0 = r0.fields["ox"];
    s.oMinX___47343 = (r0);
    r0 = s.arg0.fields["_hitbox"];
    r0 = r0.fields["oy"];
    s.oMinY___47347 = (r0);
    r0 = s.arg0.fields["_hitbox"];
    r0 = r0.fields["width"];
    s.tmp_0 = r0;
    r0 = (s.oMinX___47343 + s.tmp_0);
    s.oMaxX___47351 = (r0);
    r0 = s.arg0.fields["_hitbox"];
    r0 = r0.fields["height"];
    s.tmp_0 = r0;
    r0 = (s.oMinY___47347 + s.tmp_0);
    s.oMaxY___47358 = (r0);
    r0 = s.newHitBox___47335.fields["ox"];
    s.nMinX___47365 = (r0);
    r0 = s.newHitBox___47335.fields["oy"];
    s.nMinY___47368 = (r0);
    r0 = s.newHitBox___47335.fields["width"];
    s.tmp_0 = r0;
    r0 = (s.nMinX___47365 + s.tmp_0);
    s.nMaxX___47371 = (r0);
    r0 = s.newHitBox___47335.fields["height"];
    s.tmp_0 = r0;
    r0 = (s.nMinY___47368 + s.tmp_0);
    s.nMaxY___47377 = (r0);
    s.tmp_1 = Fx_abs__P29587_mk(s);
    r0 = (s.oMinX___47343 - s.nMinX___47365);
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 350; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = Fx_abs__P29587_mk(s);
    r0 = (s.oMaxX___47351 - s.nMaxX___47371);
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 352; s.pc = 10; return s.tmp_3;
  case 10:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_0 + s.tmp_2);
    s.xDiff___47383 = (r0);
    s.tmp_1 = Fx_abs__P29587_mk(s);
    r0 = (s.oMinY___47347 - s.nMinY___47368);
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 355; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.tmp_3 = Fx_abs__P29587_mk(s);
    r0 = (s.oMaxY___47358 - s.nMaxY___47377);
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 357; s.pc = 12; return s.tmp_3;
  case 12:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_0 + s.tmp_2);
    s.yDiff___47394 = (r0);
    r0 = (s.arg0).fields["_hitbox"] = (s.newHitBox___47335);
    r0 = (s.xDiff___47383 <= 512);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["_hitbox"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1).fields["ox"] = (s.oMinX___47343);
    r0 = s.arg0.fields["_hitbox"];
    s.tmp_0 = r0;
    r0 = (s.oMaxX___47351 - s.oMinX___47343);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["width"] = (s.tmp_1);
  case 3:
  case 4:
    r0 = (s.yDiff___47394 <= 512);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.arg0.fields["_hitbox"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1).fields["oy"] = (s.oMinY___47347);
    r0 = s.arg0.fields["_hitbox"];
    s.tmp_0 = r0;
    r0 = (s.oMaxY___47358 - s.oMinY___47347);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["height"] = (s.tmp_1);
  case 5:
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_setHitbox__P31518.info = {"start":6964,"length":1296,"line":258,"column":4,"endLine":297,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"setHitbox","argumentNames":["this"]}

function Sprite_setHitbox__P31518_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_setHitbox__P31518, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  newHitBox___47335: undefined,
  oMinX___47343: undefined,
  oMinY___47347: undefined,
  oMaxX___47351: undefined,
  oMaxY___47358: undefined,
  nMinX___47365: undefined,
  nMinY___47368: undefined,
  nMaxX___47371: undefined,
  nMaxY___47377: undefined,
  xDiff___47383: undefined,
  yDiff___47394: undefined,
  arg0: undefined,
} }





function game_calculateHitBox__P31431(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___47449 = undefined;
    s.minX___47452 = undefined;
    s.minY___47455 = undefined;
    s.maxX___47458 = undefined;
    s.maxY___47459 = undefined;
    s.c___47460 = undefined;
    s.r___47466 = undefined;
    s.width___47497 = undefined;
    s.height___47503 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["_image"];
    s.i___47449 = (r0);
    r0 = pxsim_ImageMethods.width(s.i___47449);
    s.minX___47452 = (r0);
    r0 = pxsim_ImageMethods.height(s.i___47449);
    s.minY___47455 = (r0);
    s.maxX___47458 = (0);
    s.maxY___47459 = (0);
    s.c___47460 = (0);
  case 1:
    s.tmp_1 = r0 = s.c___47460;
    r0 = pxsim_ImageMethods.width(s.i___47449);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.r___47466 = (0);
  case 2:
    s.tmp_1 = r0 = s.r___47466;
    r0 = pxsim_ImageMethods.height(s.i___47449);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_ImageMethods.getPixel(s.i___47449, s.c___47460, s.r___47466);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    s.tmp_4 = Math_min__P29553_mk(s);
    s.tmp_4.arg0 = s.minX___47452;
    s.tmp_4.arg1 = s.c___47460;
    s.callLocIdx = 303; s.pc = 7; return s.tmp_4;
  case 7:
    r0 = s.retval;
    s.minX___47452 = (r0);
    s.tmp_0 = Math_min__P29553_mk(s);
    s.tmp_0.arg0 = s.minY___47455;
    s.tmp_0.arg1 = s.r___47466;
    s.callLocIdx = 304; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.minY___47455 = (r0);
    s.tmp_0 = Math_max__P29552_mk(s);
    s.tmp_0.arg0 = s.maxX___47458;
    s.tmp_0.arg1 = s.c___47460;
    s.callLocIdx = 305; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.maxX___47458 = (r0);
    s.tmp_0 = Math_max__P29552_mk(s);
    s.tmp_0.arg0 = s.maxY___47459;
    s.tmp_0.arg1 = s.r___47466;
    s.callLocIdx = 306; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    s.maxY___47459 = (r0);
  case 3:
  case 4:
    r0 = (s.r___47466 + 1);
    s.r___47466 = (r0);
    { step = 2; continue; }
  case 5:
    r0 = (s.c___47460 + 1);
    s.c___47460 = (r0);
    { step = 1; continue; }
  case 6:
    r0 = (s.maxX___47458 - s.minX___47452);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
    s.width___47497 = (r0);
    r0 = (s.maxY___47459 - s.minY___47455);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
    s.height___47503 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(game_Hitbox__C31420_VT);
    s.tmp_0 = r0;
    s.tmp_1 = game_Hitbox_constructor__P31426_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.tmp_1.arg2 = s.width___47497;
    s.tmp_1.arg3 = s.height___47503;
    s.tmp_1.arg4 = s.minX___47452;
    s.tmp_1.arg5 = s.minY___47455;
    s.callLocIdx = 307; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
game_calculateHitBox__P31431.info = {"start":894,"length":684,"line":40,"column":4,"endLine":62,"endColumn":5,"fileName":"pxt_modules/game/hitbox.ts","functionName":"calculateHitBox","argumentNames":["s"]}

function game_calculateHitBox__P31431_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_calculateHitBox__P31431, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  i___47449: undefined,
  minX___47452: undefined,
  minY___47455: undefined,
  maxX___47458: undefined,
  maxY___47459: undefined,
  c___47460: undefined,
  r___47466: undefined,
  width___47497: undefined,
  height___47503: undefined,
  arg0: undefined,
} }





function Sprite_image__P31516(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_image"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_image__P31516.info = {"start":6549,"length":54,"line":242,"column":4,"endLine":244,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"image","argumentNames":["this"]}
Sprite_image__P31516.isGetter = true;

function Sprite_image__P31516_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_image__P31516, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function game_Hitbox_constructor__P31426(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_Hitbox__C31420_VT)) failedCast(r0);
    r0 = (s.arg0).fields["parent"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg2 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["width"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg3 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["height"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg4 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ox"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg5 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["oy"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_Hitbox_constructor__P31426.info = {"start":151,"length":266,"line":8,"column":8,"endLine":14,"endColumn":9,"fileName":"pxt_modules/game/hitbox.ts","functionName":"inline","argumentNames":["this","parent","width","height","ox","oy"]}

function game_Hitbox_constructor__P31426_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_Hitbox_constructor__P31426, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function Fx_abs__P29587(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (0 - s.arg0);
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
    r0 = s.arg0;
    { step = 3; continue; }
  case 2:
    r0 = undefined;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
Fx_abs__P29587.info = {"start":1506,"length":164,"line":44,"column":4,"endLine":49,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"abs","argumentNames":["a"]}

function Fx_abs__P29587_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_abs__P29587, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Fx_sub__P29581(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 - s.arg1);
    return leave(s, r0)
  default: oops()
} } }
Fx_sub__P29581.info = {"start":749,"length":118,"line":26,"column":4,"endLine":28,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"sub","argumentNames":["a","b"]}

function Fx_sub__P29581_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_sub__P29581, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_fy__P31501(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_3 = Math_max__P29552_mk(s);
    s.tmp_3.arg0 = 0;
    s.tmp_3.arg1 = s.arg1;
    s.callLocIdx = 330; s.pc = 1; return s.tmp_3;
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 256);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_fy"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_fy__P31501.info = {"start":4057,"length":64,"line":151,"column":4,"endLine":153,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"fy","argumentNames":["this","v"]}

function Sprite_fy__P31501_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_fy__P31501, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_fy__P31500(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_fy"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 256);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_fy__P31500.info = {"start":3895,"length":60,"line":146,"column":4,"endLine":148,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"fy","argumentNames":["this"]}
Sprite_fy__P31500.isGetter = true;

function Sprite_fy__P31500_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_fy__P31500, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Sprite_fx__P31499(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_3 = Math_max__P29552_mk(s);
    s.tmp_3.arg0 = 0;
    s.tmp_3.arg1 = s.arg1;
    s.callLocIdx = 327; s.pc = 1; return s.tmp_3;
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 256);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_fx"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_fx__P31499.info = {"start":3714,"length":64,"line":141,"column":4,"endLine":143,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"fx","argumentNames":["this","v"]}

function Sprite_fx__P31499_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_fx__P31499, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_fx__P31498(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_fx"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 256);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_fx__P31498.info = {"start":3552,"length":60,"line":136,"column":4,"endLine":138,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"fx","argumentNames":["this"]}
Sprite_fx__P31498.isGetter = true;

function Sprite_fx__P31498_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_fx__P31498, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Sprite_ay__P31497(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_ay"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_ay__P31497.info = {"start":3383,"length":51,"line":130,"column":4,"endLine":132,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"ay","argumentNames":["this","v"]}

function Sprite_ay__P31497_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_ay__P31497, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_ay__P31496(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_ay"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 256);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_ay__P31496.info = {"start":3217,"length":60,"line":125,"column":4,"endLine":127,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"ay","argumentNames":["this"]}
Sprite_ay__P31496.isGetter = true;

function Sprite_ay__P31496_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_ay__P31496, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Sprite_ax__P31495(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_ax"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_ax__P31495.info = {"start":3044,"length":51,"line":119,"column":4,"endLine":121,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"ax","argumentNames":["this","v"]}

function Sprite_ax__P31495_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_ax__P31495, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_ax__P31494(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_ax"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 256);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_ax__P31494.info = {"start":2878,"length":60,"line":114,"column":4,"endLine":116,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"ax","argumentNames":["this"]}
Sprite_ax__P31494.isGetter = true;

function Sprite_ax__P31494_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_ax__P31494, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Sprite_vy__P31493(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_vy"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_vy__P31493.info = {"start":2705,"length":51,"line":108,"column":4,"endLine":110,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"vy","argumentNames":["this","v"]}

function Sprite_vy__P31493_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_vy__P31493, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_vy__P31492(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_vy"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 256);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_vy__P31492.info = {"start":2543,"length":60,"line":103,"column":4,"endLine":105,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"vy","argumentNames":["this"]}
Sprite_vy__P31492.isGetter = true;

function Sprite_vy__P31492_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_vy__P31492, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Sprite_vx__P31491(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_vx"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_vx__P31491.info = {"start":2374,"length":51,"line":97,"column":4,"endLine":99,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"vx","argumentNames":["this","v"]}

function Sprite_vx__P31491_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_vx__P31491, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_vx__P31490(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_vx"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 256);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_vx__P31490.info = {"start":2212,"length":60,"line":92,"column":4,"endLine":94,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"vx","argumentNames":["this"]}
Sprite_vx__P31490.isGetter = true;

function Sprite_vx__P31490_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_vx__P31490, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function game_SplashDialog_setText__P31971(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_SplashDialog__C31963_VT)) failedCast(r0);
    r0 = (s.arg0).fields["text"] = (s.arg1);
    s.tmp_0 = game_SplashDialog_updateFont__P34654_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 933; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["offset"] = (0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_4 = r0;
    s.tmp_6 = if_charWidth_1_mk(s);
    r0 = s.arg0.fields["font"];
    s.tmp_6.arg0 = r0;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "charWidth");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["charWidth"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["charWidth"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 934; s.pc = 2; return s.tmp_6; }
    }
  case 2:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.tmp_4 * s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_7 = r0;
    r0 = (s.tmp_3 - s.tmp_7);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_9 = r0;
    r0 = (s.tmp_9 << 1);
    s.tmp_8 = r0;
    r0 = (s.tmp_2 + s.tmp_8);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["maxOffset"] = (s.tmp_1);
    r0 = (s.arg0).fields["timer"] = (2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_SplashDialog_setText__P31971.info = {"start":8738,"length":249,"line":276,"column":8,"endLine":282,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"setText","argumentNames":["this","text"]}

function game_SplashDialog_setText__P31971_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_SplashDialog_setText__P31971, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function game_SplashDialog_updateFont__P34654(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_SplashDialog__C31963_VT)) failedCast(r0);
    r0 = s.arg0.fields["text"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.mkEmpty();
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.arg0.fields["subtext"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_2;
    { step = 4; continue; }
  case 3:
    r0 = pxsim_String_.mkEmpty();
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.tmp_4 = game_BaseDialog_setFont__P34651_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_5 = image_getFontForText__P31208_mk(s);
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_6, s.tmp_7);
    s.tmp_5.arg0 = r0;
    s.callLocIdx = 931; s.pc = 6; return s.tmp_5;
  case 6:
    r0 = s.retval;
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 932; s.pc = 5; return s.tmp_4;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_SplashDialog_updateFont__P34654.info = {"start":8606,"length":122,"line":272,"column":8,"endLine":274,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"updateFont","argumentNames":["this"]}

function game_SplashDialog_updateFont__P34654_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_SplashDialog_updateFont__P34654, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
} }





function game_BaseDialog_setFont__P34651(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    r0 = (s.arg0).fields["font"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_setFont__P34651.info = {"start":5310,"length":77,"line":176,"column":8,"endLine":178,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"setFont","argumentNames":["this","font"]}

function game_BaseDialog_setFont__P34651_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_setFont__P34651, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function game_SplashDialog_constructor__P31970(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_SplashDialog__C31963_VT)) failedCast(r0);
    s.tmp_0 = game_BaseDialog_constructor__P31947_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_1 = game_defaultSplashFrame__P34657_mk(s);
    s.callLocIdx = 929; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg3 = r0;
    s.tmp_0.arg4 = undefined;
    s.tmp_0.arg5 = undefined;
    s.callLocIdx = 930; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["maxOffset"] = (-1);
    r0 = (s.arg0).fields["maxSubOffset"] = (-1);
    r0 = (s.arg0).fields["textColor"] = (1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_SplashDialog_constructor__P31970.info = {"start":8386,"length":210,"line":265,"column":8,"endLine":270,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"inline","argumentNames":["this","width","height"]}

function game_SplashDialog_constructor__P31970_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_SplashDialog_constructor__P31970, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function game_defaultSplashFrame__P34657(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_ImageMethods.isMono(globals.screen___31263);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.image.ofBuffer(_hex47692);
    { step = 2; continue; }
  case 1:
    r0 = pxsim.image.ofBuffer(_hex47694);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    return leave(s, r0)
  default: oops()
} } }
game_defaultSplashFrame__P34657.info = {"start":16870,"length":220,"line":528,"column":4,"endLine":541,"endColumn":5,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"defaultSplashFrame","argumentNames":[]}

function game_defaultSplashFrame__P34657_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_defaultSplashFrame__P34657, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }

const _hex47692 = pxsim.BufferMethods.createBufferFromHex("8704030003000000010100000101000001010000")
const _hex47694 = pxsim.BufferMethods.createBufferFromHex("8704030003000000f1010000f1010000f1010000")




function game_BaseDialog_constructor__P31947(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.image.create(s.arg1, s.arg2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["image"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg3;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = globals.dialogFrame___34640;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_1;
    { step = 4; continue; }
  case 3:
    s.tmp_3 = game_defaultFrame__P34656_mk(s);
    s.callLocIdx = 901; s.pc = 13; return s.tmp_3;
  case 13:
    r0 = s.retval;
    s.tmp_2 = r0;
    globals.dialogFrame___34640 = (r0);
    r0 = s.tmp_2;
  case 4:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = (s.arg0).fields["frame"] = (s.tmp_4);
    s.tmp_0 = r0 = s.arg4;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    r0 = globals.font8___31206;
  case 6:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = (s.arg0).fields["font"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg5;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 7:
    r0 = globals.dialogCursor___34641;
  case 8:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 9; continue; }
    r0 = s.tmp_1;
    { step = 10; continue; }
  case 9:
    s.tmp_3 = game_defaultCursorImage__P34658_mk(s);
    s.callLocIdx = 902; s.pc = 14; return s.tmp_3;
  case 14:
    r0 = s.retval;
    s.tmp_2 = r0;
    globals.dialogCursor___34641 = (r0);
    r0 = s.tmp_2;
  case 10:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = (s.arg0).fields["cursor"] = (s.tmp_4);
    r0 = (globals.dialogTextColor___34642 == undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    globals.dialogTextColor___34642 = (15);
    r0 = 15;
    { step = 12; continue; }
  case 11:
    r0 = globals.dialogTextColor___34642;
  case 12:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = (s.arg0).fields["textColor"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["frame"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 / 3);
    s.tmp_2 = r0;
    r0 = pxsim.Math_.floor(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["unit"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["unit"];
    s.tmp_3 = r0;
    r0 = (s.arg1 / s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim.Math_.floor(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["columns"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["unit"];
    s.tmp_3 = r0;
    r0 = (s.arg2 / s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim.Math_.floor(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["rows"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_3 = r0 = s.arg1;
    r0 = s.arg0.fields["columns"];
    s.tmp_5 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_6 = r0;
    r0 = (s.tmp_5 * s.tmp_6);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 - s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["innerLeft"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_3 = r0 = s.arg2;
    r0 = s.arg0.fields["rows"];
    s.tmp_5 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_6 = r0;
    r0 = (s.tmp_5 * s.tmp_6);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 - s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["innerTop"] = (s.tmp_1);
    r0 = (s.arg0).fields["cursorCount"] = (0);
    s.tmp_0 = game_BaseDialog_drawBorder__P34643_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 903; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_clearInterior__P34645_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 904; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_constructor__P31947.info = {"start":634,"length":895,"line":36,"column":8,"endLine":58,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"inline","argumentNames":["this","width","height","frame","font","cursor"]}

function game_BaseDialog_constructor__P31947_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_constructor__P31947, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function game_defaultCursorImage__P34658(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_ImageMethods.isMono(globals.screen___31263);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.image.ofBuffer(_hex47878);
    { step = 2; continue; }
  case 1:
    r0 = pxsim.image.ofBuffer(_hex47880);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    return leave(s, r0)
  default: oops()
} } }
game_defaultCursorImage__P34658.info = {"start":17096,"length":690,"line":543,"column":4,"endLine":569,"endColumn":5,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"defaultCursorImage","argumentNames":[]}

function game_defaultCursorImage__P34658_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_defaultCursorImage__P34658, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }

const _hex47878 = pxsim.BufferMethods.createBufferFromHex("87040a000800000011111101010000010111010111100001011101010100000101000001100010000001010000100000")
const _hex47880 = pxsim.BufferMethods.createBufferFromHex("87040b000b00000000606686080000006076776686000000607777676608000076171111670800007671177766080000767117776608000076711777660800007617111167080000607777676608000060767766860000000060668608000000")




function game_defaultFrame__P34656(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_ImageMethods.isMono(globals.screen___31263);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.image.ofBuffer(_hex47884);
    { step = 2; continue; }
  case 1:
    r0 = pxsim.image.ofBuffer(_hex47886);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    return leave(s, r0)
  default: oops()
} } }
game_defaultFrame__P34656.info = {"start":16308,"length":556,"line":504,"column":4,"endLine":526,"endColumn":5,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"defaultFrame","argumentNames":[]}

function game_defaultFrame__P34656_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_defaultFrame__P34656, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }

const _hex47884 = pxsim.BufferMethods.createBufferFromHex("8704030003000000110100000101000011010000")
const _hex47886 = pxsim.BufferMethods.createBufferFromHex("87040c000c0000000000000000000000b0bbbbbbbb0b0000b0bbbbbbbbcb0000b0db1111bdcb0000b01b1111b1cb0000b01b1111b1cb0000b01b1111b1cb0000b01b1111b1cb0000b0db1111bdcb0000b0bbbbbbbbcb0000b0bbbbbbbbcb000000cccccccccc0000")




function game_BaseDialog_drawBorder__P34643(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.y___47809 = undefined;
    s.c___47825 = undefined;
    s.r___47859 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    r0 = s.arg0.fields["unit"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = game_BaseDialog_fastFill__P34644_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 0;
    s.tmp_2.arg2 = 0;
    s.tmp_2.arg3 = 0;
    s.tmp_2.arg4 = 1;
    s.tmp_2.arg5 = 1;
    s.callLocIdx = 910; s.pc = 12; return s.tmp_2;
  case 12:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_fastFill__P34644_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = 1;
    s.tmp_0.arg3 = 0;
    r0 = s.arg0.fields["columns"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 2);
    s.tmp_0.arg4 = r0;
    s.tmp_0.arg5 = 1;
    s.callLocIdx = 911; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_fastFill__P34644_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 2;
    r0 = s.arg0.fields["columns"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 0;
    s.tmp_0.arg4 = 1;
    s.tmp_0.arg5 = 1;
    s.callLocIdx = 912; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_fastFill__P34644_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 3;
    s.tmp_0.arg2 = 0;
    s.tmp_0.arg3 = 1;
    s.tmp_0.arg4 = 1;
    r0 = s.arg0.fields["rows"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 2);
    s.tmp_0.arg5 = r0;
    s.callLocIdx = 913; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_fastFill__P34644_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 5;
    r0 = s.arg0.fields["columns"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 1;
    s.tmp_0.arg4 = 1;
    r0 = s.arg0.fields["rows"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 2);
    s.tmp_0.arg5 = r0;
    s.callLocIdx = 914; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    r0 = s.arg0.fields["rows"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - 1);
    s.y___47809 = (r0);
    s.tmp_0 = game_BaseDialog_fastFill__P34644_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 6;
    s.tmp_0.arg2 = 0;
    s.tmp_0.arg3 = s.y___47809;
    s.tmp_0.arg4 = 1;
    s.tmp_0.arg5 = 1;
    s.callLocIdx = 915; s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_fastFill__P34644_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 7;
    s.tmp_0.arg2 = 1;
    s.tmp_0.arg3 = s.y___47809;
    r0 = s.arg0.fields["columns"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 2);
    s.tmp_0.arg4 = r0;
    s.tmp_0.arg5 = 1;
    s.callLocIdx = 916; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_fastFill__P34644_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 8;
    r0 = s.arg0.fields["columns"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = s.y___47809;
    s.tmp_0.arg4 = 1;
    s.tmp_0.arg5 = 1;
    s.callLocIdx = 917; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    { step = 11; continue; }
  case 1:
  case 2:
    s.c___47825 = (0);
  case 3:
    r0 = s.arg0.fields["columns"];
    s.tmp_1 = r0;
    r0 = (s.c___47825 < s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = (s.c___47825 == 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = game_BaseDialog_drawPartial__P34646_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = 0;
    s.tmp_3.arg2 = 0;
    s.tmp_3.arg3 = 0;
    s.callLocIdx = 918; s.pc = 20; return s.tmp_3;
  case 20:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_drawPartial__P34646_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 6;
    s.tmp_0.arg2 = 0;
    r0 = s.arg0.fields["rows"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.tmp_0.arg3 = r0;
    s.callLocIdx = 919; s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    { step = 7; continue; }
  case 4:
    s.tmp_1 = r0 = s.c___47825;
    r0 = s.arg0.fields["columns"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 === s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_4 = game_BaseDialog_drawPartial__P34646_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 2;
    s.tmp_4.arg2 = s.c___47825;
    s.tmp_4.arg3 = 0;
    s.callLocIdx = 920; s.pc = 22; return s.tmp_4;
  case 22:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_drawPartial__P34646_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 8;
    s.tmp_0.arg2 = s.c___47825;
    r0 = s.arg0.fields["rows"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.tmp_0.arg3 = r0;
    s.callLocIdx = 921; s.pc = 23; return s.tmp_0;
  case 23:
    r0 = s.retval;
    { step = 6; continue; }
  case 5:
    s.tmp_0 = game_BaseDialog_drawPartial__P34646_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = s.c___47825;
    s.tmp_0.arg3 = 0;
    s.callLocIdx = 922; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_drawPartial__P34646_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 7;
    s.tmp_0.arg2 = s.c___47825;
    r0 = s.arg0.fields["rows"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.tmp_0.arg3 = r0;
    s.callLocIdx = 923; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
  case 6:
  case 7:
    r0 = (s.c___47825 + 1);
    s.c___47825 = (r0);
    { step = 3; continue; }
  case 8:
    s.r___47859 = (1);
  case 9:
    s.tmp_1 = r0 = s.r___47859;
    r0 = s.arg0.fields["rows"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    s.tmp_4 = game_BaseDialog_drawPartial__P34646_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = 3;
    s.tmp_4.arg2 = 0;
    s.tmp_4.arg3 = s.r___47859;
    s.callLocIdx = 924; s.pc = 26; return s.tmp_4;
  case 26:
    r0 = s.retval;
    s.tmp_0 = game_BaseDialog_drawPartial__P34646_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 5;
    r0 = s.arg0.fields["columns"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = s.r___47859;
    s.callLocIdx = 925; s.pc = 27; return s.tmp_0;
  case 27:
    r0 = s.retval;
    r0 = (s.r___47859 + 1);
    s.r___47859 = (r0);
    { step = 9; continue; }
  case 10:
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_drawBorder__P34643.info = {"start":2321,"length":1321,"line":89,"column":8,"endLine":125,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"drawBorder","argumentNames":["this"]}

function game_BaseDialog_drawBorder__P34643_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_drawBorder__P34643, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  y___47809: undefined,
  c___47825: undefined,
  r___47859: undefined,
  arg0: undefined,
} }





function jacdac_start__P33579(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.hostServices___36407);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_0 = jacdac_log__P36413_mk(s);
    s.tmp_0.arg0 = "jacdac starting";
    s.callLocIdx = 1465; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    globals.hostServices___36407 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_ControlService__C36426_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_ControlService_constructor__P36429_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 1466; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_2 = jacdac_Host__C33508_v2_1_mk(s);
    s.tmp_2.arg0 = s.tmp_0;
    if (!checkSubtype(s.tmp_2.arg0, jacdac_Host__C33508_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.start;
    s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    globals._unattachedClients___33506 = (r0);
    r0 = pxsim_Array__mk();
    globals._allClients___33507 = (r0);
    s.tmp_0 = jacdac___physStart__P33333_mk(s);
    s.callLocIdx = 1467; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = 30;
    s.tmp_0 = r0;
    r0 = pxsim.control.internalOnEvent(s.tmp_0, 1, inline__P38635, 16);
    r0 = 30;
    s.tmp_0 = r0;
    r0 = pxsim.control.internalOnEvent(s.tmp_0, 100, jacdac_queueAnnounce__P36430, 16);
    s.tmp_0 = console_addListener__P29799_mk(s);
    s.tmp_0.arg0 = inline__P38652;
    s.callLocIdx = 1474; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.tmp_0 = jacdac_Host__C33508_v2_1_mk(s);
    s.tmp_0.arg0 = globals.consoleHost___33649;
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Host__C33508_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.start;
    s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_start__P33579.info = {"start":22962,"length":798,"line":722,"column":4,"endLine":746,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"start","argumentNames":[]}

function jacdac_start__P33579_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_start__P33579, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function inline__P38635(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___38636 = undefined;
  case 1:
    s.tmp_1 = jacdac___physGetPacket__P33331_mk(s);
    s.callLocIdx = 1469; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    s.buf___38636 = (r0);
    r0 = (null != s.tmp_0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    s.tmp_3 = jacdac_routePacket__P33578_mk(s);
    s.tmp_4 = jacdac_JDPacket_fromBinary__P33604_mk(s);
    s.tmp_4.arg0 = s.buf___38636;
    s.callLocIdx = 1470; s.pc = 5; return s.tmp_4;
  case 5:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 1471; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38635.info = {"start":23308,"length":177,"line":733,"column":67,"endLine":738,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":[]}

function inline__P38635_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38635, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  buf___38636: undefined,
} }





function inline__P38652(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_String_.charAt(s.arg1, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != ":");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = jacdac_ConsoleHost_add__P33648_mk(s);
    s.tmp_2.arg0 = globals.consoleHost___33649;
    s.tmp_2.arg1 = s.arg0;
    s.tmp_2.arg2 = s.arg1;
    s.callLocIdx = 1473; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38652.info = {"start":23589,"length":135,"line":741,"column":28,"endLine":744,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["pri","msg"]}

function inline__P38652_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38652, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_queueAnnounce__P36430(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.fmt___38974 = undefined;
    s.ids___38985 = undefined;
    r0 = pxsim_Array__length(globals.hostServices___36407);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 1);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("<", s.tmp_2);
    s.tmp_1 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "I");
    s.fmt___38974 = (r0);
    s.tmp_0 = helpers_arrayMap__P29531_mk(s);
    s.tmp_0.arg0 = globals.hostServices___36407;
    s.tmp_0.arg1 = inline__P38987;
    s.callLocIdx = 1411; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.ids___38985 = (r0);
    s.tmp_0 = jacdac_JDPacket__sendReport__P33633_mk(s);
    s.tmp_1 = jacdac_JDPacket_packed__P33607_mk(s);
    s.tmp_1.arg0 = 0;
    s.tmp_1.arg1 = s.fmt___38974;
    s.tmp_1.arg2 = s.ids___38985;
    s.callLocIdx = 1412; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.tmp_2 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 1413; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1414; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_0.arg0 = globals.announceCallbacks___36410;
    s.tmp_0.arg1 = inline__P39005;
    s.callLocIdx = 1416; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.tmp_0 = jacdac_gcDevices__P36434_mk(s);
    s.callLocIdx = 1417; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_queueAnnounce__P36430.info = {"start":17246,"length":320,"line":556,"column":4,"endLine":563,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"queueAnnounce","argumentNames":[]}

function jacdac_queueAnnounce__P36430_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_queueAnnounce__P36430, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  fmt___38974: undefined,
  ids___38985: undefined,
} }





function inline__P38987(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["running"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["serviceClass"];
    { step = 2; continue; }
  case 1:
    r0 = -1;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    return leave(s, r0)
  default: oops()
} } }
inline__P38987.info = {"start":17362,"length":36,"line":558,"column":37,"endLine":558,"endColumn":73,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["h"]}

function inline__P38987_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38987, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P39005(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.arg0;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 1415; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P39005.info = {"start":17531,"length":8,"line":561,"column":34,"endLine":561,"endColumn":42,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["f"]}

function inline__P39005_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P39005, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_gcDevices__P36434(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cutoff___39009 = undefined;
    s.numdel___39013 = undefined;
    s.i___39014 = undefined;
    s.dev___39020 = undefined;
    s.c___39034 = undefined;
    s.unnamed524___U5 = undefined;
    s.unnamed525___U6 = undefined;
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - 2000);
    s.cutoff___39009 = (r0);
    s.numdel___39013 = (0);
    s.i___39014 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___39014;
    r0 = pxsim_Array__length(globals.devices____36409);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(globals.devices____36409, s.i___39014);
    s.dev___39020 = (r0);
    r0 = s.dev___39020.fields["lastSeen"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < s.cutoff___39009);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_2 = helpers_arraySplice__P29525_mk(s);
    s.tmp_2.arg0 = globals.devices____36409;
    s.tmp_2.arg1 = s.i___39014;
    s.tmp_2.arg2 = 1;
    s.callLocIdx = 1462; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    r0 = (s.i___39014 - 1);
    s.i___39014 = (r0);
    s.c___39034 = (undefined);
    r0 = s.dev___39020.fields["clients"];
    s.unnamed524___U5 = (r0);
    s.unnamed525___U6 = (0);
  case 2:
    s.tmp_0 = r0 = s.unnamed525___U6;
    r0 = pxsim_Array__length(s.unnamed524___U5);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array__getAt(s.unnamed524___U5, s.unnamed525___U6);
    s.c___39034 = (r0);
    s.tmp_2 = jacdac_Client__detach__P33545_mk(s);
    s.tmp_2.arg0 = s.c___39034;
    s.callLocIdx = 1463; s.pc = 10; return s.tmp_2;
  case 10:
    r0 = s.retval;
    r0 = (s.unnamed525___U6 + 1);
    s.unnamed525___U6 = (r0);
    { step = 2; continue; }
  case 3:
    s.unnamed524___U5 = (undefined);
    r0 = (s.dev___39020).fields["clients"] = (null);
    r0 = (s.numdel___39013 + 1);
    s.numdel___39013 = (r0);
  case 4:
  case 5:
    r0 = (s.i___39014 + 1);
    s.i___39014 = (r0);
    { step = 1; continue; }
  case 6:
    r0 = pxsim_numops_toBoolDecr(s.numdel___39013);
    if (!r0) { step = 7; continue; }
    s.tmp_0 = jacdac_newDevice__P36432_mk(s);
    s.callLocIdx = 1464; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_gcDevices__P36434.info = {"start":22417,"length":508,"line":701,"column":4,"endLine":718,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"gcDevices","argumentNames":[]}

function jacdac_gcDevices__P36434_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_gcDevices__P36434, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  cutoff___39009: undefined,
  numdel___39013: undefined,
  i___39014: undefined,
  dev___39020: undefined,
  c___39034: undefined,
  unnamed524___U5: undefined,
  unnamed525___U6: undefined,
} }





function jacdac_newDevice__P36432(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.f___39051 = undefined;
    s.unnamed516___U1 = undefined;
    s.unnamed517___U2 = undefined;
    r0 = pxsim_numops_toBoolDecr(globals.newDeviceCallbacks___36411);
    if (!r0) { step = 3; continue; }
    s.f___39051 = (undefined);
    s.unnamed516___U1 = (globals.newDeviceCallbacks___36411);
    s.unnamed517___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed517___U2;
    r0 = pxsim_Array__length(s.unnamed516___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed516___U1, s.unnamed517___U2);
    s.f___39051 = (r0);
    s.tmp_2 = lambda_1_mk(s);
    s.tmp_2.argL = s.f___39051;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.callLocIdx = 1418; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    r0 = (s.unnamed517___U2 + 1);
    s.unnamed517___U2 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed516___U1 = (undefined);
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_newDevice__P36432.info = {"start":17717,"length":126,"line":572,"column":4,"endLine":576,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"newDevice","argumentNames":[]}

function jacdac_newDevice__P36432_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_newDevice__P36432, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  f___39051: undefined,
  unnamed516___U1: undefined,
  unnamed517___U2: undefined,
} }





function jacdac_Client__detach__P33545(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    s.tmp_0 = jacdac_log__P36413_mk(s);
    r0 = s.arg0.fields["name"];
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("dettached ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1359; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = (s.arg0).fields["serviceNumber"] = (null);
    r0 = s.arg0.fields["broadcast"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["device"];
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.throwValue("Invalid detach");
  case 1:
  case 2:
    r0 = (s.arg0).fields["device"] = (null);
    r0 = pxsim_Array__push(globals._unattachedClients___33506, s.arg0);
    s.tmp_0 = jacdac_clearAttachCache__P36431_mk(s);
    s.callLocIdx = 1360; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
  case 3:
  case 4:
    s.tmp_0 = jacdac_Client_onDetach__P36419_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1361; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client__detach__P33545.info = {"start":9111,"length":351,"line":292,"column":8,"endLine":302,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"_detach","argumentNames":["this"]}

function jacdac_Client__detach__P33545_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client__detach__P33545, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function jacdac_Client_onDetach__P36419(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_onDetach__P36419.info = {"start":9505,"length":24,"line":305,"column":8,"endLine":305,"endColumn":32,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"onDetach","argumentNames":["this"]}

function jacdac_Client_onDetach__P36419_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_onDetach__P36419, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_JDPacket__sendReport__P33633(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_JDPacket_device_identifier__P33609_mk(s);
    s.tmp_2.arg0 = s.arg0;
    r0 = s.arg1.fields["deviceId"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 1502; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendCore__P33632_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1503; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket__sendReport__P33633.info = {"start":5720,"length":160,"line":178,"column":8,"endLine":183,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"_sendReport","argumentNames":["this","dev"]}

function jacdac_JDPacket__sendReport__P33633_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket__sendReport__P33633, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ControlService_constructor__P36429(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ControlService__C36426_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Host_constructor__P33521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "ctrl";
    s.tmp_0.arg2 = 0;
    s.callLocIdx = 1405; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ControlService_constructor__P36429.info = {"start":16053,"length":54,"line":513,"column":8,"endLine":515,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_ControlService_constructor__P36429_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ControlService_constructor__P36429, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Host_constructor__P33521(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Host__C33508_VT)) failedCast(r0);
    r0 = (s.arg0).fields["name"] = (s.arg1);
    r0 = (s.arg0).fields["serviceClass"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Host_constructor__P33521.info = {"start":4553,"length":99,"line":145,"column":8,"endLine":148,"endColumn":13,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["this","name","serviceClass"]}

function jacdac_Host_constructor__P33521_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Host_constructor__P33521, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_log__P36413(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P29792_mk(s);
    s.tmp_0.arg0 = globals.consolePriority___33395;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 1328; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_log__P36413.info = {"start":544,"length":83,"line":23,"column":4,"endLine":25,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"log","argumentNames":["msg"]}

function jacdac_log__P36413_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_log__P36413, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_ConsoleHost_constructor__P33642(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ConsoleHost__C33640_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_lastListenerTime"] = (0);
    r0 = (s.arg0).fields["minPriority"] = (4);
    s.tmp_0 = jacdac_Host_constructor__P33521_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "conh";
    s.tmp_0.arg2 = 316415946;
    s.callLocIdx = 1520; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["_lastListenerTime"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ConsoleHost_constructor__P33642.info = {"start":167,"length":109,"line":5,"column":8,"endLine":8,"endColumn":9,"fileName":"pxt_modules/jacdac-services/consolehost.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_ConsoleHost_constructor__P33642_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ConsoleHost_constructor__P33642, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_ConsoleHost_add__P33648(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___38702 = undefined;
    s.unnamed534___U1 = undefined;
    s.unnamed535___U2 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ConsoleHost__C33640_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.length(s.arg2);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_4;
    { step = 4; continue; }
  case 3:
    r0 = s.arg0.fields["minPriority"];
    s.tmp_5 = r0;
    r0 = (s.arg1 < s.tmp_5);
  case 4:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBool(s.tmp_6);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_6;
    { step = 6; continue; }
  case 5:
    r0 = s.arg0.fields["_lastListenerTime"];
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    s.tmp_7 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_7);
  case 6:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    if (!r0) { step = 7; continue; }
    { step = 13; continue; }
  case 7:
  case 8:
    r0 = pxsim.control.millis();
    s.tmp_12 = r0;
    r0 = s.arg0.fields["_lastListenerTime"];
    s.tmp_13 = r0;
    r0 = (s.tmp_12 - s.tmp_13);
    s.tmp_11 = r0;
    r0 = (s.tmp_11 > 3000);
    s.tmp_10 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_10);
    if (!r0) { step = 9; continue; }
    r0 = (s.arg0).fields["_lastListenerTime"] = (0);
    { step = 13; continue; }
  case 9:
  case 10:
    s.buf___38702 = (undefined);
    s.tmp_0 = Buffer_chunkedFromUTF8__P29625_mk(s);
    s.tmp_0.arg0 = s.arg2;
    s.tmp_0.arg1 = 236;
    s.callLocIdx = 1524; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    s.unnamed534___U1 = (r0);
    s.unnamed535___U2 = (0);
  case 11:
    s.tmp_0 = r0 = s.unnamed535___U2;
    r0 = pxsim_Array__length(s.unnamed534___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 12; continue; }
    r0 = pxsim_Array__getAt(s.unnamed534___U1, s.unnamed535___U2);
    s.buf___38702 = (r0);
    s.tmp_2 = jacdac_Host_sendReport__P33516_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_3 = jacdac_JDPacket_from__P33605_mk(s);
    r0 = (128 + s.arg1);
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.buf___38702;
    s.callLocIdx = 1525; s.pc = 16; return s.tmp_3;
  case 16:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 1526; s.pc = 15; return s.tmp_2;
  case 15:
    r0 = s.retval;
    r0 = (s.unnamed535___U2 + 1);
    s.unnamed535___U2 = (r0);
    { step = 11; continue; }
  case 12:
    s.unnamed534___U1 = (undefined);
  case 13:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ConsoleHost_add__P33648.info = {"start":1424,"length":576,"line":41,"column":8,"endLine":54,"endColumn":9,"fileName":"pxt_modules/jacdac-services/consolehost.ts","functionName":"add","argumentNames":["this","priority","message"]}

function jacdac_ConsoleHost_add__P33648_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ConsoleHost_add__P33648, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  buf___38702: undefined,
  unnamed534___U1: undefined,
  unnamed535___U2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Host_sendReport__P33516(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Host__C33508_VT)) failedCast(r0);
    s.tmp_0 = jacdac_JDPacket_service_number__P33616_mk(s);
    s.tmp_0.arg0 = s.arg1;
    r0 = s.arg0.fields["serviceNumber"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1333; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendReport__P33633_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = globals.myDevice___36408;
    s.callLocIdx = 1334; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Host_sendReport__P33516.info = {"start":1305,"length":127,"line":53,"column":8,"endLine":56,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"sendReport","argumentNames":["this","pkt"]}

function jacdac_Host_sendReport__P33516_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Host_sendReport__P33516, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Buffer_chunkedFromUTF8__P29625(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.chunks___38892 = undefined;
    s.pos___38894 = undefined;
    s.len___38900 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 < 3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.throwValue("Oops");
  case 1:
  case 2:
    r0 = pxsim_Array__mk();
    s.chunks___38892 = (r0);
    s.pos___38894 = (0);
  case 3:
    s.tmp_1 = r0 = s.pos___38894;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = Buffer_chunkLen__P34296_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.pos___38894;
    s.tmp_3.arg2 = s.arg1;
    s.callLocIdx = 34; s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
    s.len___38900 = (r0);
    s.tmp_0 = r0 = s.chunks___38892;
    s.tmp_3 = helpers_stringSlice__P29542_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.pos___38894;
    r0 = (s.pos___38894 + s.len___38900);
    s.tmp_3.arg2 = r0;
    s.callLocIdx = 35; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim.control.createBufferFromUTF8(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = (s.pos___38894 + s.len___38900);
    s.pos___38894 = (r0);
    { step = 3; continue; }
  case 4:
    r0 = s.chunks___38892;
    return leave(s, r0)
  default: oops()
} } }
Buffer_chunkedFromUTF8__P29625.info = {"start":8339,"length":381,"line":298,"column":4,"endLine":309,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"chunkedFromUTF8","argumentNames":["str","maxBytes"]}

function Buffer_chunkedFromUTF8__P29625_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_chunkedFromUTF8__P29625, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  chunks___38892: undefined,
  pos___38894: undefined,
  len___38900: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Buffer_chunkLen__P34296(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.L___38925 = undefined;
    s.R___38929 = undefined;
    s.m___38947 = undefined;
    s.ll___38956 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.Math_.idiv(s.arg2, 3);
    s.L___38925 = (r0);
    s.R___38929 = (s.arg2);
    s.tmp_4 = helpers_stringSlice__P29542_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.arg1;
    r0 = (s.arg1 + s.R___38929);
    s.tmp_4.arg2 = r0;
    s.callLocIdx = 32; s.pc = 10; return s.tmp_4;
  case 10:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim.control.createBufferFromUTF8(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.R___38929;
    { step = 9; continue; }
  case 1:
  case 2:
  case 3:
    r0 = (s.L___38925 < s.R___38929);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 8; continue; }
    r0 = (s.L___38925 + s.R___38929);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >> 1);
    s.m___38947 = (r0);
    r0 = (s.m___38947 == s.L___38925);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    { step = 8; continue; }
  case 4:
  case 5:
    s.tmp_3 = helpers_stringSlice__P29542_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = s.arg1;
    r0 = (s.arg1 + s.m___38947);
    s.tmp_3.arg2 = r0;
    s.callLocIdx = 33; s.pc = 11; return s.tmp_3;
  case 11:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim.control.createBufferFromUTF8(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_1);
    s.ll___38956 = (r0);
    r0 = (s.ll___38956 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.L___38925 = (s.m___38947);
    { step = 7; continue; }
  case 6:
    s.R___38929 = (s.m___38947);
  case 7:
    { step = 3; continue; }
  case 8:
    r0 = s.L___38925;
  case 9:
    return leave(s, r0)
  default: oops()
} } }
Buffer_chunkLen__P34296.info = {"start":7837,"length":496,"line":277,"column":4,"endLine":296,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"chunkLen","argumentNames":["s","off","maxlen"]}

function Buffer_chunkLen__P34296_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_chunkLen__P34296, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  L___38925: undefined,
  R___38929: undefined,
  m___38947: undefined,
  ll___38956: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_JDPacket_fromBinary__P33604(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___39125 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_JDPacket__C33601_VT);
    s.tmp_0 = r0;
    r0 = undefined;
    s.p___39125 = (s.tmp_0);
    s.tmp_0 = r0 = s.p___39125;
    r0 = pxsim.BufferMethods.slice(s.arg0, 0, 16);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_header"] = (s.tmp_1);
    s.tmp_0 = r0 = s.p___39125;
    r0 = pxsim.BufferMethods.slice(s.arg0, 16, -1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_data"] = (s.tmp_1);
    r0 = s.p___39125;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_fromBinary__P33604.info = {"start":1148,"length":215,"line":32,"column":8,"endLine":37,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"fromBinary","argumentNames":["buf"]}

function jacdac_JDPacket_fromBinary__P33604_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_fromBinary__P33604, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  p___39125: undefined,
  arg0: undefined,
} }





function jacdac_routePacket__P33578(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.devId___39144 = undefined;
    s.multiCommandClass___39147 = undefined;
    s.crc___39160 = undefined;
    s.ack___39163 = undefined;
    s.f___39175 = undefined;
    s.unnamed522___U5 = undefined;
    s.unnamed523___U6 = undefined;
    s.h___39185 = undefined;
    s.h___39219 = undefined;
    s.dev___39233 = undefined;
    s.service_class___39294 = undefined;
    s.client___39308 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_1, 4, 8);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_0);
    s.devId___39144 = (r0);
    s.tmp_0 = jacdac_JDPacket_multicommand_class__P33611_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1426; s.pc = 48; return s.tmp_0;
  case 48:
    r0 = s.retval;
    s.multiCommandClass___39147 = (r0);
    s.tmp_1 = jacdac_JDPacket_requires_ack__P33613_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 1427; s.pc = 49; return s.tmp_1;
  case 49:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = jacdac_JDPacket_requires_ack__P33614_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = false;
    s.callLocIdx = 1428; s.pc = 50; return s.tmp_2;
  case 50:
    r0 = s.retval;
    r0 = s.arg0.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_3, 4, 8);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_2);
    s.tmp_1 = r0;
    s.tmp_5 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 1430; s.pc = 51; return s.tmp_5;
  case 51:
    r0 = s.retval;
    r0 = r0.fields["deviceId"];
    s.tmp_4 = r0;
    r0 = (s.tmp_1 == s.tmp_4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_header"];
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_6, 4, 0);
    s.crc___39160 = (r0);
    s.tmp_0 = jacdac_JDPacket_onlyHeader__P33606_mk(s);
    s.tmp_0.arg0 = s.crc___39160;
    s.callLocIdx = 1432; s.pc = 52; return s.tmp_0;
  case 52:
    r0 = s.retval;
    s.ack___39163 = (r0);
    s.tmp_0 = jacdac_JDPacket_service_number__P33616_mk(s);
    s.tmp_0.arg0 = s.ack___39163;
    s.tmp_0.arg1 = 63;
    s.callLocIdx = 1433; s.pc = 53; return s.tmp_0;
  case 53:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket__sendReport__P33633_mk(s);
    s.tmp_0.arg0 = s.ack___39163;
    s.tmp_1 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 1434; s.pc = 55; return s.tmp_1;
  case 55:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1435; s.pc = 54; return s.tmp_0;
  case 54:
    r0 = s.retval;
  case 1:
  case 2:
  case 3:
  case 4:
    r0 = pxsim_numops_toBoolDecr(globals.pktCallbacks___36412);
    if (!r0) { step = 7; continue; }
    s.f___39175 = (undefined);
    s.unnamed522___U5 = (globals.pktCallbacks___36412);
    s.unnamed523___U6 = (0);
  case 5:
    s.tmp_0 = r0 = s.unnamed523___U6;
    r0 = pxsim_Array__length(s.unnamed522___U5);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed522___U5, s.unnamed523___U6);
    s.f___39175 = (r0);
    s.tmp_2 = lambda_2_mk(s);
    s.tmp_2.argL = s.f___39175;
    s.tmp_2.arg0 = s.arg0;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.callLocIdx = 1436; s.pc = 56; return s.tmp_2;
  case 56:
    r0 = s.retval;
    r0 = (s.unnamed523___U6 + 1);
    s.unnamed523___U6 = (r0);
    { step = 5; continue; }
  case 6:
    s.unnamed522___U5 = (undefined);
  case 7:
  case 8:
    r0 = (s.multiCommandClass___39147 != null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    s.tmp_4 = jacdac_JDPacket_is_command__P33629_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.callLocIdx = 1437; s.pc = 57; return s.tmp_4;
  case 57:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 9; continue; }
    { step = 47; continue; }
  case 9:
  case 10:
    r0 = pxsim_pxtcore_mkAction(1, inline__P39187);
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_5, 0, s.multiCommandClass___39147);
    s.tmp_6 = helpers_arrayFind__P29536_mk(s);
    s.tmp_6.arg0 = globals.hostServices___36407;
    s.tmp_6.arg1 = s.tmp_5;
    s.callLocIdx = 1438; s.pc = 58; return s.tmp_6;
  case 58:
    r0 = s.retval;
    s.h___39185 = (r0);
    s.tmp_0 = r0 = s.h___39185;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 11; continue; }
    r0 = s.tmp_0;
    { step = 12; continue; }
  case 11:
    r0 = s.h___39185.fields["running"];
  case 12:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 13; continue; }
    s.tmp_2 = jacdac_JDPacket_device_identifier__P33609_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_3 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 1439; s.pc = 60; return s.tmp_3;
  case 60:
    r0 = s.retval;
    r0 = r0.fields["deviceId"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 1440; s.pc = 59; return s.tmp_2;
  case 59:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_service_number__P33616_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = s.h___39185.fields["serviceNumber"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1441; s.pc = 61; return s.tmp_0;
  case 61:
    r0 = s.retval;
    s.tmp_0 = jacdac_Host__C33508_v0_2_mk(s);
    s.tmp_0.arg0 = s.h___39185;
    s.tmp_0.arg1 = s.arg0;
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Host__C33508_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.handlePacketOuter;
    s.pc = 62; return s.tmp_0;
  case 62:
    r0 = s.retval;
  case 13:
  case 14:
    { step = 46; continue; }
  case 15:
    s.tmp_1 = r0 = s.devId___39144;
    s.tmp_3 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 1442; s.pc = 63; return s.tmp_3;
  case 63:
    r0 = s.retval;
    r0 = r0.fields["deviceId"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    s.tmp_7 = jacdac_JDPacket_is_command__P33629_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.callLocIdx = 1443; s.pc = 64; return s.tmp_7;
  case 64:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 16; continue; }
    { step = 47; continue; }
  case 16:
  case 17:
    s.tmp_8 = r0 = globals.hostServices___36407;
    r0 = s.arg0.fields["_header"];
    s.tmp_11 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_11, 13);
    s.tmp_10 = r0;
    r0 = (s.tmp_10 & 63);
    s.tmp_9 = r0;
    r0 = pxsim_Array__getAt(s.tmp_8, s.tmp_9);
    s.h___39219 = (r0);
    s.tmp_0 = r0 = s.h___39219;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 18; continue; }
    r0 = s.tmp_0;
    { step = 19; continue; }
  case 18:
    r0 = s.h___39219.fields["running"];
  case 19:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 20; continue; }
    s.tmp_2 = jacdac_Host__C33508_v0_2_mk(s);
    s.tmp_2.arg0 = s.h___39219;
    s.tmp_2.arg1 = s.arg0;
    if (!checkSubtype(s.tmp_2.arg0, jacdac_Host__C33508_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.handlePacketOuter;
    s.pc = 65; return s.tmp_2;
  case 65:
    r0 = s.retval;
  case 20:
  case 21:
    { step = 45; continue; }
  case 22:
    s.tmp_1 = jacdac_JDPacket_is_command__P33629_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 1445; s.pc = 66; return s.tmp_1;
  case 66:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 23; continue; }
    { step = 47; continue; }
  case 23:
  case 24:
    r0 = pxsim_pxtcore_mkAction(1, inline__P39236);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.devId___39144);
    s.tmp_3 = helpers_arrayFind__P29536_mk(s);
    s.tmp_3.arg0 = globals.devices____36409;
    s.tmp_3.arg1 = s.tmp_2;
    s.callLocIdx = 1446; s.pc = 67; return s.tmp_3;
  case 67:
    r0 = s.retval;
    s.dev___39233 = (r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_3, 13);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 63);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 33; continue; }
    r0 = s.arg0.fields["_header"];
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_6, 4, 14);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 == 0);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 29; continue; }
    r0 = pxsim_numops_toBoolDecr(s.dev___39233);
    s.tmp_8 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_8);
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 25; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_Device__C33554_VT);
    s.tmp_9 = r0;
    s.tmp_10 = jacdac_Device_constructor__P33558_mk(s);
    s.tmp_10.arg0 = s.tmp_9;
    r0 = s.arg0.fields["_header"];
    s.tmp_12 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_12, 4, 8);
    s.tmp_11 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_11);
    s.tmp_10.arg1 = r0;
    s.callLocIdx = 1450; s.pc = 68; return s.tmp_10;
  case 68:
    r0 = s.retval;
    s.dev___39233 = (s.tmp_9);
  case 25:
  case 26:
    s.tmp_3 = helpers_bufferEquals__P29607_mk(s);
    r0 = s.arg0.fields["_data"];
    s.tmp_3.arg0 = r0;
    r0 = s.dev___39233.fields["services"];
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 1452; s.pc = 69; return s.tmp_3;
  case 69:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 27; continue; }
    s.tmp_4 = r0 = s.dev___39233;
    r0 = s.arg0.fields["_data"];
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["services"] = (s.tmp_5);
    s.tmp_0 = r0 = s.dev___39233;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["lastSeen"] = (s.tmp_1);
    s.tmp_0 = jacdac_reattach__P36433_mk(s);
    s.tmp_0.arg0 = s.dev___39233;
    s.callLocIdx = 1454; s.pc = 70; return s.tmp_0;
  case 70:
    r0 = s.retval;
  case 27:
  case 28:
  case 29:
  case 30:
    r0 = pxsim_numops_toBoolDecr(s.dev___39233);
    if (!r0) { step = 31; continue; }
    s.tmp_0 = jacdac_Device_handleCtrlReport__P33568_mk(s);
    s.tmp_0.arg0 = s.dev___39233;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 1455; s.pc = 71; return s.tmp_0;
  case 71:
    r0 = s.retval;
    s.tmp_0 = r0 = s.dev___39233;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["lastSeen"] = (s.tmp_1);
  case 31:
  case 32:
    { step = 47; continue; }
    { step = 36; continue; }
  case 33:
    r0 = s.arg0.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_3, 13);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 63);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 63);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 34; continue; }
    s.tmp_4 = jacdac__gotAck__P33637_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.callLocIdx = 1457; s.pc = 72; return s.tmp_4;
  case 72:
    r0 = s.retval;
  case 34:
  case 35:
  case 36:
    r0 = pxsim_numops_toBoolDecr(s.dev___39233);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 37; continue; }
    { step = 47; continue; }
  case 37:
  case 38:
    s.tmp_2 = r0 = s.dev___39233;
    r0 = pxsim.control.millis();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["lastSeen"] = (s.tmp_3);
    r0 = s.dev___39233.fields["services"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_header"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_4, 13);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & 63);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 << 2);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 11, s.tmp_1);
    s.service_class___39294 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.service_class___39294);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 39; continue; }
    r0 = s.tmp_0;
    { step = 40; continue; }
  case 39:
    r0 = (s.service_class___39294 == 4294967295);
  case 40:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 41; continue; }
    { step = 47; continue; }
  case 41:
  case 42:
    r0 = pxsim_pxtcore_mkAction(2, inline__P39310);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_3, 0, s.service_class___39294);
    r0 = pxsim_pxtrt_stclo(s.tmp_3, 1, s.arg0);
    s.tmp_4 = helpers_arrayFind__P29536_mk(s);
    r0 = s.dev___39233.fields["clients"];
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = s.tmp_3;
    s.callLocIdx = 1460; s.pc = 73; return s.tmp_4;
  case 73:
    r0 = s.retval;
    s.client___39308 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.client___39308);
    if (!r0) { step = 43; continue; }
    r0 = (s.client___39308).fields["currentDevice"] = (s.dev___39233);
    s.tmp_0 = jacdac_Client_handlePacketOuter__P33542_mk(s);
    s.tmp_0.arg0 = s.client___39308;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 1461; s.pc = 74; return s.tmp_0;
  case 74:
    r0 = s.retval;
  case 43:
  case 44:
  case 45:
  case 46:
  case 47:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_routePacket__P33578.info = {"start":19106,"length":3305,"line":615,"column":4,"endLine":699,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"routePacket","argumentNames":["pkt"]}

function jacdac_routePacket__P33578_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_routePacket__P33578, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  devId___39144: undefined,
  multiCommandClass___39147: undefined,
  crc___39160: undefined,
  ack___39163: undefined,
  f___39175: undefined,
  unnamed522___U5: undefined,
  unnamed523___U6: undefined,
  h___39185: undefined,
  h___39219: undefined,
  dev___39233: undefined,
  service_class___39294: undefined,
  client___39308: undefined,
  arg0: undefined,
} }





function inline__P39187(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["serviceClass"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P39187.info = {"start":20018,"length":40,"line":639,"column":40,"endLine":639,"endColumn":80,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["s"]}

function inline__P39187_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P39187, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P39236(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["deviceId"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P39236.info = {"start":20839,"length":24,"line":658,"column":36,"endLine":658,"endColumn":60,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["d"]}

function inline__P39236_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P39236, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P39310(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["broadcast"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["serviceClass"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.caps[0]);
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["serviceNumber"];
    s.tmp_2 = r0;
    r0 = s.caps[1].fields["_header"];
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_5, 13);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 63);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 == s.tmp_3);
  case 2:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = s.tmp_6;
    return leave(s, r0)
  default: oops()
} } }
inline__P39310.info = {"start":22037,"length":146,"line":689,"column":44,"endLine":692,"endColumn":59,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["c"]}

function inline__P39310_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P39310, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }





function jacdac_reattach__P36433(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.newClients___39469 = undefined;
    s.occupied___39471 = undefined;
    s.c___39479 = undefined;
    s.unnamed518___U3 = undefined;
    s.unnamed519___U4 = undefined;
    s.newClass___39486 = undefined;
    s.i___39516 = undefined;
    s.service_class___39526 = undefined;
    s.cc___39534 = undefined;
    s.unnamed520___U9 = undefined;
    s.unnamed521___U10 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = jacdac_log__P36413_mk(s);
    s.tmp_7 = jacdac_Device_toString__P33562_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.callLocIdx = 1419; s.pc = 23; return s.tmp_7;
  case 23:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 24);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 24:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("reattaching services to ", s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, "; cl=");
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(globals._unattachedClients___33506);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 25);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 25:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_8);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, "/");
    s.tmp_1 = r0;
    r0 = pxsim_Array__length(globals._allClients___33507);
    s.tmp_11 = r0;
    if ((s.tmp_11) && (s.tmp_11).vtable) {
    setupResume(s, 26);
    pxsim_String__stringConv(s.tmp_11);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_11) + ""; }
  case 26:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_10);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1420; s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.newClients___39469 = (r0);
    r0 = s.arg0.fields["services"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 2);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.occupied___39471 = (r0);
    s.c___39479 = (undefined);
    r0 = s.arg0.fields["clients"];
    s.unnamed518___U3 = (r0);
    s.unnamed519___U4 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed519___U4;
    r0 = pxsim_Array__length(s.unnamed518___U3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_Array__getAt(s.unnamed518___U3, s.unnamed519___U4);
    s.c___39479 = (r0);
    r0 = s.c___39479.fields["broadcast"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    s.tmp_3 = jacdac_Client__detach__P33545_mk(s);
    s.tmp_3.arg0 = s.c___39479;
    s.callLocIdx = 1421; s.pc = 27; return s.tmp_3;
  case 27:
    r0 = s.retval;
    { step = 6; continue; }
  case 2:
  case 3:
    r0 = s.arg0.fields["services"];
    s.tmp_0 = r0;
    r0 = s.c___39479.fields["serviceNumber"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 << 2);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 11, s.tmp_1);
    s.newClass___39486 = (r0);
    r0 = s.c___39479.fields["serviceClass"];
    s.tmp_1 = r0;
    r0 = (s.newClass___39486 == s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__push(s.newClients___39469, s.c___39479);
    r0 = s.c___39479.fields["serviceNumber"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.setByte(s.occupied___39471, s.tmp_0, 1);
    { step = 5; continue; }
  case 4:
    s.tmp_0 = jacdac_Client__detach__P33545_mk(s);
    s.tmp_0.arg0 = s.c___39479;
    s.callLocIdx = 1422; s.pc = 28; return s.tmp_0;
  case 28:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = (s.unnamed519___U4 + 1);
    s.unnamed519___U4 = (r0);
    { step = 1; continue; }
  case 7:
    s.unnamed518___U3 = (undefined);
    r0 = (s.arg0).fields["clients"] = (s.newClients___39469);
    s.tmp_0 = jacdac_newDevice__P36432_mk(s);
    s.callLocIdx = 1423; s.pc = 29; return s.tmp_0;
  case 29:
    r0 = s.retval;
    r0 = pxsim_Array__length(globals._unattachedClients___33506);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    { step = 21; continue; }
  case 8:
  case 9:
    s.i___39516 = (0);
  case 10:
    s.tmp_1 = r0 = s.i___39516;
    r0 = s.arg0.fields["services"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    s.tmp_5 = r0 = s.occupied___39471;
    r0 = (s.i___39516 >> 2);
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_5, s.tmp_6);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 11; continue; }
    { step = 19; continue; }
  case 11:
  case 12:
    r0 = s.arg0.fields["services"];
    s.tmp_7 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_7, 11, s.i___39516);
    s.service_class___39526 = (r0);
    s.cc___39534 = (undefined);
    s.unnamed520___U9 = (globals._unattachedClients___33506);
    s.unnamed521___U10 = (0);
  case 13:
    s.tmp_0 = r0 = s.unnamed521___U10;
    r0 = pxsim_Array__length(s.unnamed520___U9);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 18; continue; }
    r0 = pxsim_Array__getAt(s.unnamed520___U9, s.unnamed521___U10);
    s.cc___39534 = (r0);
    r0 = s.cc___39534.fields["serviceClass"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == s.service_class___39526);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 16; continue; }
    s.tmp_5 = jacdac_Client__attach__P33544_mk(s);
    s.tmp_5.arg0 = s.cc___39534;
    s.tmp_5.arg1 = s.arg0;
    r0 = (s.i___39516 >> 2);
    s.tmp_5.arg2 = r0;
    s.callLocIdx = 1424; s.pc = 30; return s.tmp_5;
  case 30:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 14; continue; }
    { step = 18; continue; }
  case 14:
  case 15:
  case 16:
  case 17:
    r0 = (s.unnamed521___U10 + 1);
    s.unnamed521___U10 = (r0);
    { step = 13; continue; }
  case 18:
    s.unnamed520___U9 = (undefined);
  case 19:
    r0 = (s.i___39516 + 4);
    s.i___39516 = (r0);
    { step = 10; continue; }
  case 20:
  case 21:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_reattach__P36433.info = {"start":17849,"length":1251,"line":578,"column":4,"endLine":613,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"reattach","argumentNames":["dev"]}

function jacdac_reattach__P36433_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_reattach__P36433, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  newClients___39469: undefined,
  occupied___39471: undefined,
  c___39479: undefined,
  unnamed518___U3: undefined,
  unnamed519___U4: undefined,
  newClass___39486: undefined,
  i___39516: undefined,
  service_class___39526: undefined,
  cc___39534: undefined,
  unnamed520___U9: undefined,
  unnamed521___U10: undefined,
  arg0: undefined,
} }





function jacdac_Device_toString__P33562(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    s.tmp_1 = jacdac_Device_name__P33560_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 1381; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_5 = jacdac_Device_name__P33560_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.callLocIdx = 1382; s.pc = 4; return s.tmp_5;
  case 4:
    r0 = s.retval;
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(" (", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ")");
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.mkEmpty();
  case 2:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    s.tmp_9 = jacdac_Device_shortId__P33561_mk(s);
    s.tmp_9.arg0 = s.arg0;
    s.callLocIdx = 1380; s.pc = 6; return s.tmp_9;
  case 6:
    r0 = s.retval;
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_7 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_7, s.tmp_10);
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_toString__P33562.info = {"start":13179,"length":93,"line":420,"column":8,"endLine":422,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"toString","argumentNames":["this"]}

function jacdac_Device_toString__P33562_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_toString__P33562, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  arg0: undefined,
} }





function jacdac_Device_name__P33560(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    r0 = s.arg0.fields["_name"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = settings_readString__P31293_mk(s);
    if ((globals.devNameSettingPrefix___33505) && (globals.devNameSettingPrefix___33505).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(globals.devNameSettingPrefix___33505);
    checkResumeConsumed();
    return;
    } else { s.retval = (globals.devNameSettingPrefix___33505) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = s.arg0.fields["deviceId"];
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 1378; s.pc = 5; return s.tmp_3;
  case 5:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_2;
    { step = 2; continue; }
  case 1:
    r0 = null;
  case 2:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = (s.arg0).fields["_name"] = (s.tmp_7);
  case 3:
  case 4:
    r0 = s.arg0.fields["_name"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_Device_name__P33560.info = {"start":12716,"length":240,"line":406,"column":8,"endLine":411,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"name","argumentNames":["this"]}
jacdac_Device_name__P33560.isGetter = true;

function jacdac_Device_name__P33560_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_name__P33560, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
} }





function settings_readString__P31293(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___39797 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._get(s.arg0);
    s.buf___39797 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.buf___39797);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
    r0 = pxsim.BufferMethods.toString(s.buf___39797);
    { step = 3; continue; }
  case 2:
    r0 = undefined;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
settings_readString__P31293.info = {"start":2649,"length":177,"line":103,"column":4,"endLine":109,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"readString","argumentNames":["key"]}

function settings_readString__P31293_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_readString__P31293, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  buf___39797: undefined,
  arg0: undefined,
} }





function settings_readBuffer__P31292(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._get(s.arg0);
    return leave(s, r0)
  default: oops()
} } }
settings_readBuffer__P31292.info = {"start":2516,"length":72,"line":96,"column":4,"endLine":98,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"readBuffer","argumentNames":["key"]}

function settings_readBuffer__P31292_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_readBuffer__P31292, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_Client__attach__P33544(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    r0 = s.arg0.fields["device"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.throwValue("Invalid attach");
  case 1:
  case 2:
    r0 = s.arg0.fields["broadcast"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 9; continue; }
    r0 = s.arg0.fields["requiredDeviceName"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_4;
    { step = 4; continue; }
  case 3:
    r0 = s.arg0.fields["requiredDeviceName"];
    s.tmp_5 = r0;
    s.tmp_7 = jacdac_Device_name__P33560_mk(s);
    s.tmp_7.arg0 = s.arg1;
    s.callLocIdx = 1354; s.pc = 12; return s.tmp_7;
  case 12:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = (s.tmp_5 != s.tmp_6);
  case 4:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBool(s.tmp_8);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_8;
    { step = 6; continue; }
  case 5:
    r0 = s.arg0.fields["requiredDeviceName"];
    s.tmp_9 = r0;
    r0 = s.arg1.fields["deviceId"];
    s.tmp_10 = r0;
    r0 = (s.tmp_9 != s.tmp_10);
  case 6:
    // jmp value (already in r0)
    s.tmp_11 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_11);
    if (!r0) { step = 7; continue; }
    r0 = false;
    { step = 11; continue; }
  case 7:
  case 8:
    r0 = (s.arg0).fields["device"] = (s.arg1);
    r0 = (s.arg0).fields["serviceNumber"] = (s.arg2);
    r0 = pxsim_Array_.removeElement(globals._unattachedClients___33506, s.arg0);
  case 9:
  case 10:
    s.tmp_0 = jacdac_log__P36413_mk(s);
    s.tmp_7 = jacdac_Device_toString__P33562_mk(s);
    s.tmp_7.arg0 = s.arg1;
    s.callLocIdx = 1355; s.pc = 14; return s.tmp_7;
  case 14:
    r0 = s.retval;
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("attached ", s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, "/");
    s.tmp_3 = r0;
    if ((s.arg2) && (s.arg2).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.arg2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg2) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_8);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, " to client ");
    s.tmp_1 = r0;
    r0 = s.arg0.fields["name"];
    s.tmp_10 = r0;
    if ((s.tmp_10) && (s.tmp_10).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.tmp_10);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_10) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_9);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1356; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    r0 = s.arg1.fields["clients"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg0);
    s.tmp_0 = jacdac_Client_onAttach__P36418_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1357; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    s.tmp_0 = jacdac_ClientPacketQueue_resend__P33528_mk(s);
    r0 = s.arg0.fields["config"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1358; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    r0 = true;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client__attach__P33544.info = {"start":8432,"length":669,"line":276,"column":8,"endLine":290,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"_attach","argumentNames":["this","dev","serviceNum"]}

function jacdac_Client__attach__P33544_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client__attach__P33544, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Client_onAttach__P36418(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_onAttach__P36418.info = {"start":9472,"length":24,"line":304,"column":8,"endLine":304,"endColumn":32,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"onAttach","argumentNames":["this"]}

function jacdac_Client_onAttach__P36418_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_onAttach__P36418, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_ClientPacketQueue_resend__P33528(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sn___39606 = undefined;
    s.hasNonSet___39620 = undefined;
    s.p___39622 = undefined;
    s.unnamed510___U3 = undefined;
    s.unnamed511___U4 = undefined;
    s.pkt___39637 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ClientPacketQueue__C33524_VT)) failedCast(r0);
    r0 = s.arg0.fields["parent"];
    r0 = r0.fields["serviceNumber"];
    s.sn___39606 = (r0);
    r0 = (s.sn___39606 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["pkts"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 11; continue; }
  case 3:
  case 4:
    s.hasNonSet___39620 = (false);
    s.p___39622 = (undefined);
    r0 = s.arg0.fields["pkts"];
    s.unnamed510___U3 = (r0);
    s.unnamed511___U4 = (0);
  case 5:
    s.tmp_0 = r0 = s.unnamed511___U4;
    r0 = pxsim_Array__length(s.unnamed510___U3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = pxsim_Array__getAt(s.unnamed510___U3, s.unnamed511___U4);
    s.p___39622 = (r0);
    r0 = pxsim.BufferMethods.setByte(s.p___39622, 1, s.sn___39606);
    r0 = pxsim.BufferMethods.getByte(s.p___39622, 3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 4);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.hasNonSet___39620 = (true);
  case 6:
  case 7:
    r0 = (s.unnamed511___U4 + 1);
    s.unnamed511___U4 = (r0);
    { step = 5; continue; }
  case 8:
    s.unnamed510___U3 = (undefined);
    s.tmp_0 = jacdac_JDPacket_onlyHeader__P33606_mk(s);
    s.tmp_0.arg0 = 0;
    s.callLocIdx = 1345; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.pkt___39637 = (r0);
    s.tmp_0 = jacdac_JDPacket_compress__P33625_mk(s);
    s.tmp_0.arg0 = s.pkt___39637;
    r0 = s.arg0.fields["pkts"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1346; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    s.tmp_0 = jacdac_Client_sendCommand__P33546_mk(s);
    r0 = s.arg0.fields["parent"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.pkt___39637;
    s.callLocIdx = 1347; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.hasNonSet___39620);
    if (!r0) { step = 9; continue; }
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = helpers_arrayFilter__P29535_mk(s);
    r0 = s.arg0.fields["pkts"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = inline__P39655;
    s.callLocIdx = 1348; s.pc = 15; return s.tmp_2;
  case 15:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["pkts"] = (s.tmp_1);
  case 9:
  case 10:
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ClientPacketQueue_resend__P33528.info = {"start":6477,"length":647,"line":211,"column":8,"endLine":227,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"resend","argumentNames":["this"]}

function jacdac_ClientPacketQueue_resend__P33528_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ClientPacketQueue_resend__P33528, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  sn___39606: undefined,
  hasNonSet___39620: undefined,
  p___39622: undefined,
  unnamed510___U3: undefined,
  unnamed511___U4: undefined,
  pkt___39637: undefined,
  arg0: undefined,
} }





function inline__P39655(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.BufferMethods.getByte(s.arg0, 3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 4);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == 2);
    return leave(s, r0)
  default: oops()
} } }
inline__P39655.info = {"start":7074,"length":39,"line":226,"column":45,"endLine":226,"endColumn":84,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"inline","argumentNames":["p"]}

function inline__P39655_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P39655, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_compress__P33625(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sz___39670 = undefined;
    s.s___39674 = undefined;
    s.unnamed526___U2 = undefined;
    s.unnamed527___U3 = undefined;
    s.data___39681 = undefined;
    s.s___39702 = undefined;
    s.unnamed528___U6 = undefined;
    s.unnamed529___U7 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = pxsim_Array__length(s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    s.sz___39670 = (-4);
    s.s___39674 = (undefined);
    s.unnamed526___U2 = (s.arg1);
    s.unnamed527___U3 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed527___U3;
    r0 = pxsim_Array__length(s.unnamed526___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed526___U2, s.unnamed527___U3);
    s.s___39674 = (r0);
    s.tmp_2 = r0 = s.sz___39670;
    r0 = pxsim.BufferMethods.length(s.s___39674);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.sz___39670 = (r0);
    r0 = (s.unnamed527___U3 + 1);
    s.unnamed527___U3 = (r0);
    { step = 3; continue; }
  case 4:
    s.unnamed526___U2 = (undefined);
    r0 = pxsim.control.createBuffer(s.sz___39670);
    s.data___39681 = (r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.arg1, 0);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_0, 12, s.tmp_1);
    s.tmp_0 = r0 = s.data___39681;
    r0 = pxsim_Array__getAt(s.arg1, 0);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_2, 4, -1);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_0, 0, s.tmp_1);
    r0 = pxsim_Array__getAt(s.arg1, 0);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - 4);
    s.sz___39670 = (r0);
    s.s___39702 = (undefined);
    s.tmp_0 = helpers_arraySlice__P29539_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 1489; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.unnamed528___U6 = (r0);
    s.unnamed529___U7 = (0);
  case 5:
    s.tmp_0 = r0 = s.unnamed529___U7;
    r0 = pxsim_Array__length(s.unnamed528___U6);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed528___U6, s.unnamed529___U7);
    s.s___39702 = (r0);
    r0 = pxsim.BufferMethods.write(s.data___39681, s.sz___39670, s.s___39702);
    s.tmp_0 = r0 = s.sz___39670;
    r0 = pxsim.BufferMethods.length(s.s___39702);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.sz___39670 = (r0);
    r0 = (s.unnamed529___U7 + 1);
    s.unnamed529___U7 = (r0);
    { step = 5; continue; }
  case 6:
    s.unnamed528___U6 = (undefined);
    r0 = (s.arg0).fields["_data"] = (s.data___39681);
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_compress__P33625.info = {"start":4186,"length":543,"line":129,"column":8,"endLine":145,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"compress","argumentNames":["this","stripped"]}

function jacdac_JDPacket_compress__P33625_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_compress__P33625, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  sz___39670: undefined,
  s___39674: undefined,
  unnamed526___U2: undefined,
  unnamed527___U3: undefined,
  data___39681: undefined,
  s___39702: undefined,
  unnamed528___U6: undefined,
  unnamed529___U7: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac__gotAck__P33637(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.numNotify___39365 = undefined;
    s.srcId___39366 = undefined;
    s.crc___39369 = undefined;
    s.a___39373 = undefined;
    s.unnamed532___U4 = undefined;
    s.unnamed533___U5 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals.ackAwaiters___36449);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 11; continue; }
  case 1:
  case 2:
    s.numNotify___39365 = (0);
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_1, 4, 8);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_0);
    s.srcId___39366 = (r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 14);
    s.crc___39369 = (r0);
    s.a___39373 = (undefined);
    s.unnamed532___U4 = (globals.ackAwaiters___36449);
    s.unnamed533___U5 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed533___U5;
    r0 = pxsim_Array__length(s.unnamed532___U4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = pxsim_Array__getAt(s.unnamed532___U4, s.unnamed533___U5);
    s.a___39373 = (r0);
    r0 = s.a___39373.fields["crc"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == s.crc___39369);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_2;
    { step = 5; continue; }
  case 4:
    r0 = s.a___39373.fields["srcId"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == s.srcId___39366);
  case 5:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 6; continue; }
    r0 = (s.a___39373).fields["added"] = (0);
    r0 = s.a___39373.fields["eventId"];
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(1023, s.tmp_0);
    r0 = (s.numNotify___39365 + 1);
    s.numNotify___39365 = (r0);
  case 6:
  case 7:
    r0 = (s.unnamed533___U5 + 1);
    s.unnamed533___U5 = (r0);
    { step = 3; continue; }
  case 8:
    s.unnamed532___U4 = (undefined);
    r0 = pxsim_numops_toBoolDecr(s.numNotify___39365);
    if (!r0) { step = 9; continue; }
    s.tmp_0 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_0.arg0 = globals.ackAwaiters___36449;
    s.tmp_0.arg1 = inline__P39401;
    s.callLocIdx = 1519; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    globals.ackAwaiters___36449 = (r0);
  case 9:
  case 10:
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac__gotAck__P33637.info = {"start":8186,"length":526,"line":260,"column":4,"endLine":275,"endColumn":5,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"_gotAck","argumentNames":["pkt"]}

function jacdac__gotAck__P33637_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac__gotAck__P33637, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  numNotify___39365: undefined,
  srcId___39366: undefined,
  crc___39369: undefined,
  a___39373: undefined,
  unnamed532___U4: undefined,
  unnamed533___U5: undefined,
  arg0: undefined,
} }





function inline__P39401(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["added"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 !== 0);
    return leave(s, r0)
  default: oops()
} } }
inline__P39401.info = {"start":8687,"length":18,"line":274,"column":45,"endLine":274,"endColumn":63,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"inline","argumentNames":["a"]}

function inline__P39401_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P39401, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_is_command__P33629(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_5, 3);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 1);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_is_command__P33629.info = {"start":5066,"length":93,"line":159,"column":8,"endLine":161,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"is_command","argumentNames":["this"]}
jacdac_JDPacket_is_command__P33629.isGetter = true;

function jacdac_JDPacket_is_command__P33629_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_is_command__P33629, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_multicommand_class__P33611(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_3, 11, 4);
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = undefined;
  case 3:
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_multicommand_class__P33611.info = {"start":2318,"length":216,"line":68,"column":8,"endLine":72,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"multicommand_class","argumentNames":["this"]}
jacdac_JDPacket_multicommand_class__P33611.isGetter = true;

function jacdac_JDPacket_multicommand_class__P33611_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_multicommand_class__P33611, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_Device_handleCtrlReport__P33568(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.reg___39415 = undefined;
    s.q___39420 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Device__C33554_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_3, 4, 14);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 61440);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 4096);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg1.fields["_header"];
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_5, 4, 14);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 4095);
    s.reg___39415 = (r0);
    s.tmp_0 = jacdac_Device_lookupQuery__P36424_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.reg___39415;
    s.callLocIdx = 1395; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.q___39420 = (r0);
    s.tmp_0 = jacdac_JDPacket_intData__P33624_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 1396; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = r0 = s.q___39420;
    r0 = s.arg1.fields["_data"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["value"] = (s.tmp_1);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Device_handleCtrlReport__P33568.info = {"start":14713,"length":303,"line":470,"column":8,"endLine":477,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"handleCtrlReport","argumentNames":["this","pkt"]}

function jacdac_Device_handleCtrlReport__P33568_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Device_handleCtrlReport__P33568, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  reg___39415: undefined,
  q___39420: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_intData__P33624(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    s.tmp_0 = jacdac_intOfBuffer__P33638_mk(s);
    r0 = s.arg0.fields["_data"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1488; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_intData__P33624.info = {"start":4108,"length":68,"line":125,"column":8,"endLine":127,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"intData","argumentNames":["this"]}
jacdac_JDPacket_intData__P33624.isGetter = true;

function jacdac_JDPacket_intData__P33624_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_intData__P33624, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_Client_handlePacketOuter__P33542(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = s.arg1.fields["_data"];
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["advertisementData"] = (s.tmp_4);
  case 1:
  case 2:
    r0 = s.arg1.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["eventId"];
    s.tmp_3 = r0;
    s.tmp_5 = jacdac_JDPacket_intData__P33624_mk(s);
    s.tmp_5.arg0 = s.arg1;
    s.callLocIdx = 1353; s.pc = 5; return s.tmp_5;
  case 5:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim.control.raiseEvent(s.tmp_3, s.tmp_4);
  case 3:
  case 4:
    s.tmp_0 = jacdac_Client__C33529_v0_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Client__C33529_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.handlePacket;
    s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_handlePacketOuter__P33542.info = {"start":8075,"length":306,"line":264,"column":8,"endLine":272,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"handlePacketOuter","argumentNames":["this","pkt"]}

function jacdac_Client_handlePacketOuter__P33542_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_handlePacketOuter__P33542, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_handlePacket__P33543(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_handlePacket__P33543.info = {"start":8391,"length":31,"line":274,"column":8,"endLine":274,"endColumn":39,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"handlePacket","argumentNames":["this","pkt"]}

function jacdac_Client_handlePacket__P33543_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_handlePacket__P33543, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Host_handlePacketOuter__P33512(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Host__C33508_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = jacdac_Host_sendReport__P33516_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_4 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_4.arg0 = 0;
    r0 = pxsim.control.createBuffer(0);
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 1331; s.pc = 4; return s.tmp_4;
  case 4:
    r0 = s.retval;
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 1332; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_0 = jacdac_Host__C33508_v1_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Host__C33508_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.handlePacket;
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Host_handlePacketOuter__P33512.info = {"start":809,"length":301,"line":34,"column":8,"endLine":41,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"handlePacketOuter","argumentNames":["this","pkt"]}

function jacdac_Host_handlePacketOuter__P33512_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Host_handlePacketOuter__P33512, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Host_advertisementData__P33515(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Host__C33508_VT)) failedCast(r0);
    r0 = pxsim.control.createBuffer(0);
    return leave(s, r0)
  default: oops()
} } }
jacdac_Host_advertisementData__P33515.info = {"start":1228,"length":67,"line":49,"column":8,"endLine":51,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"advertisementData","argumentNames":["this"]}

function jacdac_Host_advertisementData__P33515_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Host_advertisementData__P33515, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_Host_handlePacket__P33513(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Host__C33508_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Host_handlePacket__P33513.info = {"start":1120,"length":31,"line":43,"column":8,"endLine":43,"endColumn":39,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"handlePacket","argumentNames":["this","pkt"]}

function jacdac_Host_handlePacket__P33513_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Host_handlePacket__P33513, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_bufferEquals__P29607(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___39843 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_7 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_11 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_11);
    s.tmp_10 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_10);
    s.tmp_9 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_9);
    s.tmp_8 = r0;
    r0 = (s.tmp_4 == s.tmp_8);
    { step = 11; continue; }
  case 3:
  case 4:
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_13 = r0;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_14 = r0;
    r0 = (s.tmp_13 != s.tmp_14);
    s.tmp_12 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_12);
    if (!r0) { step = 5; continue; }
    r0 = false;
    { step = 11; continue; }
  case 5:
  case 6:
    s.i___39843 = (0);
  case 7:
    s.tmp_1 = r0 = s.i___39843;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.i___39843);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.arg1, s.i___39843);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 != s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 8; continue; }
    r0 = false;
    { step = 11; continue; }
  case 8:
  case 9:
    r0 = (s.i___39843 + 1);
    s.i___39843 = (r0);
    { step = 7; continue; }
  case 10:
    r0 = true;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
helpers_bufferEquals__P29607.info = {"start":3970,"length":283,"line":139,"column":4,"endLine":147,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"bufferEquals","argumentNames":["l","r"]}

function helpers_bufferEquals__P29607_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_bufferEquals__P29607, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  i___39843: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Host_start__P33522(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Host__C33508_VT)) failedCast(r0);
    r0 = s.arg0.fields["running"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = (s.arg0).fields["running"] = (true);
    s.tmp_0 = jacdac_start__P33579_mk(s);
    s.callLocIdx = 1335; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__length(globals.hostServices___36407);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["serviceNumber"] = (s.tmp_1);
    r0 = pxsim_Array__push(globals.hostServices___36407, s.arg0);
    s.tmp_0 = jacdac_Host__C33508_v3_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "start";
    if (!checkSubtype(s.tmp_0.arg0, jacdac_Host__C33508_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.log;
    s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Host_start__P33522.info = {"start":4828,"length":252,"line":155,"column":8,"endLine":163,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"start","argumentNames":["this"]}

function jacdac_Host_start__P33522_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Host_start__P33522, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Host_log__P36416(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.dev___40080 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Host__C33508_VT)) failedCast(r0);
    r0 = s.arg0.fields["supressLog"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (globals.consolePriority___33395 < globals.minPriority___29791);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
  case 3:
  case 4:
    s.tmp_2 = jacdac_Device_toString__P33562_mk(s);
    s.tmp_3 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 1336; s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 1337; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.dev___40080 = (r0);
    s.tmp_0 = console_add__P29792_mk(s);
    s.tmp_0.arg0 = globals.consolePriority___33395;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_7 = r0;
    if ((s.dev___40080) && (s.dev___40080).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.dev___40080);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.dev___40080) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_7, s.tmp_8);
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_6, ":");
    s.tmp_5 = r0;
    r0 = s.arg0.fields["serviceClass"];
    s.tmp_10 = r0;
    if ((s.tmp_10) && (s.tmp_10).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_10);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_10) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_9);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ">");
    s.tmp_3 = r0;
    r0 = s.arg0.fields["name"];
    s.tmp_12 = r0;
    if ((s.tmp_12) && (s.tmp_12).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.tmp_12);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_12) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_11);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ">");
    s.tmp_1 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_13 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_13);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1338; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Host_log__P36416.info = {"start":5398,"length":290,"line":177,"column":8,"endLine":182,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"log","argumentNames":["this","text"]}

function jacdac_Host_log__P36416_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Host_log__P36416, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  dev___40080: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac___physStart__P33333(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = (globals.recvQ___36343 != null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = pxsim_Array__mk();
    globals.recvQ___36343 = (r0);
    s.tmp_0 = control_simmessages_onReceived__P29848_mk(s);
    s.tmp_0.arg0 = "jacdac";
    s.tmp_0.arg1 = inline__P39927;
    s.callLocIdx = 1327; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac___physStart__P33333.info = {"start":962,"length":243,"line":40,"column":4,"endLine":47,"endColumn":5,"fileName":"pxt_modules/jacdac-services/jdsim.ts","functionName":"__physStart","argumentNames":[]}

function jacdac___physStart__P33333_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physStart__P33333, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P39927(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__push(globals.recvQ___36343, s.arg0);
    r0 = 30;
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(s.tmp_0, 1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P39927.info = {"start":1106,"length":92,"line":43,"column":49,"endLine":46,"endColumn":9,"fileName":"pxt_modules/jacdac-services/jdsim.ts","functionName":"inline","argumentNames":["buf"]}

function inline__P39927_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P39927, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac___physIsRunning__P33332(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = (globals.recvQ___36343 != null);
    return leave(s, r0)
  default: oops()
} } }
jacdac___physIsRunning__P33332.info = {"start":786,"length":79,"line":32,"column":4,"endLine":34,"endColumn":5,"fileName":"pxt_modules/jacdac-services/jdsim.ts","functionName":"__physIsRunning","argumentNames":[]}

function jacdac___physIsRunning__P33332_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physIsRunning__P33332, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function control_simmessages_onReceived__P29848(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = pxsim_numops_toBoolDecr(globals.handlers___34360);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtrt.mkMap();
    globals.handlers___34360 = (r0);
  case 3:
  case 4:
    r0 = pxsim_pxtrt.mapSetGeneric(globals.handlers___34360, s.arg0, s.arg1);
    s.tmp_0 = control_onEvent__P29807_mk(s);
    s.tmp_0.arg0 = 2999;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = control_simmessages_consumeMessages__P34361;
    s.tmp_0.arg3 = 16;
    s.callLocIdx = 126; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_simmessages_onReceived__P29848.info = {"start":1047,"length":293,"line":32,"column":4,"endLine":39,"endColumn":5,"fileName":"pxt_modules/base/controlmessage.ts","functionName":"onReceived","argumentNames":["channel","handler"]}

function control_simmessages_onReceived__P29848_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_simmessages_onReceived__P29848, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control_simmessages_consumeMessages__P34361(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.channel___39952 = undefined;
    s.msg___39957 = undefined;
    s.handler___39960 = undefined;
  case 1:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.peekMessageChannel();
    s.channel___39952 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.channel___39952);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    { step = 8; continue; }
  case 2:
  case 3:
    r0 = pxsim_pxtcore.readMessageData();
    s.msg___39957 = (r0);
    s.tmp_0 = r0 = globals.handlers___34360;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_0;
    { step = 5; continue; }
  case 4:
    r0 = pxsim_pxtrt.mapGetGeneric(globals.handlers___34360, s.channel___39952);
  case 5:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.handler___39960 = (s.tmp_1);
    r0 = pxsim_numops_toBoolDecr(s.handler___39960);
    if (!r0) { step = 6; continue; }
    s.tmp_0 = lambda_2_mk(s);
    s.tmp_0.argL = s.handler___39960;
    s.tmp_0.arg0 = s.msg___39957;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 125; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 6:
  case 7:
    { step = 1; continue; }
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_simmessages_consumeMessages__P34361.info = {"start":546,"length":414,"line":15,"column":4,"endLine":27,"endColumn":5,"fileName":"pxt_modules/base/controlmessage.ts","functionName":"consumeMessages","argumentNames":[]}

function control_simmessages_consumeMessages__P34361_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_simmessages_consumeMessages__P34361, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  channel___39952: undefined,
  msg___39957: undefined,
  handler___39960: undefined,
} }





function jacdac___physGetPacket__P33331(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.recvQ___36343);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = pxsim_Array_.removeAt(globals.recvQ___36343, 0);
  case 3:
    return leave(s, r0)
  default: oops()
} } }
jacdac___physGetPacket__P33331.info = {"start":572,"length":115,"line":23,"column":4,"endLine":26,"endColumn":5,"fileName":"pxt_modules/jacdac-services/jdsim.ts","functionName":"__physGetPacket","argumentNames":[]}

function jacdac___physGetPacket__P33331_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physGetPacket__P33331, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function jacdac___physId__P33329(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = 30;
    return leave(s, r0)
  default: oops()
} } }
jacdac___physId__P33329.info = {"start":139,"length":59,"line":7,"column":4,"endLine":9,"endColumn":5,"fileName":"pxt_modules/jacdac-services/jdsim.ts","functionName":"__physId","argumentNames":[]}

function jacdac___physId__P33329_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac___physId__P33329, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function control_runInBackground__P29706(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.control.runInParallel(s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control_runInBackground__P29706.info = {"start":384,"length":88,"line":10,"column":4,"endLine":12,"endColumn":5,"fileName":"pxt_modules/base/control.ts","functionName":"runInBackground","argumentNames":["a"]}

function control_runInBackground__P29706_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_runInBackground__P29706, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function initUF2__P34249(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.lastWrite___38515 = undefined;
    r0 = pxsim_pxtrt.mklocRef();
    s.lastWrite___38515 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.lastWrite___38515, 0);
    s.tmp_0 = console_addListener__P29799_mk(s);
    s.tmp_0.arg0 = inline__P38517;
    s.callLocIdx = 396; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    globals.consolePriority___33395 = (1);
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "readme.txt", "Drop .UF2 files here with JACDAC firmware!");
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "jd-uf2.txt", "Auto-detect");
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_1, "files", s.tmp_0);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_1, "volumeLabel", "JACDAC UF2");
    r0 = pxsim_pxtcore_mkAction(1, inline__P38534);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.lastWrite___38515);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_1, "writeHandler", s.tmp_2);
    s.tmp_3 = appuf2_init__P34214_mk(s);
    s.tmp_3.arg0 = s.tmp_1;
    s.callLocIdx = 401; s.pc = 2; return s.tmp_3;
  case 2:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P38549);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.lastWrite___38515);
    s.tmp_1 = jacdac_onAnnounce__P33575_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 405; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
initUF2__P34249.info = {"start":4540,"length":1153,"line":166,"column":0,"endLine":196,"endColumn":1,"fileName":"main.ts","functionName":"initUF2","argumentNames":[]}

function initUF2__P34249_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: initUF2__P34249, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  lastWrite___38515: undefined,
} }





function inline__P38517(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_3 = helpers_stringSlice__P29542_mk(s);
    s.tmp_3.arg0 = s.arg1;
    s.tmp_3.arg1 = 0;
    s.tmp_3.arg2 = -1;
    s.callLocIdx = 395; s.pc = 1; return s.tmp_3;
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("C: ", s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim.control.dmesg(s.tmp_0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38517.info = {"start":4607,"length":53,"line":168,"column":24,"endLine":168,"endColumn":77,"fileName":"main.ts","functionName":"inline","argumentNames":["pri","txt"]}

function inline__P38517_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38517, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P38534(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = game_pushScene__P31994_mk(s);
    s.callLocIdx = 397; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    s.tmp_0 = game_consoleOverlay_setVisible__P32111_mk(s);
    s.tmp_0.arg0 = true;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 398; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = console_log__P29796_mk(s);
    s.tmp_0.arg0 = "starting UF2 flash over JACDAC";
    s.callLocIdx = 399; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = pxsim_pxtrt_stlocRef(s.caps[0], 0);
    s.tmp_0 = jdflash_handleUF2Block__P34271_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 400; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = r0 = s.caps[0];
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38534.info = {"start":4926,"length":380,"line":176,"column":22,"endLine":185,"endColumn":9,"fileName":"main.ts","functionName":"inline","argumentNames":["buf"]}

function inline__P38534_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38534, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function inline__P38549(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim.control.millis();
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 - s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 1000);
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtrt_stlocRef(s.caps[0], 0);
    s.tmp_0 = console_log__P29796_mk(s);
    s.tmp_0.arg0 = "ending flash... press any key";
    s.callLocIdx = 402; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = resetAll__P34239_mk(s);
    s.callLocIdx = 403; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = pauseUntil__P29783_mk(s);
    s.tmp_0.arg0 = inline__P38562;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 404; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    setupResume(s, 8);
    pxsim.control.reset();
    checkResumeConsumed();
    return;
  case 8:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P38549.info = {"start":5336,"length":354,"line":187,"column":22,"endLine":195,"endColumn":5,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38549_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38549, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
} }





function inline__P38562(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = controller_Button__C31364_v0_1_mk(s);
    s.tmp_0.arg0 = globals.anyButton___31418;
    if (!checkSubtype(s.tmp_0.arg0, controller_Button__C31364_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.isPressed;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P38562.info = {"start":5553,"length":38,"line":192,"column":23,"endLine":192,"endColumn":61,"fileName":"main.ts","functionName":"inline","argumentNames":[]}

function inline__P38562_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P38562, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jdflash_handleUF2Block__P34271(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.hh___38073 = undefined;
    s._magic0___38081 = undefined;
    s._magic1___38082 = undefined;
    s._flags___38083 = undefined;
    s.trgaddr___38084 = undefined;
    s.payloadSize___38085 = undefined;
    s.blkNo___38086 = undefined;
    s.numBlocks___38087 = undefined;
    s.familyID___38088 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.BufferMethods.slice(s.arg0, 0, 32);
    s.hh___38073 = (r0);
    s.tmp_1 = helpers_bufferToArray__P29612_mk(s);
    s.tmp_1.arg0 = s.hh___38073;
    s.tmp_1.arg1 = 11;
    s.callLocIdx = 299; s.pc = 16; return s.tmp_1;
  case 16:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, 0);
    s._magic0___38081 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 1);
    s._magic1___38082 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 2);
    s._flags___38083 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 3);
    s.trgaddr___38084 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 4);
    s.payloadSize___38085 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 5);
    s.blkNo___38086 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 6);
    s.numBlocks___38087 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 7);
    s.familyID___38088 = (r0);
    r0 = (globals.skippingFamilyId___38070 == s.familyID___38088);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 15; continue; }
  case 1:
  case 2:
    r0 = (s.blkNo___38086 == 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_numops_toBoolDecr(globals.currFlasher___38071);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = jdflash_FlashClient_endFlash__P34267_mk(s);
    s.tmp_2.arg0 = globals.currFlasher___38071;
    s.callLocIdx = 300; s.pc = 17; return s.tmp_2;
  case 17:
    r0 = s.retval;
  case 3:
  case 4:
    s.tmp_0 = jdflash_FlashClient_forDeviceClass__P34270_mk(s);
    s.tmp_0.arg0 = s.familyID___38088;
    s.callLocIdx = 301; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    globals.currFlasher___38071 = (r0);
    r0 = pxsim_numops_toBoolDecr(globals.currFlasher___38071);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = jdflash_log__P37465_mk(s);
    s.tmp_6 = hexNum__P34256_mk(s);
    s.tmp_6.arg0 = s.familyID___38088;
    s.callLocIdx = 302; s.pc = 20; return s.tmp_6;
  case 20:
    r0 = s.retval;
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 21);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 21:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat("skipping family ", s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, " - no bootloaders for it");
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 303; s.pc = 19; return s.tmp_2;
  case 19:
    r0 = s.retval;
    globals.skippingFamilyId___38070 = (s.familyID___38088);
    { step = 15; continue; }
  case 5:
  case 6:
    s.tmp_0 = jdflash_FlashClient_startFlash__P34266_mk(s);
    s.tmp_0.arg0 = globals.currFlasher___38071;
    s.callLocIdx = 304; s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = pxsim_numops_toBoolDecr(globals.currFlasher___38071);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = s.tmp_0;
    { step = 10; continue; }
  case 9:
    r0 = globals.currFlasher___38071.fields["dev_class"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 != s.familyID___38088);
  case 10:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_pxtcore.throwValue("invalid UF2");
  case 11:
  case 12:
    s.tmp_4 = jdflash_FlashClient_addChunk__P34269_mk(s);
    s.tmp_4.arg0 = globals.currFlasher___38071;
    s.tmp_4.arg1 = s.trgaddr___38084;
    r0 = pxsim.BufferMethods.slice(s.arg0, 32, s.payloadSize___38085);
    s.tmp_4.arg2 = r0;
    s.callLocIdx = 305; s.pc = 23; return s.tmp_4;
  case 23:
    r0 = s.retval;
    s.tmp_1 = r0 = s.blkNo___38086;
    r0 = (s.numBlocks___38087 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tmp_3 = jdflash_FlashClient_endFlash__P34267_mk(s);
    s.tmp_3.arg0 = globals.currFlasher___38071;
    s.callLocIdx = 306; s.pc = 24; return s.tmp_3;
  case 24:
    r0 = s.retval;
    globals.currFlasher___38071 = (null);
  case 13:
  case 14:
  case 15:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_handleUF2Block__P34271.info = {"start":9318,"length":1050,"line":274,"column":4,"endLine":300,"endColumn":5,"fileName":"jdflash.ts","functionName":"handleUF2Block","argumentNames":["blk"]}

function jdflash_handleUF2Block__P34271_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_handleUF2Block__P34271, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  hh___38073: undefined,
  _magic0___38081: undefined,
  _magic1___38082: undefined,
  _flags___38083: undefined,
  trgaddr___38084: undefined,
  payloadSize___38085: undefined,
  blkNo___38086: undefined,
  numBlocks___38087: undefined,
  familyID___38088: undefined,
  arg0: undefined,
} }





function jdflash_FlashClient_addChunk__P34269(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.off___37873 = undefined;
    s.page___37883 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jdflash_FlashClient__C34262_VT)) failedCast(r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P37868);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = pauseUntil__P29783_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 5000;
    s.callLocIdx = 273; s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
    s.tmp_3 = jdflash_FlashClient_everyoneConnected__P34268_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 274; s.pc = 16; return s.tmp_3;
  case 16:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.throwValue("Can't connect");
  case 1:
  case 2:
    s.tmp_4 = r0 = s.arg1;
    r0 = s.arg0.fields["pageSize"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 - 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 & s.tmp_5);
    s.off___37873 = (r0);
    r0 = s.arg0.fields["offset"];
    s.tmp_1 = r0;
    r0 = (s.off___37873 != s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.throwValue("misaligned");
  case 3:
  case 4:
    r0 = (s.arg1 - s.off___37873);
    s.page___37883 = (r0);
    r0 = s.arg0.fields["pageAddr"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    r0 = s.arg0.fields["pageAddr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 != s.page___37883);
  case 6:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.throwValue("page not done");
  case 7:
  case 8:
    r0 = (s.arg0).fields["pageAddr"] = (s.page___37883);
    r0 = (s.off___37873 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = s.arg0.fields["pageBuffer"];
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 9; continue; }
    r0 = s.arg0.fields["pageBuffer"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.fill(s.tmp_2, 0, 0, -1);
    { step = 10; continue; }
  case 9:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["pageSize"];
    s.tmp_2 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["pageBuffer"] = (s.tmp_1);
  case 10:
  case 11:
  case 12:
    r0 = s.arg0.fields["pageBuffer"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_0, s.off___37873, s.arg2);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = r0 = s.off___37873;
    r0 = pxsim.BufferMethods.length(s.arg2);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["offset"] = (s.tmp_1);
    r0 = s.arg0.fields["offset"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["pageSize"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tmp_3 = jdflash_FlashClient_flush__P37473_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 275; s.pc = 17; return s.tmp_3;
  case 17:
    r0 = s.retval;
  case 13:
  case 14:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_FlashClient_addChunk__P34269.info = {"start":6317,"length":859,"line":183,"column":8,"endLine":205,"endColumn":9,"fileName":"jdflash.ts","functionName":"addChunk","argumentNames":["this","addr","data"]}

function jdflash_FlashClient_addChunk__P34269_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_FlashClient_addChunk__P34269, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  off___37873: undefined,
  page___37883: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P37868(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jdflash_FlashClient_everyoneConnected__P34268_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 272; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P37868.info = {"start":6379,"length":30,"line":184,"column":23,"endLine":184,"endColumn":53,"fileName":"jdflash.ts","functionName":"inline","argumentNames":[]}

function inline__P37868_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37868, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jdflash_FlashClient_flush__P37473(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pageSize___37676 = undefined;
    s.pageAddr___37679 = undefined;
    s.numSubpage___37683 = undefined;
    s.f___37702 = undefined;
    s.unnamed600___U4 = undefined;
    s.unnamed601___U5 = undefined;
    s.i___37709 = undefined;
    s.currSubpage___37714 = undefined;
    s.suboff___37715 = undefined;
    s.sz___37720 = undefined;
    s.hd___37731 = undefined;
    s.p___37750 = undefined;
    s.f___37773 = undefined;
    s.unnamed602___U13 = undefined;
    s.unnamed603___U14 = undefined;
    s.f___37791 = undefined;
    s.unnamed604___U16 = undefined;
    s.unnamed605___U17 = undefined;
    s.err___37796 = undefined;
    s.sess___37805 = undefined;
    s.berr___37806 = undefined;
    s.pageAddr___37807 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jdflash_FlashClient__C34262_VT)) failedCast(r0);
    r0 = s.arg0.fields["pageSize"];
    s.pageSize___37676 = (r0);
    r0 = s.arg0.fields["pageAddr"];
    s.pageAddr___37679 = (r0);
    r0 = (s.pageSize___37676 + 208);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 / 208);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 | 0);
    s.numSubpage___37683 = (r0);
    r0 = (s.arg0).fields["offset"] = (0);
    s.tmp_0 = jdflash_log__P37465_mk(s);
    r0 = (s.pageAddr___37679 & 16777215);
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 35);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 35:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("flash at ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 256; s.pc = 34; return s.tmp_0;
  case 34:
    r0 = s.retval;
    s.f___37702 = (undefined);
    r0 = s.arg0.fields["classClients"];
    s.unnamed600___U4 = (r0);
    s.unnamed601___U5 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed601___U5;
    r0 = pxsim_Array__length(s.unnamed600___U4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed600___U4, s.unnamed601___U5);
    s.f___37702 = (r0);
    r0 = (s.f___37702).fields["lastStatus"] = (null);
    r0 = (s.unnamed601___U5 + 1);
    s.unnamed601___U5 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed600___U4 = (undefined);
    s.tmp_0 = jdflash_FlashClient_allPending__P37470_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 257; s.pc = 36; return s.tmp_0;
  case 36:
    r0 = s.retval;
    s.i___37709 = (0);
  case 3:
    r0 = (s.i___37709 < 3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 32; continue; }
    s.currSubpage___37714 = (0);
    s.suboff___37715 = (0);
  case 4:
    r0 = (s.suboff___37715 < s.pageSize___37676);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    s.sz___37720 = (208);
    r0 = (s.suboff___37715 + s.sz___37720);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > s.pageSize___37676);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = (s.pageSize___37676 - s.suboff___37715);
    s.sz___37720 = (r0);
  case 5:
  case 6:
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.pageAddr___37679);
    r0 = pxsim_Array__push(s.tmp_0, s.suboff___37715);
    s.tmp_1 = r0 = s.currSubpage___37714;
    r0 = (s.tmp_1 + 1);
    s.currSubpage___37714 = (r0);
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = (s.numSubpage___37683 - 1);
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    r0 = s.arg0.fields["sessionId"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_3);
    r0 = pxsim_Array__push(s.tmp_0, 0);
    r0 = pxsim_Array__push(s.tmp_0, 0);
    r0 = pxsim_Array__push(s.tmp_0, 0);
    r0 = pxsim_Array__push(s.tmp_0, 0);
    s.tmp_4 = Buffer_pack__P29629_mk(s);
    s.tmp_4.arg0 = "IHBB5I";
    s.tmp_4.arg1 = s.tmp_0;
    s.callLocIdx = 258; s.pc = 37; return s.tmp_4;
  case 37:
    r0 = s.retval;
    s.hd___37731 = (r0);
    s.tmp_0 = control_assert__P29749_mk(s);
    r0 = pxsim.BufferMethods.length(s.hd___37731);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 28);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 11;
    s.callLocIdx = 259; s.pc = 38; return s.tmp_0;
  case 38:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_0.arg0 = 128;
    s.tmp_1 = helpers_bufferConcat__P29606_mk(s);
    s.tmp_1.arg0 = s.hd___37731;
    r0 = s.arg0.fields["pageBuffer"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_2, s.suboff___37715, s.sz___37720);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 260; s.pc = 40; return s.tmp_1;
  case 40:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 261; s.pc = 39; return s.tmp_0;
  case 39:
    r0 = s.retval;
    s.p___37750 = (r0);
    r0 = (s.i___37709 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 7:
    r0 = (s.currSubpage___37714 < s.numSubpage___37683);
  case 8:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 9; continue; }
    s.tmp_2 = jacdac_JDPacket_sendAsMultiCommand__P33635_mk(s);
    s.tmp_2.arg0 = s.p___37750;
    s.tmp_2.arg1 = 536516936;
    s.callLocIdx = 262; s.pc = 41; return s.tmp_2;
  case 41:
    r0 = s.retval;
    { step = 14; continue; }
  case 9:
    s.f___37773 = (undefined);
    r0 = s.arg0.fields["classClients"];
    s.unnamed602___U13 = (r0);
    s.unnamed603___U14 = (0);
  case 10:
    s.tmp_0 = r0 = s.unnamed603___U14;
    r0 = pxsim_Array__length(s.unnamed602___U13);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 13; continue; }
    r0 = pxsim_Array__getAt(s.unnamed602___U13, s.unnamed603___U14);
    s.f___37773 = (r0);
    r0 = s.f___37773.fields["pending"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 11; continue; }
    r0 = (s.f___37773).fields["lastStatus"] = (null);
    s.tmp_0 = jacdac_Client_sendCommand__P33546_mk(s);
    s.tmp_0.arg0 = s.f___37773;
    s.tmp_0.arg1 = s.p___37750;
    s.callLocIdx = 263; s.pc = 42; return s.tmp_0;
  case 42:
    r0 = s.retval;
  case 11:
  case 12:
    r0 = (s.unnamed603___U14 + 1);
    s.unnamed603___U14 = (r0);
    { step = 10; continue; }
  case 13:
    s.unnamed602___U13 = (undefined);
  case 14:
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 5;
    s.callLocIdx = 264; s.pc = 43; return s.tmp_0;
  case 43:
    r0 = s.retval;
    r0 = (s.suboff___37715 + 208);
    s.suboff___37715 = (r0);
    { step = 4; continue; }
  case 15:
    s.tmp_0 = jdflash_FlashClient_waitForStatus__P37472_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 265; s.pc = 44; return s.tmp_0;
  case 44:
    r0 = s.retval;
    s.f___37791 = (undefined);
    r0 = s.arg0.fields["classClients"];
    s.unnamed604___U16 = (r0);
    s.unnamed605___U17 = (0);
  case 16:
    s.tmp_0 = r0 = s.unnamed605___U17;
    r0 = pxsim_Array__length(s.unnamed604___U16);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 29; continue; }
    r0 = pxsim_Array__getAt(s.unnamed604___U16, s.unnamed605___U17);
    s.f___37791 = (r0);
    r0 = s.f___37791.fields["pending"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 27; continue; }
    r0 = pxsim_String_.mkEmpty();
    s.err___37796 = (r0);
    r0 = s.f___37791.fields["lastStatus"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 23; continue; }
    s.tmp_2 = helpers_bufferUnpack__P29609_mk(s);
    r0 = s.f___37791.fields["lastStatus"];
    s.tmp_3 = r0;
    r0 = s.tmp_3.fields["_data"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = "III";
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 267; s.pc = 45; return s.tmp_2;
  case 45:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, 0);
    s.sess___37805 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_1, 1);
    s.berr___37806 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_1, 2);
    s.pageAddr___37807 = (r0);
    r0 = s.arg0.fields["sessionId"];
    s.tmp_1 = r0;
    r0 = (s.sess___37805 != s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 17; continue; }
    s.err___37796 = ("invalid session_id");
    { step = 22; continue; }
  case 17:
    r0 = s.arg0.fields["pageAddr"];
    s.tmp_1 = r0;
    r0 = (s.pageAddr___37807 != s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 18; continue; }
    s.err___37796 = ("invalid page address");
    { step = 21; continue; }
  case 18:
    r0 = pxsim_numops_toBoolDecr(s.berr___37806);
    if (!r0) { step = 19; continue; }
    if ((s.berr___37806) && (s.berr___37806).vtable) {
    setupResume(s, 46);
    pxsim_String__stringConv(s.berr___37806);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.berr___37806) + ""; }
  case 46:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat("err:", s.tmp_0);
    s.err___37796 = (r0);
  case 19:
  case 20:
  case 21:
  case 22:
    { step = 24; continue; }
  case 23:
    s.err___37796 = ("timeout");
  case 24:
    r0 = pxsim_numops_toBoolDecr(s.err___37796);
    if (!r0) { step = 25; continue; }
    r0 = (s.f___37791).fields["lastStatus"] = (null);
    s.tmp_0 = jdflash_log__P37465_mk(s);
    r0 = s.f___37791.fields["device"];
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 48);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 48:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("retry ", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ": ");
    s.tmp_1 = r0;
    if ((s.err___37796) && (s.err___37796).vtable) {
    setupResume(s, 49);
    pxsim_String__stringConv(s.err___37796);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.err___37796) + ""; }
  case 49:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_5);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 268; s.pc = 47; return s.tmp_0;
  case 47:
    r0 = s.retval;
    { step = 26; continue; }
  case 25:
    r0 = (s.f___37791).fields["pending"] = (false);
  case 26:
  case 27:
  case 28:
    r0 = (s.unnamed605___U17 + 1);
    s.unnamed605___U17 = (r0);
    { step = 16; continue; }
  case 29:
    s.unnamed604___U16 = (undefined);
    s.tmp_2 = jdflash_FlashClient_numPending__P37471_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 269; s.pc = 50; return s.tmp_2;
  case 50:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 30; continue; }
    r0 = (s.arg0).fields["pageAddr"] = (null);
    { step = 33; continue; }
  case 30:
  case 31:
    r0 = (s.i___37709 + 1);
    s.i___37709 = (r0);
    { step = 3; continue; }
  case 32:
    r0 = pxsim_pxtcore.throwValue("too many retries");
  case 33:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_FlashClient_flush__P37473.info = {"start":3371,"length":2829,"line":108,"column":8,"endLine":177,"endColumn":9,"fileName":"jdflash.ts","functionName":"flush","argumentNames":["this"]}

function jdflash_FlashClient_flush__P37473_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_FlashClient_flush__P37473, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  pageSize___37676: undefined,
  pageAddr___37679: undefined,
  numSubpage___37683: undefined,
  f___37702: undefined,
  unnamed600___U4: undefined,
  unnamed601___U5: undefined,
  i___37709: undefined,
  currSubpage___37714: undefined,
  suboff___37715: undefined,
  sz___37720: undefined,
  hd___37731: undefined,
  p___37750: undefined,
  f___37773: undefined,
  unnamed602___U13: undefined,
  unnamed603___U14: undefined,
  f___37791: undefined,
  unnamed604___U16: undefined,
  unnamed605___U17: undefined,
  err___37796: undefined,
  sess___37805: undefined,
  berr___37806: undefined,
  pageAddr___37807: undefined,
  arg0: undefined,
} }





function jdflash_FlashClient_numPending__P37471(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.num___37647 = undefined;
    s.c___37649 = undefined;
    s.unnamed598___U2 = undefined;
    s.unnamed599___U3 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jdflash_FlashClient__C34262_VT)) failedCast(r0);
    s.num___37647 = (0);
    s.c___37649 = (undefined);
    r0 = s.arg0.fields["classClients"];
    s.unnamed598___U2 = (r0);
    s.unnamed599___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed599___U3;
    r0 = pxsim_Array__length(s.unnamed598___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed598___U2, s.unnamed599___U3);
    s.c___37649 = (r0);
    r0 = s.c___37649.fields["pending"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = (s.num___37647 + 1);
    s.num___37647 = (r0);
  case 2:
  case 3:
    r0 = (s.unnamed599___U3 + 1);
    s.unnamed599___U3 = (r0);
    { step = 1; continue; }
  case 4:
    s.unnamed598___U2 = (undefined);
    r0 = s.num___37647;
    return leave(s, r0)
  default: oops()
} } }
jdflash_FlashClient_numPending__P37471.info = {"start":2974,"length":161,"line":93,"column":8,"endLine":98,"endColumn":9,"fileName":"jdflash.ts","functionName":"numPending","argumentNames":["this"]}

function jdflash_FlashClient_numPending__P37471_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_FlashClient_numPending__P37471, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  num___37647: undefined,
  c___37649: undefined,
  unnamed598___U2: undefined,
  unnamed599___U3: undefined,
  arg0: undefined,
} }





function jdflash_FlashClient_waitForStatus__P37472(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___37658 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jdflash_FlashClient__C34262_VT)) failedCast(r0);
    s.i___37658 = (0);
  case 1:
    r0 = (s.i___37658 < 100);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_2 = helpers_arrayEvery__P29533_mk(s);
    r0 = s.arg0.fields["classClients"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = inline__P37665;
    s.callLocIdx = 254; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 2; continue; }
    { step = 4; continue; }
  case 2:
  case 3:
    s.tmp_3 = pause__P29829_mk(s);
    s.tmp_3.arg0 = 5;
    s.callLocIdx = 255; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    r0 = (s.i___37658 + 1);
    s.i___37658 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_FlashClient_waitForStatus__P37472.info = {"start":3145,"length":216,"line":100,"column":8,"endLine":106,"endColumn":9,"fileName":"jdflash.ts","functionName":"waitForStatus","argumentNames":["this"]}

function jdflash_FlashClient_waitForStatus__P37472_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_FlashClient_waitForStatus__P37472, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  i___37658: undefined,
  arg0: undefined,
} }





function inline__P37665(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["lastStatus"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 != null);
    return leave(s, r0)
  default: oops()
} } }
inline__P37665.info = {"start":3259,"length":25,"line":102,"column":44,"endLine":102,"endColumn":69,"fileName":"jdflash.ts","functionName":"inline","argumentNames":["c"]}

function inline__P37665_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37665, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jdflash_FlashClient_allPending__P37470(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.c___37638 = undefined;
    s.unnamed596___U1 = undefined;
    s.unnamed597___U2 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jdflash_FlashClient__C34262_VT)) failedCast(r0);
    s.c___37638 = (undefined);
    r0 = s.arg0.fields["classClients"];
    s.unnamed596___U1 = (r0);
    s.unnamed597___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed597___U2;
    r0 = pxsim_Array__length(s.unnamed596___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed596___U1, s.unnamed597___U2);
    s.c___37638 = (r0);
    r0 = (s.c___37638).fields["pending"] = (true);
    r0 = (s.c___37638).fields["lastStatus"] = (null);
    r0 = (s.unnamed597___U2 + 1);
    s.unnamed597___U2 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed596___U1 = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_FlashClient_allPending__P37470.info = {"start":2802,"length":162,"line":86,"column":8,"endLine":91,"endColumn":9,"fileName":"jdflash.ts","functionName":"allPending","argumentNames":["this"]}

function jdflash_FlashClient_allPending__P37470_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_FlashClient_allPending__P37470, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  c___37638: undefined,
  unnamed596___U1: undefined,
  unnamed597___U2: undefined,
  arg0: undefined,
} }





function jdflash_FlashClient_everyoneConnected__P34268(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jdflash_FlashClient__C34262_VT)) failedCast(r0);
    s.tmp_2 = helpers_arrayFind__P29536_mk(s);
    r0 = s.arg0.fields["classClients"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = inline__P37855;
    s.callLocIdx = 271; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
jdflash_FlashClient_everyoneConnected__P34268.info = {"start":6210,"length":97,"line":179,"column":8,"endLine":181,"endColumn":9,"fileName":"jdflash.ts","functionName":"everyoneConnected","argumentNames":["this"]}

function jdflash_FlashClient_everyoneConnected__P34268_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_FlashClient_everyoneConnected__P34268, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P37855(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["device"];
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
inline__P37855.info = {"start":6275,"length":21,"line":180,"column":43,"endLine":180,"endColumn":64,"fileName":"jdflash.ts","functionName":"inline","argumentNames":["f"]}

function inline__P37855_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37855, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function jdflash_FlashClient_startFlash__P34266(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.d___37517 = undefined;
    s.unnamed590___U1 = undefined;
    s.unnamed591___U2 = undefined;
    s.setsession___37558 = undefined;
    s.i___37566 = undefined;
    s.d___37572 = undefined;
    s.unnamed592___U6 = undefined;
    s.unnamed593___U7 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jdflash_FlashClient__C34262_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.Math_.randomRange(0, 268435456);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["sessionId"] = (s.tmp_1);
    s.d___37517 = (undefined);
    r0 = s.arg0.fields["classClients"];
    s.unnamed590___U1 = (r0);
    s.unnamed591___U2 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed591___U2;
    r0 = pxsim_Array__length(s.unnamed590___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed590___U1, s.unnamed591___U2);
    s.d___37517 = (r0);
    s.tmp_2 = jacdac_Client_start__P33551_mk(s);
    s.tmp_2.arg0 = s.d___37517;
    s.callLocIdx = 235; s.pc = 17; return s.tmp_2;
  case 17:
    r0 = s.retval;
    s.tmp_0 = jdflash_log__P37465_mk(s);
    r0 = s.d___37517.fields["requiredDeviceName"];
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 19);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 19:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat("flashing ", s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_5, "; available flash=");
    s.tmp_4 = r0;
    r0 = s.d___37517.fields["flashSize"];
    s.tmp_10 = r0;
    r0 = (s.tmp_10 / 1024);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 20);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 20:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_8);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "kb; page=");
    s.tmp_2 = r0;
    r0 = s.d___37517.fields["pageSize"];
    s.tmp_12 = r0;
    if ((s.tmp_12) && (s.tmp_12).vtable) {
    setupResume(s, 21);
    pxsim_String__stringConv(s.tmp_12);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_12) + ""; }
  case 21:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_11);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "b");
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 236; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    r0 = (s.unnamed591___U2 + 1);
    s.unnamed591___U2 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed590___U1 = (undefined);
    r0 = (s.arg0).fields["offset"] = (0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P37549);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = pauseUntil__P29783_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = undefined;
    s.callLocIdx = 239; s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
    s.tmp_0 = jdflash_log__P37465_mk(s);
    s.tmp_0.arg0 = "all connected";
    s.callLocIdx = 240; s.pc = 23; return s.tmp_0;
  case 23:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = s.arg0.fields["sessionId"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_2 = jacdac_JDPacket_packed__P33607_mk(s);
    s.tmp_2.arg0 = 129;
    s.tmp_2.arg1 = "I";
    s.tmp_2.arg2 = s.tmp_0;
    s.callLocIdx = 241; s.pc = 24; return s.tmp_2;
  case 24:
    r0 = s.retval;
    s.setsession___37558 = (r0);
    s.tmp_0 = jdflash_FlashClient_allPending__P37470_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 242; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    s.i___37566 = (0);
  case 3:
    r0 = (s.i___37566 < 3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.d___37572 = (undefined);
    r0 = s.arg0.fields["classClients"];
    s.unnamed592___U6 = (r0);
    s.unnamed593___U7 = (0);
  case 4:
    s.tmp_0 = r0 = s.unnamed593___U7;
    r0 = pxsim_Array__length(s.unnamed592___U6);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 11; continue; }
    r0 = pxsim_Array__getAt(s.unnamed592___U6, s.unnamed593___U7);
    s.d___37572 = (r0);
    r0 = s.d___37572.fields["pending"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 9; continue; }
    r0 = s.d___37572.fields["lastStatus"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_3;
    { step = 6; continue; }
  case 5:
    r0 = s.d___37572.fields["lastStatus"];
    s.tmp_5 = r0;
    r0 = s.tmp_5.fields["_data"];
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_6, 11, 0);
    s.tmp_4 = r0;
    r0 = s.arg0.fields["sessionId"];
    s.tmp_7 = r0;
    r0 = (s.tmp_4 == s.tmp_7);
  case 6:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 7; continue; }
    r0 = (s.d___37572).fields["pending"] = (false);
    { step = 8; continue; }
  case 7:
    r0 = (s.d___37572).fields["lastStatus"] = (null);
    s.tmp_0 = jdflash_log__P37465_mk(s);
    r0 = s.d___37572.fields["device"];
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 27);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 27:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("set session on ", s.tmp_1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 244; s.pc = 26; return s.tmp_0;
  case 26:
    r0 = s.retval;
    s.tmp_0 = jacdac_Client_sendCommand__P33546_mk(s);
    s.tmp_0.arg0 = s.d___37572;
    s.tmp_0.arg1 = s.setsession___37558;
    s.callLocIdx = 245; s.pc = 28; return s.tmp_0;
  case 28:
    r0 = s.retval;
  case 8:
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 5;
    s.callLocIdx = 246; s.pc = 29; return s.tmp_0;
  case 29:
    r0 = s.retval;
  case 9:
  case 10:
    r0 = (s.unnamed593___U7 + 1);
    s.unnamed593___U7 = (r0);
    { step = 4; continue; }
  case 11:
    s.unnamed592___U6 = (undefined);
    s.tmp_2 = jdflash_FlashClient_numPending__P37471_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 247; s.pc = 30; return s.tmp_2;
  case 30:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    { step = 14; continue; }
  case 12:
  case 13:
    s.tmp_3 = jdflash_FlashClient_waitForStatus__P37472_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 248; s.pc = 31; return s.tmp_3;
  case 31:
    r0 = s.retval;
    r0 = (s.i___37566 + 1);
    s.i___37566 = (r0);
    { step = 3; continue; }
  case 14:
    s.tmp_1 = jdflash_FlashClient_numPending__P37471_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 249; s.pc = 32; return s.tmp_1;
  case 32:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = pxsim_pxtcore.throwValue("Can't set session id");
  case 15:
  case 16:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_FlashClient_startFlash__P34266.info = {"start":1128,"length":1355,"line":39,"column":8,"endLine":74,"endColumn":9,"fileName":"jdflash.ts","functionName":"startFlash","argumentNames":["this"]}

function jdflash_FlashClient_startFlash__P34266_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_FlashClient_startFlash__P34266, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  d___37517: undefined,
  unnamed590___U1: undefined,
  unnamed591___U2: undefined,
  setsession___37558: undefined,
  i___37566: undefined,
  d___37572: undefined,
  unnamed592___U6: undefined,
  unnamed593___U7: undefined,
  arg0: undefined,
} }





function inline__P37549(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = helpers_arrayEvery__P29533_mk(s);
    r0 = s.caps[0].fields["classClients"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = inline__P37553;
    s.callLocIdx = 238; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P37549.info = {"start":1461,"length":51,"line":47,"column":23,"endLine":47,"endColumn":74,"fileName":"jdflash.ts","functionName":"inline","argumentNames":[]}

function inline__P37549_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37549, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P37553(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["device"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
inline__P37553.info = {"start":1491,"length":20,"line":47,"column":53,"endLine":47,"endColumn":73,"fileName":"jdflash.ts","functionName":"inline","argumentNames":["c"]}

function inline__P37553_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37553, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_getNumber__P33627(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_data"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, s.arg1, s.arg2);
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_getNumber__P33627.info = {"start":4844,"length":109,"line":151,"column":8,"endLine":153,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"getNumber","argumentNames":["this","fmt","offset"]}

function jacdac_JDPacket_getNumber__P33627_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_getNumber__P33627, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jdflash_log__P37465(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_log__P29796_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 229; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_log__P37465.info = {"start":155,"length":58,"line":9,"column":4,"endLine":11,"endColumn":5,"fileName":"jdflash.ts","functionName":"log","argumentNames":["msg"]}

function jdflash_log__P37465_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_log__P37465, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jdflash_FlashClient_forDeviceClass__P34270(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.all___37939 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals.flashers___37936);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = jdflash_makeBootloaderList__P37938_mk(s);
    s.callLocIdx = 276; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkAction(1, inline__P37941);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_1.arg0 = globals.flashers___37936;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 277; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.all___37939 = (r0);
    r0 = pxsim_Array__length(s.all___37939);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array__getAt(s.all___37939, 0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2).fields["classClients"] = (s.all___37939);
  case 3:
  case 4:
    r0 = pxsim_Array__getAt(s.all___37939, 0);
    return leave(s, r0)
  default: oops()
} } }
jdflash_FlashClient_forDeviceClass__P34270.info = {"start":7186,"length":294,"line":207,"column":8,"endLine":214,"endColumn":9,"fileName":"jdflash.ts","functionName":"forDeviceClass","argumentNames":["dev_class"]}

function jdflash_FlashClient_forDeviceClass__P34270_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_FlashClient_forDeviceClass__P34270, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  all___37939: undefined,
  arg0: undefined,
} }





function inline__P37941(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["dev_class"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P37941.info = {"start":7340,"length":29,"line":210,"column":40,"endLine":210,"endColumn":69,"fileName":"jdflash.ts","functionName":"inline","argumentNames":["f"]}

function inline__P37941_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37941, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jdflash_makeBootloaderList__P37938(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.rst___37997 = undefined;
    s.f___38012 = undefined;
    s.unnamed606___U2 = undefined;
    s.unnamed607___U3 = undefined;
    s.bl_announce___38018 = undefined;
    s.i___38022 = undefined;
    s.i___38037 = undefined;
    s.tmp_0 = jdflash_log__P37465_mk(s);
    s.tmp_0.arg0 = "resetting all devices";
    s.callLocIdx = 285; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_onlyHeader__P33606_mk(s);
    s.tmp_0.arg0 = 130;
    s.callLocIdx = 286; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    s.rst___37997 = (r0);
    s.tmp_0 = jacdac_JDPacket_sendAsMultiCommand__P33635_mk(s);
    s.tmp_0.arg0 = s.rst___37997;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 287; s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
    s.tmp_0 = jdflash_log__P37465_mk(s);
    s.tmp_0.arg0 = "asking for bootloaders";
    s.callLocIdx = 288; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(globals.flashers___37936);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals.flashers___37936 = (r0);
    s.tmp_0 = jacdac_onRawPacket__P33577_mk(s);
    s.tmp_0.arg0 = jdflash_onPacket__P37957;
    s.callLocIdx = 289; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    { step = 4; continue; }
  case 1:
    s.f___38012 = (undefined);
    s.unnamed606___U2 = (globals.flashers___37936);
    s.unnamed607___U3 = (0);
  case 2:
    s.tmp_0 = r0 = s.unnamed607___U3;
    r0 = pxsim_Array__length(s.unnamed606___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array__getAt(s.unnamed606___U2, s.unnamed607___U3);
    s.f___38012 = (r0);
    s.tmp_2 = jacdac_Client_destroy__P33552_mk(s);
    s.tmp_2.arg0 = s.f___38012;
    s.callLocIdx = 290; s.pc = 20; return s.tmp_2;
  case 20:
    r0 = s.retval;
    r0 = (s.unnamed607___U3 + 1);
    s.unnamed607___U3 = (r0);
    { step = 2; continue; }
  case 3:
    s.unnamed606___U2 = (undefined);
    r0 = pxsim_Array__mk();
    globals.flashers___37936 = (r0);
  case 4:
    s.tmp_0 = jacdac_JDPacket_onlyHeader__P33606_mk(s);
    s.tmp_0.arg0 = 0;
    s.callLocIdx = 291; s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    s.bl_announce___38018 = (r0);
    s.i___38022 = (0);
  case 5:
    r0 = (s.i___38022 < 10);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = jacdac_JDPacket_sendAsMultiCommand__P33635_mk(s);
    s.tmp_1.arg0 = s.bl_announce___38018;
    s.tmp_1.arg1 = 536516936;
    s.callLocIdx = 292; s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 100;
    s.callLocIdx = 293; s.pc = 23; return s.tmp_0;
  case 23:
    r0 = s.retval;
    r0 = (s.i___38022 + 1);
    s.i___38022 = (r0);
    { step = 5; continue; }
  case 6:
    r0 = pxsim_Array__length(globals.flashers___37936);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.tmp_2 = jdflash_log__P37465_mk(s);
    s.tmp_2.arg0 = "no bootloaders reported; trying for another 10s";
    s.callLocIdx = 294; s.pc = 24; return s.tmp_2;
  case 24:
    r0 = s.retval;
    s.i___38037 = (0);
  case 7:
    r0 = (s.i___38037 < 100);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    s.tmp_1 = jacdac_JDPacket_sendAsMultiCommand__P33635_mk(s);
    s.tmp_1.arg0 = s.bl_announce___38018;
    s.tmp_1.arg1 = 536516936;
    s.callLocIdx = 295; s.pc = 25; return s.tmp_1;
  case 25:
    r0 = s.retval;
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 100;
    s.callLocIdx = 296; s.pc = 26; return s.tmp_0;
  case 26:
    r0 = s.retval;
    r0 = pxsim_Array__length(globals.flashers___37936);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    { step = 10; continue; }
  case 8:
  case 9:
    r0 = (s.i___38037 + 1);
    s.i___38037 = (r0);
    { step = 7; continue; }
  case 10:
  case 11:
  case 12:
    r0 = pxsim_Array__length(globals.flashers___37936);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    r0 = pxsim_pxtcore.throwValue("no devices to flash");
  case 13:
  case 14:
    s.tmp_2 = jdflash_log__P37465_mk(s);
    r0 = pxsim_String_.mkEmpty();
    s.tmp_5 = r0;
    r0 = pxsim_Array__length(globals.flashers___37936);
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 28);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 28:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_6);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, " bootloader(s) found; [0]:");
    s.tmp_3 = r0;
    s.tmp_10 = hexNum__P34256_mk(s);
    r0 = pxsim_Array__getAt(globals.flashers___37936, 0);
    r0 = r0.fields["dev_class"];
    s.tmp_10.arg0 = r0;
    s.callLocIdx = 297; s.pc = 29; return s.tmp_10;
  case 29:
    r0 = s.retval;
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 30);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 30:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_8);
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 298; s.pc = 27; return s.tmp_2;
  case 27:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_makeBootloaderList__P37938.info = {"start":7939,"length":1309,"line":229,"column":4,"endLine":269,"endColumn":5,"fileName":"jdflash.ts","functionName":"makeBootloaderList","argumentNames":[]}

function jdflash_makeBootloaderList__P37938_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_makeBootloaderList__P37938, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  rst___37997: undefined,
  f___38012: undefined,
  unnamed606___U2: undefined,
  unnamed607___U3: undefined,
  bl_announce___38018: undefined,
  i___38022: undefined,
  i___38037: undefined,
} }





function jdflash_onPacket__P37957(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_3 = jacdac_JDPacket_is_command__P33629_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 278; s.pc = 11; return s.tmp_3;
  case 11:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["_header"];
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_6, 13);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 & 63);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == 1);
  case 2:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBool(s.tmp_7);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_7;
    { step = 4; continue; }
  case 3:
    r0 = s.arg0.fields["_header"];
    s.tmp_9 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_9, 4, 14);
    s.tmp_8 = r0;
    r0 = (s.tmp_8 == 0);
  case 4:
    // jmp value (already in r0)
    s.tmp_10 = r0;
    r0 = pxsim_numops_toBool(s.tmp_10);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_10;
    { step = 6; continue; }
  case 5:
    r0 = s.arg0.fields["_data"];
    s.tmp_12 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_12, 11, 0);
    s.tmp_11 = r0;
    r0 = (s.tmp_11 == 536516936);
  case 6:
    // jmp value (already in r0)
    s.tmp_13 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_13);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P37981);
    s.tmp_14 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_14, 0, s.arg0);
    s.tmp_18 = helpers_arrayFind__P29536_mk(s);
    s.tmp_18.arg0 = globals.flashers___37936;
    s.tmp_18.arg1 = s.tmp_14;
    s.callLocIdx = 283; s.pc = 12; return s.tmp_18;
  case 12:
    r0 = s.retval;
    s.tmp_17 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_17);
    s.tmp_16 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_16);
    s.tmp_15 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_15);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(jdflash_FlashClient__C34262_VT);
    s.tmp_19 = r0;
    s.tmp_20 = jdflash_FlashClient_constructor__P34264_mk(s);
    s.tmp_20.arg0 = s.tmp_19;
    s.tmp_20.arg1 = s.arg0;
    s.callLocIdx = 284; s.pc = 13; return s.tmp_20;
  case 13:
    r0 = s.retval;
    r0 = pxsim_Array__push(globals.flashers___37936, s.tmp_19);
  case 7:
  case 8:
  case 9:
  case 10:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_onPacket__P37957.info = {"start":7524,"length":409,"line":218,"column":4,"endLine":227,"endColumn":5,"fileName":"jdflash.ts","functionName":"onPacket","argumentNames":["p"]}

function jdflash_onPacket__P37957_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_onPacket__P37957, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  tmp_19: undefined,
  tmp_20: undefined,
  arg0: undefined,
} }





function inline__P37981(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["requiredDeviceName"];
    s.tmp_0 = r0;
    r0 = s.caps[0].fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_3, 4, 8);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 == s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P37981.info = {"start":7817,"length":48,"line":224,"column":31,"endLine":224,"endColumn":79,"fileName":"jdflash.ts","functionName":"inline","argumentNames":["f"]}

function inline__P37981_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P37981, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jdflash_FlashClient_constructor__P34264(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.d___37478 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jdflash_FlashClient__C34262_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_constructor__P33538_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "jdbl";
    s.tmp_0.arg2 = 536516936;
    s.tmp_0.arg3 = ".bootloader";
    s.callLocIdx = 230; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = helpers_bufferToArray__P29612_mk(s);
    r0 = s.arg1.fields["_data"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 11;
    s.callLocIdx = 232; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.d___37478 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__getAt(s.d___37478, 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["pageSize"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__getAt(s.d___37478, 2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["flashSize"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__getAt(s.d___37478, 3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["dev_class"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg1.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_3, 4, 8);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["requiredDeviceName"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_FlashClient_constructor__P34264.info = {"start":631,"length":336,"line":25,"column":8,"endLine":32,"endColumn":9,"fileName":"jdflash.ts","functionName":"inline","argumentNames":["this","adpkt"]}

function jdflash_FlashClient_constructor__P34264_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_FlashClient_constructor__P34264, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  d___37478: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_onRawPacket__P33577(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals.pktCallbacks___36412);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals.pktCallbacks___36412 = (r0);
  case 1:
  case 2:
    r0 = pxsim_Array__push(globals.pktCallbacks___36412, s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_onRawPacket__P33577.info = {"start":17101,"length":139,"line":551,"column":4,"endLine":554,"endColumn":5,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"onRawPacket","argumentNames":["cb"]}

function jacdac_onRawPacket__P33577_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_onRawPacket__P33577, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jdflash_FlashClient_endFlash__P34267(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.rst___37625 = undefined;
    s.f___37630 = undefined;
    s.unnamed594___U2 = undefined;
    s.unnamed595___U3 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jdflash_FlashClient__C34262_VT)) failedCast(r0);
    r0 = s.arg0.fields["offset"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = jdflash_FlashClient_flush__P37473_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 250; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    s.tmp_0 = jdflash_log__P37465_mk(s);
    r0 = s.arg0.fields["device"];
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("done flashing ", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "; resetting");
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 251; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = jacdac_JDPacket_onlyHeader__P33606_mk(s);
    s.tmp_0.arg0 = 130;
    s.callLocIdx = 252; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.rst___37625 = (r0);
    s.f___37630 = (undefined);
    r0 = s.arg0.fields["classClients"];
    s.unnamed594___U2 = (r0);
    s.unnamed595___U3 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed595___U3;
    r0 = pxsim_Array__length(s.unnamed594___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed594___U2, s.unnamed595___U3);
    s.f___37630 = (r0);
    s.tmp_2 = jacdac_Client_sendCommand__P33546_mk(s);
    s.tmp_2.arg0 = s.f___37630;
    s.tmp_2.arg1 = s.rst___37625;
    s.callLocIdx = 253; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    r0 = (s.unnamed595___U3 + 1);
    s.unnamed595___U3 = (r0);
    { step = 3; continue; }
  case 4:
    s.unnamed594___U2 = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_FlashClient_endFlash__P34267.info = {"start":2493,"length":299,"line":76,"column":8,"endLine":84,"endColumn":9,"fileName":"jdflash.ts","functionName":"endFlash","argumentNames":["this"]}

function jdflash_FlashClient_endFlash__P34267_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_FlashClient_endFlash__P34267, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  rst___37625: undefined,
  f___37630: undefined,
  unnamed594___U2: undefined,
  unnamed595___U3: undefined,
  arg0: undefined,
} }





function helpers_bufferToArray__P29612(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sz___42566 = undefined;
    s.len___42570 = undefined;
    s.r___42575 = undefined;
    s.i___42577 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Buffer_sizeOfNumberFormat__P29631_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 30; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.sz___42566 = (r0);
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.sz___42566);
    s.len___42570 = (r0);
    r0 = pxsim_Array__mk();
    s.r___42575 = (r0);
    s.i___42577 = (0);
  case 1:
    r0 = (s.i___42577 <= s.len___42570);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.r___42575;
    r0 = pxsim.BufferMethods.getNumber(s.arg0, s.arg1, s.i___42577);
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = (s.i___42577 + s.sz___42566);
    s.i___42577 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.r___42575;
    return leave(s, r0)
  default: oops()
} } }
helpers_bufferToArray__P29612.info = {"start":5411,"length":297,"line":186,"column":4,"endLine":193,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"bufferToArray","argumentNames":["buf","format"]}

function helpers_bufferToArray__P29612_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_bufferToArray__P29612, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  sz___42566: undefined,
  len___42570: undefined,
  r___42575: undefined,
  i___42577: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function appuf2_init__P34214(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cppopts___36629 = undefined;
    s.k___36634 = undefined;
    s.unnamed588___U2 = undefined;
    s.unnamed589___U3 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtrt.mkMap();
    s.cppopts___36629 = (r0);
    s.tmp_1 = if_files_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "files");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["files"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["files"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 76; s.pc = 9; return s.tmp_1; }
    }
  case 9:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.k___36634 = (undefined);
    s.tmp_1 = if_files_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "files");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["files"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["files"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 77; s.pc = 10; return s.tmp_1; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.keysOf(s.tmp_0);
    s.unnamed588___U2 = (r0);
    s.unnamed589___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed589___U3;
    r0 = pxsim_Array__length(s.unnamed588___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed588___U2, s.unnamed589___U3);
    s.k___36634 = (r0);
    s.tmp_2 = r0 = s.cppopts___36629;
    s.tmp_3 = r0 = s.k___36634;
    s.tmp_6 = if_files_1_mk(s);
    s.tmp_6.arg0 = s.arg0;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "files");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["files"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["files"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 78; s.pc = 11; return s.tmp_6; }
    }
  case 11:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_5, s.k___36634);
    s.tmp_4 = r0;
    r0 = pxsim_pxtrt.mapSetGeneric(s.tmp_2, s.tmp_3, s.tmp_4);
    r0 = (s.unnamed589___U3 + 1);
    s.unnamed589___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed588___U2 = (undefined);
  case 3:
  case 4:
    s.tmp_1 = if_volumeLabel_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "volumeLabel");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["volumeLabel"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["volumeLabel"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 79; s.pc = 12; return s.tmp_1; }
    }
  case 12:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = r0 = s.cppopts___36629;
    s.tmp_4 = if_volumeLabel_1_mk(s);
    s.tmp_4.arg0 = s.arg0;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "volumeLabel");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["volumeLabel"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["volumeLabel"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 80; s.pc = 13; return s.tmp_4; }
    }
  case 13:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapSetGeneric(s.tmp_2, ".volume", s.tmp_3);
  case 5:
  case 6:
    s.tmp_1 = if_writeHandler_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "writeHandler");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["writeHandler"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["writeHandler"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 81; s.pc = 14; return s.tmp_1; }
    }
  case 14:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_2 = r0 = s.cppopts___36629;
    s.tmp_4 = if_writeHandler_1_mk(s);
    s.tmp_4.arg0 = s.arg0;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "writeHandler");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["writeHandler"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["writeHandler"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 82; s.pc = 15; return s.tmp_4; }
    }
  case 15:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapSetGeneric(s.tmp_2, ".write", s.tmp_3);
  case 7:
  case 8:
    r0 = pxsim_pxtcore.initUserUF2(s.cppopts___36629);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
appuf2_init__P34214.info = {"start":300,"length":400,"line":14,"column":4,"endLine":26,"endColumn":5,"fileName":"appuf2.ts","functionName":"init","argumentNames":["opts"]}

function appuf2_init__P34214_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: appuf2_init__P34214, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  cppopts___36629: undefined,
  k___36634: undefined,
  unnamed588___U2: undefined,
  unnamed589___U3: undefined,
  arg0: undefined,
} }





function jacdac_MusicClient_constructor__P34046(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_MusicClient__C34045_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_constructor__P33538_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "mus";
    s.tmp_0.arg2 = 458731991;
    s.tmp_0.arg3 = s.arg1;
    s.callLocIdx = 1714; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_MusicClient_constructor__P34046.info = {"start":2156,"length":112,"line":62,"column":8,"endLine":64,"endColumn":9,"fileName":"pxt_modules/jacdac-services/musicclient.ts","functionName":"inline","argumentNames":["this","requiredDevice"]}

function jacdac_MusicClient_constructor__P34046_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_MusicClient_constructor__P34046, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_MusicClient_playMelody__P34047(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_MusicClient__C34045_VT)) failedCast(r0);
    r0 = s.arg0.fields["player"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = jacdac_JDMelodyPlayer__C36581_v0_1_mk(s);
    r0 = s.arg0.fields["player"];
    s.tmp_1.arg0 = r0;
    if (!checkSubtype(s.tmp_1.arg0, jacdac_JDMelodyPlayer__C36581_VT)) failedCast(s.tmp_1.arg0);
    s.tmp_1.fn = s.tmp_1.arg0.vtable.methods.stop;
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_JDMelodyPlayer__C36581_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_JDMelodyPlayer_constructor__P36586_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.arg0;
    s.callLocIdx = 1715; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    r0 = (s.arg0).fields["player"] = (s.tmp_0);
    s.tmp_0 = music_MelodyPlayer_play__P31074_mk(s);
    r0 = s.arg0.fields["player"];
    s.tmp_0.arg0 = r0;
    r0 = (s.arg2 << 8);
    s.tmp_1 = r0;
    s.tmp_3 = music_volume__P31054_mk(s);
    s.callLocIdx = 1716; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_1, s.tmp_2);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1717; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_MusicClient_playMelody__P34047.info = {"start":2317,"length":290,"line":67,"column":8,"endLine":72,"endColumn":9,"fileName":"pxt_modules/jacdac-services/musicclient.ts","functionName":"playMelody","argumentNames":["this","melody","volume"]}

function jacdac_MusicClient_playMelody__P34047_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_MusicClient_playMelody__P34047, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_JDMelodyPlayer_constructor__P36586(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDMelodyPlayer__C36581_VT)) failedCast(r0);
    r0 = (s.arg0).fields["musicClient"] = (s.arg2);
    s.tmp_0 = music_MelodyPlayer_constructor__P31072_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1703; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDMelodyPlayer_constructor__P36586.info = {"start":455,"length":95,"line":14,"column":8,"endLine":16,"endColumn":9,"fileName":"pxt_modules/jacdac-services/musicclient.ts","functionName":"inline","argumentNames":["this","m","musicClient"]}

function jacdac_JDMelodyPlayer_constructor__P36586_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDMelodyPlayer_constructor__P36586, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function music_MelodyPlayer_constructor__P31072(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, music_MelodyPlayer__C31069_VT)) failedCast(r0);
    r0 = (s.arg0).fields["melody"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_MelodyPlayer_constructor__P31072.info = {"start":10714,"length":62,"line":329,"column":8,"endLine":331,"endColumn":9,"fileName":"pxt_modules/mixer/melody.ts","functionName":"inline","argumentNames":["this","m"]}

function music_MelodyPlayer_constructor__P31072_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_MelodyPlayer_constructor__P31072, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDMelodyPlayer_stop__P36583(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDMelodyPlayer__C36581_VT)) failedCast(r0);
    r0 = (s.arg0).fields["queue"] = (null);
    s.tmp_0 = music_MelodyPlayer_stop__P31073_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1704; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDMelodyPlayer_stop__P36583.info = {"start":560,"length":73,"line":18,"column":8,"endLine":21,"endColumn":9,"fileName":"pxt_modules/jacdac-services/musicclient.ts","functionName":"stop","argumentNames":["this"]}

function jacdac_JDMelodyPlayer_stop__P36583_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDMelodyPlayer_stop__P36583, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function music_MelodyPlayer_stop__P31073(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, music_MelodyPlayer__C31069_VT)) failedCast(r0);
    r0 = (s.arg0).fields["melody"] = (null);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_MelodyPlayer_stop__P31073.info = {"start":10786,"length":49,"line":333,"column":8,"endLine":335,"endColumn":9,"fileName":"pxt_modules/mixer/melody.ts","functionName":"stop","argumentNames":["this"]}

function music_MelodyPlayer_stop__P31073_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_MelodyPlayer_stop__P31073, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function music_MelodyPlayer_play__P31074(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.notes___42992 = undefined;
    s.pos___42996 = undefined;
    s.duration___42997 = undefined;
    s.octave___42998 = undefined;
    s.tempo___42999 = undefined;
    s.hz___43000 = undefined;
    s.endHz___43001 = undefined;
    s.ms___43004 = undefined;
    s.timePos___43005 = undefined;
    s.startTime___43006 = undefined;
    s.now___43009 = undefined;
    s.envA___43010 = undefined;
    s.envD___43011 = undefined;
    s.envS___43012 = undefined;
    s.envR___43013 = undefined;
    s.soundWave___43014 = undefined;
    s.sndInstr___43015 = undefined;
    s.sndInstrPtr___43021 = undefined;
    s.addForm___43022 = undefined;
    s.scanNextWord___43082 = undefined;
    s.token___43139 = undefined;
    s.tokenKind___43140 = undefined;
    s.consumeToken___43143 = undefined;
    s.currNote___43219 = undefined;
    s.prevNote___43221 = undefined;
    s.timeLeft___43224 = undefined;
    s.note___43238 = undefined;
    s.i___43242 = undefined;
    s.noteChar___43248 = undefined;
    s.keyNumber___43322 = undefined;
    s.currMs___43339 = undefined;
    s.beat___43343 = undefined;
    s.timeLeft___43400 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, music_MelodyPlayer__C31069_VT)) failedCast(r0);
    r0 = pxsim_pxtrt.mklocRef();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.arg1);
    s.arg1 = (s.tmp_0);
    r0 = s.arg0.fields["melody"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 1; continue; }
    { step = 59; continue; }
  case 1:
  case 2:
    s.tmp_4 = r0 = s.arg1;
    s.tmp_6 = Math_clamp__P29549_mk(s);
    s.tmp_6.arg0 = 0;
    s.tmp_6.arg1 = 255;
    r0 = pxsim_pxtrt_ldlocRef(s.arg1);
    s.tmp_8 = r0;
    s.tmp_10 = music_volume__P31054_mk(s);
    s.callLocIdx = 139; s.pc = 61; return s.tmp_10;
  case 61:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = (s.tmp_8 * s.tmp_9);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 >> 8);
    s.tmp_6.arg2 = r0;
    s.callLocIdx = 140; s.pc = 60; return s.tmp_6;
  case 60:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_4, s.tmp_5);
    r0 = s.arg0.fields["melody"];
    r0 = r0.fields["_text"];
    s.notes___42992 = (r0);
    r0 = pxsim_pxtrt.mklocRef();
    s.pos___42996 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.pos___42996, 0);
    r0 = pxsim_pxtrt.mklocRef();
    s.duration___42997 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.duration___42997, 4);
    r0 = pxsim_pxtrt.mklocRef();
    s.octave___42998 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.octave___42998, 4);
    r0 = pxsim_pxtrt.mklocRef();
    s.tempo___42999 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.tempo___42999, 120);
    r0 = pxsim_pxtrt.mklocRef();
    s.hz___43000 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.hz___43000, 0);
    r0 = pxsim_pxtrt.mklocRef();
    s.endHz___43001 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.endHz___43001, -1);
    r0 = pxsim_pxtrt.mklocRef();
    s.ms___43004 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.ms___43004, 0);
    s.timePos___43005 = (0);
    r0 = pxsim.control.millis();
    s.startTime___43006 = (r0);
    s.now___43009 = (0);
    r0 = pxsim_pxtrt.mklocRef();
    s.envA___43010 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.envA___43010, 0);
    r0 = pxsim_pxtrt.mklocRef();
    s.envD___43011 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.envD___43011, 0);
    r0 = pxsim_pxtrt.mklocRef();
    s.envS___43012 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.envS___43012, 255);
    r0 = pxsim_pxtrt.mklocRef();
    s.envR___43013 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.envR___43013, 0);
    r0 = pxsim_pxtrt.mklocRef();
    s.soundWave___43014 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.soundWave___43014, 1);
    r0 = pxsim.control.createBuffer(60);
    s.sndInstr___43015 = (r0);
    r0 = pxsim_pxtrt.mklocRef();
    s.sndInstrPtr___43021 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.sndInstrPtr___43021, 0);
    r0 = pxsim_pxtcore_mkAction(10, inline__P43023);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.hz___43000);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.endHz___43001);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.ms___43004);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.duration___42997);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 4, s.tempo___42999);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 5, s.envR___43013);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 6, s.sndInstrPtr___43021);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 7, s.sndInstr___43015);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 8, s.soundWave___43014);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 9, s.arg1);
    s.addForm___43022 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(3, inline__P43083);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.pos___42996);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.notes___42992);
    s.scanNextWord___43082 = (s.tmp_0);
    r0 = pxsim_pxtrt.mklocRef();
    s.token___43139 = (r0);
    s.tmp_0 = r0 = s.token___43139;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtrt.mklocRef();
    s.tokenKind___43140 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___43140, 0);
    r0 = pxsim_pxtcore_mkAction(13, inline__P43144);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.token___43139);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.tokenKind___43140);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.octave___42998);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.duration___42997);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 4, s.ms___43004);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 5, s.tempo___42999);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 6, s.hz___43000);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 7, s.soundWave___43014);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 8, s.envA___43010);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 9, s.envD___43011);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 10, s.envS___43012);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 11, s.envR___43013);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 12, s.endHz___43001);
    s.consumeToken___43143 = (s.tmp_0);
  case 3:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 58; continue; }
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.scanNextWord___43082;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 148; s.pc = 62; return s.tmp_0;
  case 62:
    r0 = s.retval;
    s.currNote___43219 = (r0);
    s.prevNote___43221 = (false);
    r0 = pxsim_numops_toBoolDecr(s.currNote___43219);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = (s.timePos___43005 - s.now___43009);
    s.timeLeft___43224 = (r0);
    r0 = (s.timeLeft___43224 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_1 = pause__P29829_mk(s);
    s.tmp_1.arg0 = s.timeLeft___43224;
    s.callLocIdx = 149; s.pc = 63; return s.tmp_1;
  case 63:
    r0 = s.retval;
  case 4:
  case 5:
    r0 = s.arg0.fields["onPlayFinished"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = if_onPlayFinished_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "onPlayFinished"), 1);
      s.callLocIdx = 150; s.pc = 64; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["onPlayFinished"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["onPlayFinished"], 1); s.callLocIdx = 150; s.pc = 64; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 150; s.pc = 64; return s.tmp_1;; }
     else { s.callLocIdx = 150; s.pc = 64; return s.tmp_1; }
    }
  case 64:
    r0 = s.retval;
  case 6:
  case 7:
    { step = 59; continue; }
  case 8:
  case 9:
    r0 = pxsim_pxtrt_stlocRef(s.hz___43000, -1);
    s.note___43238 = (0);
    s.tmp_0 = r0 = s.token___43139;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___43140, 0);
    s.i___43242 = (0);
  case 10:
    s.tmp_1 = r0 = s.i___43242;
    r0 = pxsim_String_.length(s.currNote___43219);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 41; continue; }
    r0 = pxsim_String_.charAt(s.currNote___43219, s.i___43242);
    s.noteChar___43248 = (r0);
    s.tmp_0 = r0 = s.noteChar___43248;
    r0 = pxsim_pxtcore.switch_eq("c", s.tmp_0);
    if (r0) { step = 11; continue; }
    r0 = pxsim_pxtcore.switch_eq("C", s.tmp_0);
    if (r0) { step = 12; continue; }
    r0 = pxsim_pxtcore.switch_eq("d", s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = pxsim_pxtcore.switch_eq("D", s.tmp_0);
    if (r0) { step = 14; continue; }
    r0 = pxsim_pxtcore.switch_eq("e", s.tmp_0);
    if (r0) { step = 15; continue; }
    r0 = pxsim_pxtcore.switch_eq("E", s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = pxsim_pxtcore.switch_eq("f", s.tmp_0);
    if (r0) { step = 17; continue; }
    r0 = pxsim_pxtcore.switch_eq("F", s.tmp_0);
    if (r0) { step = 18; continue; }
    r0 = pxsim_pxtcore.switch_eq("g", s.tmp_0);
    if (r0) { step = 19; continue; }
    r0 = pxsim_pxtcore.switch_eq("G", s.tmp_0);
    if (r0) { step = 20; continue; }
    r0 = pxsim_pxtcore.switch_eq("a", s.tmp_0);
    if (r0) { step = 21; continue; }
    r0 = pxsim_pxtcore.switch_eq("A", s.tmp_0);
    if (r0) { step = 22; continue; }
    r0 = pxsim_pxtcore.switch_eq("B", s.tmp_0);
    if (r0) { step = 23; continue; }
    r0 = pxsim_pxtcore.switch_eq("r", s.tmp_0);
    if (r0) { step = 24; continue; }
    r0 = pxsim_pxtcore.switch_eq("R", s.tmp_0);
    if (r0) { step = 25; continue; }
    r0 = pxsim_pxtcore.switch_eq("#", s.tmp_0);
    if (r0) { step = 26; continue; }
    r0 = pxsim_pxtcore.switch_eq("b", s.tmp_0);
    if (r0) { step = 27; continue; }
    r0 = pxsim_pxtcore.switch_eq(",", s.tmp_0);
    if (r0) { step = 30; continue; }
    r0 = pxsim_pxtcore.switch_eq("!", s.tmp_0);
    if (r0) { step = 31; continue; }
    r0 = pxsim_pxtcore.switch_eq("@", s.tmp_0);
    if (r0) { step = 32; continue; }
    r0 = pxsim_pxtcore.switch_eq("~", s.tmp_0);
    if (r0) { step = 33; continue; }
    r0 = pxsim_pxtcore.switch_eq(":", s.tmp_0);
    if (r0) { step = 34; continue; }
    r0 = pxsim_pxtcore.switch_eq("-", s.tmp_0);
    if (r0) { step = 35; continue; }
    r0 = pxsim_pxtcore.switch_eq("^", s.tmp_0);
    if (r0) { step = 36; continue; }
    r0 = s.tmp_0;
    { step = 37; continue; }
  case 11:
  case 12:
    s.note___43238 = (1);
    s.prevNote___43221 = (true);
    { step = 40; continue; }
  case 13:
  case 14:
    s.note___43238 = (3);
    s.prevNote___43221 = (true);
    { step = 40; continue; }
  case 15:
  case 16:
    s.note___43238 = (5);
    s.prevNote___43221 = (true);
    { step = 40; continue; }
  case 17:
  case 18:
    s.note___43238 = (6);
    s.prevNote___43221 = (true);
    { step = 40; continue; }
  case 19:
  case 20:
    s.note___43238 = (8);
    s.prevNote___43221 = (true);
    { step = 40; continue; }
  case 21:
  case 22:
    s.note___43238 = (10);
    s.prevNote___43221 = (true);
    { step = 40; continue; }
  case 23:
    s.note___43238 = (12);
    s.prevNote___43221 = (true);
    { step = 40; continue; }
  case 24:
  case 25:
    r0 = pxsim_pxtrt_stlocRef(s.hz___43000, 0);
    s.prevNote___43221 = (false);
    { step = 40; continue; }
  case 26:
    r0 = (s.note___43238 + 1);
    s.note___43238 = (r0);
    s.prevNote___43221 = (false);
    { step = 40; continue; }
  case 27:
    r0 = pxsim_numops_toBoolDecr(s.prevNote___43221);
    if (!r0) { step = 28; continue; }
    r0 = (s.note___43238 - 1);
    s.note___43238 = (r0);
    { step = 29; continue; }
  case 28:
    s.note___43238 = (12);
    s.prevNote___43221 = (true);
  case 29:
    { step = 40; continue; }
  case 30:
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.consumeToken___43143;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 151; s.pc = 65; return s.tmp_0;
  case 65:
    r0 = s.retval;
    s.prevNote___43221 = (false);
    { step = 40; continue; }
  case 31:
    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___43140, 4);
    s.prevNote___43221 = (false);
    { step = 40; continue; }
  case 32:
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.consumeToken___43143;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 152; s.pc = 66; return s.tmp_0;
  case 66:
    r0 = s.retval;
    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___43140, 8);
    s.prevNote___43221 = (false);
    { step = 40; continue; }
  case 33:
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.consumeToken___43143;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 153; s.pc = 67; return s.tmp_0;
  case 67:
    r0 = s.retval;
    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___43140, 7);
    s.prevNote___43221 = (false);
    { step = 40; continue; }
  case 34:
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.consumeToken___43143;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 154; s.pc = 68; return s.tmp_0;
  case 68:
    r0 = s.retval;
    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___43140, 2);
    s.prevNote___43221 = (false);
    { step = 40; continue; }
  case 35:
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.consumeToken___43143;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 155; s.pc = 69; return s.tmp_0;
  case 69:
    r0 = s.retval;
    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___43140, 3);
    s.prevNote___43221 = (false);
    { step = 40; continue; }
  case 36:
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.consumeToken___43143;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 156; s.pc = 70; return s.tmp_0;
  case 70:
    r0 = s.retval;
    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___43140, 5);
    { step = 40; continue; }
  case 37:
    r0 = pxsim_pxtrt_ldlocRef(s.tokenKind___43140);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 38; continue; }
    r0 = pxsim_pxtrt_stlocRef(s.tokenKind___43140, 1);
  case 38:
  case 39:
    s.tmp_0 = r0 = s.token___43139;
    r0 = pxsim_pxtrt_ldlocRef(s.token___43139);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 71);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 71:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.noteChar___43248) && (s.noteChar___43248).vtable) {
    setupResume(s, 72);
    pxsim_String__stringConv(s.noteChar___43248);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.noteChar___43248) + ""; }
  case 72:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_4);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    s.prevNote___43221 = (false);
  case 40:
    r0 = (s.i___43242 + 1);
    s.i___43242 = (r0);
    { step = 10; continue; }
  case 41:
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.consumeToken___43143;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 157; s.pc = 73; return s.tmp_0;
  case 73:
    r0 = s.retval;
    s.tmp_0 = r0 = s.note___43238;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 42; continue; }
    r0 = s.tmp_0;
    { step = 43; continue; }
  case 42:
    r0 = pxsim_pxtrt_ldlocRef(s.hz___43000);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
  case 43:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 46; continue; }
    s.tmp_3 = r0 = s.note___43238;
    r0 = pxsim_pxtrt_ldlocRef(s.octave___42998);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 - 1);
    s.tmp_5 = r0;
    r0 = (12 * s.tmp_5);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 + s.tmp_4);
    s.keyNumber___43322 = (r0);
    s.tmp_1 = r0 = globals.freqs___34381;
    r0 = (s.keyNumber___43322 * 2);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 44; continue; }
    r0 = s.tmp_0;
    { step = 45; continue; }
  case 44:
    r0 = 0;
  case 45:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.hz___43000, s.tmp_3);
  case 46:
  case 47:
    r0 = pxsim_pxtrt_ldlocRef(s.ms___43004);
    s.currMs___43339 = (r0);
    r0 = (s.currMs___43339 <= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 48; continue; }
    r0 = pxsim_pxtrt_ldlocRef(s.tempo___42999);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.idiv(15000, s.tmp_1);
    s.beat___43343 = (r0);
    r0 = pxsim_pxtrt_ldlocRef(s.duration___42997);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 * s.beat___43343);
    s.currMs___43339 = (r0);
  case 48:
  case 49:
    r0 = pxsim_pxtrt_ldlocRef(s.hz___43000);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 50; continue; }
    { step = 55; continue; }
  case 50:
    r0 = pxsim_pxtrt_ldlocRef(s.hz___43000);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 == 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 51; continue; }
    r0 = (s.timePos___43005 + s.currMs___43339);
    s.timePos___43005 = (r0);
    { step = 54; continue; }
  case 51:
    r0 = pxsim_pxtrt_ldlocRef(s.endHz___43001);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 52; continue; }
    s.tmp_2 = r0 = s.endHz___43001;
    r0 = pxsim_pxtrt_ldlocRef(s.hz___43000);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_2, s.tmp_3);
  case 52:
  case 53:
    r0 = pxsim_pxtrt_stlocRef(s.sndInstrPtr___43021, 0);
    s.tmp_0 = lambda_5_mk(s);
    s.tmp_0.argL = s.addForm___43022;
    r0 = pxsim_pxtrt_ldlocRef(s.envA___43010);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = 255;
    s.tmp_0.arg3 = 0;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 158; s.pc = 74; return s.tmp_0;
  case 74:
    r0 = s.retval;
    s.tmp_0 = lambda_5_mk(s);
    s.tmp_0.argL = s.addForm___43022;
    r0 = pxsim_pxtrt_ldlocRef(s.envD___43011);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 255;
    r0 = pxsim_pxtrt_ldlocRef(s.envS___43012);
    s.tmp_0.arg2 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.envA___43010);
    s.tmp_0.arg3 = r0;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 159; s.pc = 75; return s.tmp_0;
  case 75:
    r0 = s.retval;
    s.tmp_0 = lambda_5_mk(s);
    s.tmp_0.argL = s.addForm___43022;
    s.tmp_1 = r0 = s.currMs___43339;
    r0 = pxsim_pxtrt_ldlocRef(s.envA___43010);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.envD___43011);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 + s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 - s.tmp_2);
    s.tmp_0.arg0 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.envS___43012);
    s.tmp_0.arg1 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.envS___43012);
    s.tmp_0.arg2 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.envD___43011);
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.envA___43010);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 + s.tmp_6);
    s.tmp_0.arg3 = r0;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 160; s.pc = 76; return s.tmp_0;
  case 76:
    r0 = s.retval;
    s.tmp_0 = lambda_5_mk(s);
    s.tmp_0.argL = s.addForm___43022;
    r0 = pxsim_pxtrt_ldlocRef(s.envR___43013);
    s.tmp_0.arg0 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.envS___43012);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = 0;
    s.tmp_0.arg3 = s.currMs___43339;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 161; s.pc = 77; return s.tmp_0;
  case 77:
    r0 = s.retval;
    s.tmp_0 = music_MelodyPlayer__C31069_v1_3_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = (s.timePos___43005 - s.now___43009);
    s.tmp_0.arg1 = r0;
    s.tmp_1 = r0 = s.sndInstr___43015;
    r0 = pxsim_pxtrt_ldlocRef(s.sndInstrPtr___43021);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_1, 0, s.tmp_2);
    s.tmp_0.arg2 = r0;
    if (!checkSubtype(s.tmp_0.arg0, music_MelodyPlayer__C31069_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.queuePlayInstructions;
    s.pc = 78; return s.tmp_0;
  case 78:
    r0 = s.retval;
    r0 = pxsim_pxtrt_stlocRef(s.endHz___43001, -1);
    r0 = (s.timePos___43005 + s.currMs___43339);
    s.timePos___43005 = (r0);
  case 54:
  case 55:
    r0 = (s.timePos___43005 - s.now___43009);
    s.timeLeft___43400 = (r0);
    r0 = (s.timeLeft___43400 > 200);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 56; continue; }
    s.tmp_1 = pause__P29829_mk(s);
    r0 = (s.timeLeft___43400 - 100);
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 162; s.pc = 79; return s.tmp_1;
  case 79:
    r0 = s.retval;
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.startTime___43006);
    s.now___43009 = (r0);
  case 56:
  case 57:
    { step = 3; continue; }
  case 58:
  case 59:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_MelodyPlayer_play__P31074.info = {"start":10980,"length":9006,"line":341,"column":8,"endLine":572,"endColumn":9,"fileName":"pxt_modules/mixer/melody.ts","functionName":"play","argumentNames":["this","volume"]}

function music_MelodyPlayer_play__P31074_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_MelodyPlayer_play__P31074, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  notes___42992: undefined,
  pos___42996: undefined,
  duration___42997: undefined,
  octave___42998: undefined,
  tempo___42999: undefined,
  hz___43000: undefined,
  endHz___43001: undefined,
  ms___43004: undefined,
  timePos___43005: undefined,
  startTime___43006: undefined,
  now___43009: undefined,
  envA___43010: undefined,
  envD___43011: undefined,
  envS___43012: undefined,
  envR___43013: undefined,
  soundWave___43014: undefined,
  sndInstr___43015: undefined,
  sndInstrPtr___43021: undefined,
  addForm___43022: undefined,
  scanNextWord___43082: undefined,
  token___43139: undefined,
  tokenKind___43140: undefined,
  consumeToken___43143: undefined,
  currNote___43219: undefined,
  prevNote___43221: undefined,
  timeLeft___43224: undefined,
  note___43238: undefined,
  i___43242: undefined,
  noteChar___43248: undefined,
  keyNumber___43322: undefined,
  currMs___43339: undefined,
  beat___43343: undefined,
  timeLeft___43400: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P43023(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.freqStart___43028 = undefined;
    s.freqEnd___43030 = undefined;
    s.envelopeWidth___43032 = undefined;
    s.slope___43050 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.freqStart___43028 = (r0);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.freqEnd___43030 = (r0);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtrt_ldlocRef(s.caps[2]);
    { step = 2; continue; }
  case 1:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[3]);
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[4]);
    s.tmp_5 = r0;
    r0 = pxsim.Math_.idiv(15000, s.tmp_5);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 * s.tmp_4);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[5]);
    s.tmp_6 = r0;
    r0 = (s.tmp_2 + s.tmp_6);
  case 2:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    s.envelopeWidth___43032 = (s.tmp_7);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 != s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = (s.envelopeWidth___43032 != 0);
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 5; continue; }
    r0 = (s.freqEnd___43030 - s.freqStart___43028);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 / s.envelopeWidth___43032);
    s.slope___43050 = (r0);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_0 = r0;
    r0 = (s.slope___43050 * s.arg3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.freqStart___43028 = (r0);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_0 = r0;
    s.tmp_2 = r0 = s.slope___43050;
    r0 = (s.arg3 + s.arg0);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 * s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.freqEnd___43030 = (r0);
  case 5:
  case 6:
    s.tmp_0 = r0 = s.caps[6];
    s.tmp_2 = music_addNote__P34397_mk(s);
    s.tmp_2.arg0 = s.caps[7];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[6]);
    s.tmp_2.arg1 = r0;
    s.tmp_2.arg2 = s.arg0;
    s.tmp_2.arg3 = s.arg1;
    s.tmp_2.arg4 = s.arg2;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[8]);
    s.tmp_2.arg5 = r0;
    s.tmp_2.arg6 = s.freqStart___43028;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[9]);
    s.tmp_2.arg7 = r0;
    s.tmp_2.arg8 = s.freqEnd___43030;
    s.callLocIdx = 141; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P43023.info = {"start":11788,"length":643,"line":367,"column":28,"endLine":378,"endColumn":13,"fileName":"pxt_modules/mixer/melody.ts","functionName":"inline","argumentNames":["formDuration","beg","end","msOff"]}

function inline__P43023_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P43023, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  freqStart___43028: undefined,
  freqEnd___43030: undefined,
  envelopeWidth___43032: undefined,
  slope___43050: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function inline__P43083(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.c___43092 = undefined;
    s.note___43109 = undefined;
    s.c___43115 = undefined;
    r0 = s.caps[0].fields["melody"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_String_.mkEmpty();
    { step = 23; continue; }
  case 1:
  case 2:
  case 3:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_4 = r0;
    r0 = pxsim_String_.length(s.caps[2]);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 < s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 12; continue; }
    s.tmp_6 = r0 = s.caps[2];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_7 = r0;
    r0 = pxsim_String_.charAt(s.tmp_6, s.tmp_7);
    s.c___43092 = (r0);
    r0 = (s.c___43092 != " ");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_0;
    { step = 5; continue; }
  case 4:
    r0 = (s.c___43092 != "\r");
  case 5:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_1;
    { step = 7; continue; }
  case 6:
    r0 = (s.c___43092 != "\n");
  case 7:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_2;
    { step = 9; continue; }
  case 8:
    r0 = (s.c___43092 != "\t");
  case 9:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 10; continue; }
    { step = 12; continue; }
  case 10:
  case 11:
    s.tmp_4 = r0 = s.caps[1];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + 1);
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_4, s.tmp_5);
    { step = 3; continue; }
  case 12:
    r0 = pxsim_String_.mkEmpty();
    s.note___43109 = (r0);
  case 13:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_1 = r0;
    r0 = pxsim_String_.length(s.caps[2]);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    s.tmp_3 = r0 = s.caps[2];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_4 = r0;
    r0 = pxsim_String_.charAt(s.tmp_3, s.tmp_4);
    s.c___43115 = (r0);
    r0 = (s.c___43115 == " ");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = s.tmp_0;
    { step = 15; continue; }
  case 14:
    r0 = (s.c___43115 == "\r");
  case 15:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 16; continue; }
    r0 = s.tmp_1;
    { step = 17; continue; }
  case 16:
    r0 = (s.c___43115 == "\n");
  case 17:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 18; continue; }
    r0 = s.tmp_2;
    { step = 19; continue; }
  case 18:
    r0 = (s.c___43115 == "\t");
  case 19:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 20; continue; }
    { step = 22; continue; }
  case 20:
  case 21:
    if ((s.note___43109) && (s.note___43109).vtable) {
    setupResume(s, 24);
    pxsim_String__stringConv(s.note___43109);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.note___43109) + ""; }
  case 24:
    r0 = s.retval;
    s.tmp_4 = r0;
    if ((s.c___43115) && (s.c___43115).vtable) {
    setupResume(s, 25);
    pxsim_String__stringConv(s.c___43115);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.c___43115) + ""; }
  case 25:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_5);
    s.note___43109 = (r0);
    s.tmp_0 = r0 = s.caps[1];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    { step = 13; continue; }
  case 22:
    r0 = s.note___43109;
  case 23:
    return leave(s, r0)
  default: oops()
} } }
inline__P43083.info = {"start":12466,"length":708,"line":380,"column":33,"endLine":402,"endColumn":13,"fileName":"pxt_modules/mixer/melody.ts","functionName":"inline","argumentNames":[]}

function inline__P43083_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P43083, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  c___43092: undefined,
  note___43109: undefined,
  c___43115: undefined,
} }





function inline__P43144(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.d___43150 = undefined;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 0);
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 15; continue; }
    s.tmp_3 = parseInt__P29522_mk(s);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = undefined;
    s.callLocIdx = 142; s.pc = 17; return s.tmp_3;
  case 17:
    r0 = s.retval;
    s.d___43150 = (r0);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(6, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(7, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.switch_eq(8, s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq(9, s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = pxsim_pxtcore.switch_eq(10, s.tmp_0);
    if (r0) { step = 11; continue; }
    r0 = pxsim_pxtcore.switch_eq(11, s.tmp_0);
    if (r0) { step = 12; continue; }
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = s.tmp_0;
    { step = 14; continue; }
  case 3:
    r0 = pxsim_pxtrt_stlocRef(s.caps[2], s.d___43150);
    { step = 14; continue; }
  case 4:
    s.tmp_0 = r0 = s.caps[3];
    s.tmp_2 = Math_max__P29552_mk(s);
    s.tmp_2.arg0 = 1;
    s.tmp_3 = Math_min__P29553_mk(s);
    s.tmp_3.arg0 = 16;
    s.tmp_3.arg1 = s.d___43150;
    s.callLocIdx = 143; s.pc = 19; return s.tmp_3;
  case 19:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 144; s.pc = 18; return s.tmp_2;
  case 18:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtrt_stlocRef(s.caps[4], -1);
    { step = 14; continue; }
  case 5:
    s.tmp_0 = r0 = s.caps[5];
    s.tmp_2 = Math_max__P29552_mk(s);
    s.tmp_2.arg0 = 1;
    s.tmp_2.arg1 = s.d___43150;
    s.callLocIdx = 145; s.pc = 20; return s.tmp_2;
  case 20:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    { step = 14; continue; }
  case 6:
    r0 = pxsim_pxtrt_stlocRef(s.caps[6], s.d___43150);
    r0 = pxsim_pxtrt_stlocRef(s.caps[1], 6);
    { step = 14; continue; }
  case 7:
    r0 = pxsim_pxtrt_stlocRef(s.caps[4], s.d___43150);
    { step = 14; continue; }
  case 8:
    s.tmp_0 = r0 = s.caps[7];
    s.tmp_2 = Math_clamp__P29549_mk(s);
    s.tmp_2.arg0 = 1;
    s.tmp_2.arg1 = 15;
    s.tmp_2.arg2 = s.d___43150;
    s.callLocIdx = 146; s.pc = 21; return s.tmp_2;
  case 21:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    { step = 14; continue; }
  case 9:
    r0 = pxsim_pxtrt_stlocRef(s.caps[8], s.d___43150);
    r0 = pxsim_pxtrt_stlocRef(s.caps[1], 9);
    { step = 14; continue; }
  case 10:
    r0 = pxsim_pxtrt_stlocRef(s.caps[9], s.d___43150);
    r0 = pxsim_pxtrt_stlocRef(s.caps[1], 10);
    { step = 14; continue; }
  case 11:
    s.tmp_0 = r0 = s.caps[10];
    s.tmp_2 = Math_clamp__P29549_mk(s);
    s.tmp_2.arg0 = 0;
    s.tmp_2.arg1 = 255;
    s.tmp_2.arg2 = s.d___43150;
    s.callLocIdx = 147; s.pc = 22; return s.tmp_2;
  case 22:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtrt_stlocRef(s.caps[1], 11);
    { step = 14; continue; }
  case 12:
    r0 = pxsim_pxtrt_stlocRef(s.caps[11], s.d___43150);
    { step = 14; continue; }
  case 13:
    r0 = pxsim_pxtrt_stlocRef(s.caps[12], s.d___43150);
  case 14:
    s.tmp_0 = r0 = s.caps[0];
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
  case 15:
  case 16:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P43144.info = {"start":14207,"length":1189,"line":438,"column":33,"endLine":459,"endColumn":13,"fileName":"pxt_modules/mixer/melody.ts","functionName":"inline","argumentNames":[]}

function inline__P43144_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P43144, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  d___43150: undefined,
} }





function music_MelodyPlayer_queuePlayInstructions__P34398(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, music_MelodyPlayer__C31069_VT)) failedCast(r0);
    r0 = pxsim.music.queuePlayInstructions(s.arg1, s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_MelodyPlayer_queuePlayInstructions__P34398.info = {"start":10845,"length":125,"line":337,"column":8,"endLine":339,"endColumn":9,"fileName":"pxt_modules/mixer/melody.ts","functionName":"queuePlayInstructions","argumentNames":["this","timeDelta","buf"]}

function music_MelodyPlayer_queuePlayInstructions__P34398_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_MelodyPlayer_queuePlayInstructions__P34398, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function music_addNote__P34397(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.arg6 = (s.lambdaArgs[6]);
      s.arg7 = (s.lambdaArgs[7]);
      s.arg8 = (s.lambdaArgs[8]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg2 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.BufferMethods.setNumber(s.arg0, 2, s.arg1, s.arg5);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 + 1);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 2, s.tmp_1, 0);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 + 2);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, s.tmp_1, s.arg6);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 + 4);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, s.tmp_1, s.arg2);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 + 6);
    s.tmp_1 = r0;
    r0 = (s.arg3 * s.arg7);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 6);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, s.tmp_1, s.tmp_2);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 + 8);
    s.tmp_1 = r0;
    r0 = (s.arg4 * s.arg7);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 6);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, s.tmp_1, s.tmp_2);
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 + 10);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, s.tmp_1, s.arg8);
    r0 = (s.arg1 + 12);
    s.arg1 = (r0);
  case 1:
  case 2:
    r0 = pxsim.BufferMethods.setNumber(s.arg0, 2, s.arg1, 0);
    r0 = s.arg1;
    return leave(s, r0)
  default: oops()
} } }
music_addNote__P34397.info = {"start":9705,"length":904,"line":308,"column":4,"endLine":321,"endColumn":5,"fileName":"pxt_modules/mixer/melody.ts","functionName":"addNote","argumentNames":["sndInstr","sndInstrPtr","ms","beg","end","soundWave","hz","volume","endHz"]}

function music_addNote__P34397_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_addNote__P34397, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
  arg6: undefined,
  arg7: undefined,
  arg8: undefined,
} }





function music_volume__P31054(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = music_initVolume__P34389_mk(s);
    s.callLocIdx = 130; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = globals.globalVolume___34385;
    return leave(s, r0)
  default: oops()
} } }
music_volume__P31054.info = {"start":1781,"length":90,"line":61,"column":4,"endLine":64,"endColumn":5,"fileName":"pxt_modules/mixer/melody.ts","functionName":"volume","argumentNames":[]}

function music_volume__P31054_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_volume__P31054, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function music_initVolume__P34389(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = (globals.globalVolume___34385 === null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    globals.globalVolume___34385 = (0);
    s.tmp_0 = music_setVolume__P31053_mk(s);
    r0 = pxsim_pxtcore.getConfig(59, 128);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 127; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_initVolume__P34389.info = {"start":1014,"length":180,"line":33,"column":4,"endLine":38,"endColumn":5,"fileName":"pxt_modules/mixer/melody.ts","functionName":"initVolume","argumentNames":[]}

function music_initVolume__P34389_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_initVolume__P34389, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function music_setVolume__P31053(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Math_clamp__P29549_mk(s);
    s.tmp_0.arg0 = 0;
    s.tmp_0.arg1 = 255;
    r0 = (s.arg0 | 0);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 128; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    globals.globalVolume___34385 = (r0);
    r0 = (globals.globalVolume___34385 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 1;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = undefined;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_setVolume__P31053.info = {"start":1533,"length":153,"line":51,"column":4,"endLine":54,"endColumn":5,"fileName":"pxt_modules/mixer/melody.ts","functionName":"setVolume","argumentNames":["volume"]}

function music_setVolume__P31053_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_setVolume__P31053, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function music_enableAmp__P34388(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_enableAmp__P34388.info = {"start":944,"length":64,"line":29,"column":4,"endLine":31,"endColumn":5,"fileName":"pxt_modules/mixer/melody.ts","functionName":"enableAmp","argumentNames":["en"]}

function music_enableAmp__P34388_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_enableAmp__P34388, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_MonoLightAnimation_constructor__P34091(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_MonoLightAnimation__C34090_VT)) failedCast(r0);
    r0 = (s.arg0).fields["buffer"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_MonoLightAnimation_constructor__P34091.info = {"start":88,"length":38,"line":3,"column":8,"endLine":3,"endColumn":46,"fileName":"pxt_modules/jacdac-services/pwmlightclient.ts","functionName":"inline","argumentNames":["this","buffer"]}

function jacdac_MonoLightAnimation_constructor__P34091_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_MonoLightAnimation_constructor__P34091, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_MonoLightClient_showAnimation__P34100(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.anim___43532 = undefined;
    s.i___43541 = undefined;
    s.curr___43547 = undefined;
    s.adj___43555 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_MonoLightClient__C34096_VT)) failedCast(r0);
    r0 = s.arg1.fields["buffer"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_0, 0, -1);
    s.anim___43532 = (r0);
    r0 = (s.arg2 != 100);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.i___43541 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___43541;
    r0 = pxsim.BufferMethods.length(s.anim___43532);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_3 = r0 = s.anim___43532;
    r0 = (s.i___43541 + 2);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_3, 4, s.tmp_4);
    s.curr___43547 = (r0);
    r0 = (s.curr___43547 * 100);
    s.tmp_0 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_0, s.arg2);
    s.adj___43555 = (r0);
    r0 = (s.curr___43547 != 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.adj___43555 == 0);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    s.adj___43555 = (1);
  case 4:
  case 5:
    s.tmp_0 = r0 = s.anim___43532;
    r0 = (s.i___43541 + 2);
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, 4, s.tmp_1, s.adj___43555);
    r0 = (s.i___43541 + 4);
    s.i___43541 = (r0);
    { step = 1; continue; }
  case 6:
  case 7:
  case 8:
    s.tmp_0 = jacdac_Client_setRegBuffer__P33550_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 130;
    s.tmp_0.arg2 = s.anim___43532;
    s.callLocIdx = 1781; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_MonoLightClient_showAnimation__P34100.info = {"start":1293,"length":554,"line":40,"column":8,"endLine":51,"endColumn":9,"fileName":"pxt_modules/jacdac-services/pwmlightclient.ts","functionName":"showAnimation","argumentNames":["this","animation","speed"]}

function jacdac_MonoLightClient_showAnimation__P34100_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_MonoLightClient_showAnimation__P34100, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  anim___43532: undefined,
  i___43541: undefined,
  curr___43547: undefined,
  adj___43555: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Client_setRegBuffer__P33550(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P33551_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1371; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_ClientPacketQueue_send__P33527_mk(s);
    r0 = s.arg0.fields["config"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = jacdac_JDPacket_from__P33605_mk(s);
    r0 = (8192 | s.arg1);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.arg2;
    s.callLocIdx = 1372; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1373; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_setRegBuffer__P33550.info = {"start":10451,"length":147,"line":335,"column":8,"endLine":338,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"setRegBuffer","argumentNames":["this","reg","value"]}

function jacdac_Client_setRegBuffer__P33550_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_setRegBuffer__P33550, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_ClientPacketQueue_send__P33527(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ClientPacketQueue__C33524_VT)) failedCast(r0);
    s.tmp_1 = jacdac_JDPacket_is_reg_set__P33620_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 1342; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["parent"];
    r0 = r0.fields["serviceNumber"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == null);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    s.tmp_4 = jacdac_ClientPacketQueue_updateQueue__P36417_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.arg1;
    s.callLocIdx = 1343; s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
  case 3:
  case 4:
    s.tmp_0 = jacdac_Client_sendCommand__P33546_mk(s);
    r0 = s.arg0.fields["parent"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1344; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ClientPacketQueue_send__P33527.info = {"start":6288,"length":179,"line":205,"column":8,"endLine":209,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"send","argumentNames":["this","pkt"]}

function jacdac_ClientPacketQueue_send__P33527_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ClientPacketQueue_send__P33527, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ClientPacketQueue_updateQueue__P36417(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cmd___43613 = undefined;
    s.i___43616 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ClientPacketQueue__C33524_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 14);
    s.cmd___43613 = (r0);
    s.i___43616 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___43616;
    r0 = s.arg0.fields["pkts"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = s.arg0.fields["pkts"];
    s.tmp_7 = r0;
    r0 = pxsim_Array__getAt(s.tmp_7, s.i___43616);
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_6, 4, 2);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 == s.cmd___43613);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 2; continue; }
    r0 = s.arg0.fields["pkts"];
    s.tmp_8 = r0;
    s.tmp_9 = r0 = s.i___43616;
    s.tmp_11 = jacdac_JDPacket_withFrameStripped__P33626_mk(s);
    s.tmp_11.arg0 = s.arg1;
    s.callLocIdx = 1340; s.pc = 6; return s.tmp_11;
  case 6:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_8, s.tmp_9, s.tmp_10);
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___43616 + 1);
    s.i___43616 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = s.arg0.fields["pkts"];
    s.tmp_0 = r0;
    s.tmp_2 = jacdac_JDPacket_withFrameStripped__P33626_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 1341; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ClientPacketQueue_updateQueue__P36417.info = {"start":5826,"length":396,"line":190,"column":8,"endLine":199,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"updateQueue","argumentNames":["this","pkt"]}

function jacdac_ClientPacketQueue_updateQueue__P36417_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ClientPacketQueue_updateQueue__P36417, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  cmd___43613: undefined,
  i___43616: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_JDPacket_withFrameStripped__P33626(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    s.tmp_0 = helpers_bufferConcat__P29606_mk(s);
    r0 = s.arg0.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_1, 12, 4);
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1490; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_withFrameStripped__P33626.info = {"start":4739,"length":95,"line":147,"column":8,"endLine":149,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"withFrameStripped","argumentNames":["this"]}

function jacdac_JDPacket_withFrameStripped__P33626_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_withFrameStripped__P33626, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_is_reg_set__P33620(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 12);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == 2);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_is_reg_set__P33620.info = {"start":3617,"length":99,"line":106,"column":8,"endLine":108,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"is_reg_set","argumentNames":["this"]}
jacdac_JDPacket_is_reg_set__P33620.isGetter = true;

function jacdac_JDPacket_is_reg_set__P33620_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_is_reg_set__P33620, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function jacdac_MonoLightClient_setIterations__P34098(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_MonoLightClient__C34096_VT)) failedCast(r0);
    r0 = (s.arg1 | 0);
    s.arg1 = (r0);
    r0 = (s.arg1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg1 >= 65535);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.arg1 = (4294967295);
    { step = 6; continue; }
  case 3:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 4; continue; }
    r0 = (s.arg1 - 1);
    s.arg1 = (r0);
  case 4:
  case 5:
  case 6:
    s.tmp_0 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 129;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 1779; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_MonoLightClient_setIterations__P34098.info = {"start":913,"length":250,"line":29,"column":8,"endLine":34,"endColumn":9,"fileName":"pxt_modules/jacdac-services/pwmlightclient.ts","functionName":"setIterations","argumentNames":["this","numIters"]}

function jacdac_MonoLightClient_setIterations__P34098_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_MonoLightClient_setIterations__P34098, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Client_setRegInt__P33549(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Client__C33529_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P33551_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1368; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg2);
    s.tmp_1 = jacdac_ClientPacketQueue_send__P33527_mk(s);
    r0 = s.arg0.fields["config"];
    s.tmp_1.arg0 = r0;
    s.tmp_2 = jacdac_JDPacket_packed__P33607_mk(s);
    r0 = (8192 | s.arg1);
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = "i";
    s.tmp_2.arg2 = s.tmp_0;
    s.callLocIdx = 1369; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1370; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Client_setRegInt__P33549.info = {"start":10288,"length":153,"line":330,"column":8,"endLine":333,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"setRegInt","argumentNames":["this","reg","value"]}

function jacdac_Client_setRegInt__P33549_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Client_setRegInt__P33549, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_MonoLightClient_constructor__P34097(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_MonoLightClient__C34096_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_constructor__P33538_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "pwml";
    s.tmp_0.arg2 = 531985491;
    s.tmp_0.arg3 = s.arg1;
    s.callLocIdx = 1778; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_MonoLightClient_constructor__P34097.info = {"start":746,"length":117,"line":24,"column":8,"endLine":26,"endColumn":9,"fileName":"pxt_modules/jacdac-services/pwmlightclient.ts","functionName":"inline","argumentNames":["this","requiredDevice"]}

function jacdac_MonoLightClient_constructor__P34097_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_MonoLightClient_constructor__P34097, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_MonoLightClient_setBrightness__P34099(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_MonoLightClient__C34096_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    r0 = (s.arg1 << 8);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1780; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_MonoLightClient_setBrightness__P34099.info = {"start":1173,"length":110,"line":36,"column":8,"endLine":38,"endColumn":9,"fileName":"pxt_modules/jacdac-services/pwmlightclient.ts","functionName":"setBrightness","argumentNames":["this","brightness"]}

function jacdac_MonoLightClient_setBrightness__P34099_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_MonoLightClient_setBrightness__P34099, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_MotorClient_constructor__P33997(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_MotorClient__C33996_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_constructor__P33538_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "motor";
    s.tmp_0.arg2 = 385895640;
    s.tmp_0.arg3 = s.arg1;
    s.callLocIdx = 1693; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_MotorClient_constructor__P33997.info = {"start":96,"length":114,"line":3,"column":8,"endLine":5,"endColumn":9,"fileName":"pxt_modules/jacdac-services/motorclient.ts","functionName":"inline","argumentNames":["this","requiredDevice"]}

function jacdac_MotorClient_constructor__P33997_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_MotorClient_constructor__P33997, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_MotorClient_run__P33999(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_MotorClient__C33996_VT)) failedCast(r0);
    s.tmp_0 = Math_clamp__P29549_mk(s);
    s.tmp_0.arg0 = -100;
    s.tmp_0.arg1 = 100;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 1694; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.arg1 = (r0);
    r0 = (s.arg1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = 1;
    s.tmp_1.arg2 = 0;
    s.callLocIdx = 1695; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_0 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 2;
    s.tmp_1 = Math_clamp__P29549_mk(s);
    s.tmp_1.arg0 = -32767;
    s.tmp_1.arg1 = 32767;
    r0 = (s.arg1 * 327.67);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1.arg2 = r0;
    s.callLocIdx = 1696; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1697; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = 1;
    s.callLocIdx = 1698; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_MotorClient_run__P33999.info = {"start":679,"length":337,"line":21,"column":8,"endLine":29,"endColumn":9,"fileName":"pxt_modules/jacdac-services/motorclient.ts","functionName":"run","argumentNames":["this","speed"]}

function jacdac_MotorClient_run__P33999_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_MotorClient_run__P33999, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ServoClient_setAngle__P33991(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.lower___43741 = undefined;
    s.scaled___43749 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ServoClient__C33987_VT)) failedCast(r0);
    r0 = (1500 - 1000);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 << 10);
    s.lower___43741 = (r0);
    s.tmp_0 = r0 = s.lower___43741;
    r0 = (s.arg1 << 10);
    s.tmp_3 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_3, 180);
    s.tmp_2 = r0;
    r0 = (2000 * s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.scaled___43749 = (r0);
    s.tmp_0 = jacdac_ServoClient_setPulse__P33993_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = (s.scaled___43749 >> 10);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1689; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ServoClient_setAngle__P33991.info = {"start":1581,"length":354,"line":52,"column":8,"endLine":59,"endColumn":9,"fileName":"pxt_modules/jacdac-services/servoclient.ts","functionName":"setAngle","argumentNames":["this","degrees"]}

function jacdac_ServoClient_setAngle__P33991_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ServoClient_setAngle__P33991, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  lower___43741: undefined,
  scaled___43749: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ServoClient_setPulse__P33993(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ServoClient__C33987_VT)) failedCast(r0);
    r0 = (s.arg1 | 0);
    s.arg1 = (r0);
    s.tmp_0 = Math_clamp__P29549_mk(s);
    s.tmp_0.arg0 = 500;
    s.tmp_0.arg1 = 2500;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 1690; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.arg1 = (r0);
    s.tmp_0 = jacdac_ServoClient_sync__P36554_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1691; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ServoClient_setPulse__P33993.info = {"start":2949,"length":151,"line":87,"column":8,"endLine":91,"endColumn":9,"fileName":"pxt_modules/jacdac-services/servoclient.ts","functionName":"setPulse","argumentNames":["this","micros"]}

function jacdac_ServoClient_setPulse__P33993_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ServoClient_setPulse__P33993, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ServoClient_sync__P36554(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ServoClient__C33987_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["lastSet"] = (s.tmp_1);
    r0 = s.arg0.fields["pulse"];
    s.tmp_1 = r0;
    r0 = (s.arg1 === s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = (s.arg1 == null);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.tmp_3.arg1 = 1;
    s.tmp_3.arg2 = 0;
    s.callLocIdx = 1685; s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    s.tmp_0 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 2;
    r0 = (s.arg1 | 0);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1686; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.tmp_0 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = 1;
    s.callLocIdx = 1687; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
  case 4:
    r0 = (s.arg0).fields["pulse"] = (s.arg1);
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ServoClient_sync__P36554.info = {"start":315,"length":374,"line":11,"column":8,"endLine":22,"endColumn":9,"fileName":"pxt_modules/jacdac-services/servoclient.ts","functionName":"sync","argumentNames":["this","n"]}

function jacdac_ServoClient_sync__P36554_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ServoClient_sync__P36554, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ServoClient_constructor__P33988(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ServoClient__C33987_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_constructor__P33538_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "servo";
    s.tmp_0.arg2 = 318542083;
    s.tmp_0.arg3 = s.arg1;
    s.callLocIdx = 1684; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ServoClient_constructor__P33988.info = {"start":96,"length":114,"line":3,"column":8,"endLine":5,"endColumn":9,"fileName":"pxt_modules/jacdac-services/servoclient.ts","functionName":"inline","argumentNames":["this","requiredDevice"]}

function jacdac_ServoClient_constructor__P33988_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ServoClient_constructor__P33988, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ServoClient_turnOff__P33990(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ServoClient__C33987_VT)) failedCast(r0);
    s.tmp_0 = jacdac_ServoClient_sync__P36554_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1688; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ServoClient_turnOff__P33990.info = {"start":1124,"length":54,"line":37,"column":8,"endLine":39,"endColumn":9,"fileName":"pxt_modules/jacdac-services/servoclient.ts","functionName":"turnOff","argumentNames":["this"]}

function jacdac_ServoClient_turnOff__P33990_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ServoClient_turnOff__P33990, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_ColorWipe_constructor__P33878(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_ColorWipe__C33877_VT)) failedCast(r0);
    r0 = (s.arg0).fields["color"] = (16777215);
    s.tmp_0 = jacdac_lightanimation_Base_constructor__P33863_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1676; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["color"] = (255);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_ColorWipe_constructor__P33878.info = {"start":12066,"length":91,"line":346,"column":12,"endLine":349,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_lightanimation_ColorWipe_constructor__P33878_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_ColorWipe_constructor__P33878, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_TheaterChase_constructor__P33881(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_TheaterChase__C33880_VT)) failedCast(r0);
    r0 = (s.arg0).fields["color"] = (16777215);
    s.tmp_0 = jacdac_lightanimation_Base_constructor__P33863_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1678; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["color"] = (255);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_TheaterChase_constructor__P33881.info = {"start":12570,"length":91,"line":362,"column":12,"endLine":365,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_lightanimation_TheaterChase_constructor__P33881_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_TheaterChase_constructor__P33881, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_Sparkle_constructor__P33875(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_Sparkle__C33874_VT)) failedCast(r0);
    r0 = (s.arg0).fields["color"] = (16777215);
    r0 = (s.arg0).fields["lastpix"] = (-1);
    s.tmp_0 = jacdac_lightanimation_Base_constructor__P33863_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1672; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["color"] = (16777215);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_Sparkle_constructor__P33875.info = {"start":11295,"length":91,"line":321,"column":12,"endLine":324,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_lightanimation_Sparkle_constructor__P33875_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_Sparkle_constructor__P33875, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_RunningLights_constructor__P33869(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_RunningLights__C33868_VT)) failedCast(r0);
    r0 = (s.arg0).fields["color"] = (16777215);
    s.tmp_0 = jacdac_lightanimation_Base_constructor__P33863_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1665; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["color"] = (16711680);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_RunningLights_constructor__P33869.info = {"start":10177,"length":91,"line":285,"column":12,"endLine":288,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_lightanimation_RunningLights_constructor__P33869_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_RunningLights_constructor__P33869, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_Base_constructor__P33863(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_Base__C33859_VT)) failedCast(r0);
    r0 = (s.arg0).fields["color"] = (16777215);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_Base_constructor__P33863.info = {"start":9083,"length":17,"line":254,"column":12,"endLine":254,"endColumn":29,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_lightanimation_Base_constructor__P33863_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_Base_constructor__P33863, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_lightanimation_Fireflys_constructor__P33885(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_Fireflys__C33883_VT)) failedCast(r0);
    r0 = (s.arg0).fields["color"] = (16777215);
    s.tmp_0 = jacdac_lightanimation_Base_constructor__P33863_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1680; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["color"] = (16776960);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_Fireflys_constructor__P33885.info = {"start":13135,"length":91,"line":381,"column":12,"endLine":384,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_lightanimation_Fireflys_constructor__P33885_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_Fireflys_constructor__P33885, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_Comet_constructor__P33872(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_Comet__C33871_VT)) failedCast(r0);
    r0 = (s.arg0).fields["color"] = (16777215);
    s.tmp_0 = jacdac_lightanimation_Base_constructor__P33863_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1670; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["color"] = (16711935);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_Comet_constructor__P33872.info = {"start":10858,"length":91,"line":306,"column":12,"endLine":309,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_lightanimation_Comet_constructor__P33872_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_Comet_constructor__P33872, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_LightClient_showAnimation__P33857(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.currAnim___43840 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_LightClient__C33849_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["currAnimation"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["currAnimation"] = (s.tmp_1);
    s.currAnim___43840 = (s.tmp_1);
    r0 = pxsim_pxtcore_mkAction(4, inline__P43848);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.currAnim___43840);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.arg2);
    r0 = pxsim.control.runInParallel(s.tmp_0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_LightClient_showAnimation__P33857.info = {"start":6933,"length":1982,"line":199,"column":8,"endLine":245,"endColumn":9,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"showAnimation","argumentNames":["this","animation","duration","color"]}

function jacdac_LightClient_showAnimation__P33857_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_LightClient_showAnimation__P33857, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  currAnim___43840: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function inline__P43848(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___43855 = undefined;
    s.totTime___43857 = undefined;
    s.last___43858 = undefined;
    s.framelen___43871 = undefined;
    s.frames___43872 = undefined;
    s.waitTime___43874 = undefined;
    s.wait___43875 = undefined;
    r0 = s.caps[1].fields["_length"];
    s.tmp_0 = r0;
    r0 = (s.caps[0]).fields["length"] = (s.tmp_0);
    s.tmp_0 = jacdac_lightanimation_Base__C33859_v0_1_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    if (!checkSubtype(s.tmp_0.arg0, jacdac_lightanimation_Base__C33859_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.clear;
    s.pc = 32; return s.tmp_0;
  case 32:
    r0 = s.retval;
    s.buf___43855 = (null);
    s.totTime___43857 = (0);
    s.last___43858 = (false);
    s.tmp_0 = r0 = s.caps[1];
    r0 = s.tmp_0.fields["currAnimation"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["currAnimation"] = (s.tmp_1);
    s.tmp_0 = jacdac_LightClient_runEncoded__P33855_mk(s);
    s.tmp_0.arg0 = s.caps[1];
    s.tmp_0.arg1 = "setall #000000";
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 1658; s.pc = 33; return s.tmp_0;
  case 33:
    r0 = s.retval;
  case 1:
    r0 = s.caps[1].fields["currAnimation"];
    s.tmp_1 = r0;
    r0 = (s.caps[2] != s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    { step = 31; continue; }
  case 2:
  case 3:
    s.framelen___43871 = (0);
    r0 = pxsim_Array__mk();
    s.frames___43872 = (r0);
    s.waitTime___43874 = (0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, 50);
    s.tmp_1 = jacdac_lightEncode__P36534_mk(s);
    s.tmp_1.arg0 = "wait %";
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1659; s.pc = 34; return s.tmp_1;
  case 34:
    r0 = s.retval;
    s.wait___43875 = (r0);
  case 4:
    r0 = pxsim_numops_toBoolDecr(s.buf___43855);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = jacdac_lightanimation_Base__C33859_v1_1_mk(s);
    s.tmp_2.arg0 = s.caps[0];
    if (!checkSubtype(s.tmp_2.arg0, jacdac_lightanimation_Base__C33859_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.nextFrame;
    s.pc = 35; return s.tmp_2;
  case 35:
    r0 = s.retval;
    s.buf___43855 = (r0);
  case 5:
  case 6:
    r0 = pxsim_numops_toBoolDecr(s.buf___43855);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 7:
    r0 = pxsim.BufferMethods.length(s.buf___43855);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 8:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 9; continue; }
    s.last___43858 = (true);
    s.tmp_0 = jacdac_lightanimation_Base__C33859_v0_1_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    if (!checkSubtype(s.tmp_0.arg0, jacdac_lightanimation_Base__C33859_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.clear;
    s.pc = 36; return s.tmp_0;
  case 36:
    r0 = s.retval;
    { step = 19; continue; }
  case 9:
  case 10:
    s.tmp_2 = r0 = s.framelen___43871;
    r0 = pxsim.BufferMethods.length(s.buf___43855);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 220);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    { step = 19; continue; }
  case 11:
  case 12:
    s.tmp_4 = r0 = s.framelen___43871;
    r0 = pxsim.BufferMethods.length(s.buf___43855);
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.length(s.wait___43875);
    s.tmp_7 = r0;
    r0 = (s.tmp_6 + s.tmp_7);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 + s.tmp_5);
    s.framelen___43871 = (r0);
    r0 = pxsim_Array__push(s.frames___43872, s.buf___43855);
    r0 = pxsim_Array__push(s.frames___43872, s.wait___43875);
    s.buf___43855 = (null);
    r0 = (s.waitTime___43874 + 50);
    s.waitTime___43874 = (r0);
    r0 = (s.totTime___43857 + 50);
    s.totTime___43857 = (r0);
    r0 = (s.waitTime___43874 > 500);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 13; continue; }
    r0 = s.tmp_0;
    { step = 16; continue; }
  case 13:
    r0 = (s.caps[3] > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (r0) { step = 14; continue; }
    r0 = s.tmp_1;
    { step = 15; continue; }
  case 14:
    r0 = (s.totTime___43857 >= s.caps[3]);
  case 15:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
  case 16:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 17; continue; }
    { step = 19; continue; }
  case 17:
  case 18:
    { step = 4; continue; }
  case 19:
    r0 = pxsim_numops_toBoolDecr(s.framelen___43871);
    if (!r0) { step = 20; continue; }
    s.tmp_4 = r0 = s.caps[1];
    r0 = s.tmp_4.fields["currAnimation"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 - 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["currAnimation"] = (s.tmp_5);
    s.tmp_0 = jacdac_LightClient_runProgram__P33854_mk(s);
    s.tmp_0.arg0 = s.caps[1];
    s.tmp_1 = Buffer_concat__P29627_mk(s);
    s.tmp_1.arg0 = s.frames___43872;
    s.callLocIdx = 1660; s.pc = 38; return s.tmp_1;
  case 38:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1661; s.pc = 37; return s.tmp_0;
  case 37:
    r0 = s.retval;
  case 20:
  case 21:
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = s.waitTime___43874;
    s.callLocIdx = 1662; s.pc = 39; return s.tmp_0;
  case 39:
    r0 = s.retval;
    r0 = (s.caps[3] > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 22; continue; }
    r0 = s.tmp_0;
    { step = 23; continue; }
  case 22:
    r0 = (s.totTime___43857 >= s.caps[3]);
  case 23:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 24; continue; }
    r0 = s.tmp_1;
    { step = 27; continue; }
  case 24:
    r0 = (s.caps[3] <= 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 25; continue; }
    r0 = s.tmp_2;
    { step = 26; continue; }
  case 25:
    r0 = s.last___43858;
  case 26:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
  case 27:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 28; continue; }
    { step = 30; continue; }
  case 28:
  case 29:
    { step = 1; continue; }
  case 30:
  case 31:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P43848.info = {"start":7094,"length":1810,"line":201,"column":34,"endLine":244,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"inline","argumentNames":[]}

function inline__P43848_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P43848, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  buf___43855: undefined,
  totTime___43857: undefined,
  last___43858: undefined,
  framelen___43871: undefined,
  frames___43872: undefined,
  waitTime___43874: undefined,
  wait___43875: undefined,
} }





function jacdac_lightEncode__P36534(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.outarr___43998 = undefined;
    s.colors___44000 = undefined;
    s.pos___44002 = undefined;
    s.currcmd___44003 = undefined;
    s.pushNumber___44004 = undefined;
    s.flush___44045 = undefined;
    s.nextToken___44098 = undefined;
    s.token___44133 = undefined;
    s.t0___44136 = undefined;
    s.f___44161 = undefined;
    s.mm___44184 = undefined;
    s.v___44226 = undefined;
    s.v___44243 = undefined;
    s.vv___44255 = undefined;
    s.unnamed542___U14 = undefined;
    s.unnamed543___U15 = undefined;
    s.b___44264 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.outarr___43998 = (r0);
    r0 = pxsim_pxtrt.mklocRef();
    s.colors___44000 = (r0);
    s.tmp_0 = r0 = s.colors___44000;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtrt.mklocRef();
    s.pos___44002 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.pos___44002, 0);
    r0 = pxsim_pxtrt.mklocRef();
    s.currcmd___44003 = (r0);
    r0 = pxsim_pxtrt_stlocRef(s.currcmd___44003, 0);
    r0 = pxsim_pxtcore_mkAction(1, pushNumber__P44004);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.outarr___43998);
    s.pushNumber___44004 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(3, flush__P44045);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.currcmd___44003);
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 1, s.colors___44000);
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 2, s.outarr___43998);
    s.flush___44045 = (s.tmp_1);
    r0 = pxsim_pxtcore_mkAction(2, nextToken__P44098);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 1, s.pos___44002);
    s.nextToken___44098 = (s.tmp_2);
  case 1:
    r0 = pxsim_pxtrt_ldlocRef(s.pos___44002);
    s.tmp_4 = r0;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 < s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 38; continue; }
    s.tmp_6 = lambda_1_mk(s);
    s.tmp_6.argL = s.nextToken___44098;
    setupLambda(s.tmp_6, s.tmp_6.argL);
    s.callLocIdx = 1633; s.pc = 39; return s.tmp_6;
  case 39:
    r0 = s.retval;
    s.token___44133 = (r0);
    r0 = pxsim_String_.charCodeAt(s.token___44133, 0);
    s.t0___44136 = (r0);
    r0 = (97 <= s.t0___44136);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.t0___44136 <= 122);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 14; continue; }
    s.tmp_2 = lambda_1_mk(s);
    s.tmp_2.argL = s.flush___44045;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.callLocIdx = 1634; s.pc = 40; return s.tmp_2;
  case 40:
    r0 = s.retval;
    s.tmp_0 = r0 = s.currcmd___44003;
    s.tmp_2 = jacdac_cmdCode__P36532_mk(s);
    s.tmp_2.arg0 = s.token___44133;
    s.callLocIdx = 1635; s.pc = 41; return s.tmp_2;
  case 41:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtrt_ldlocRef(s.currcmd___44003);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    if ((s.token___44133) && (s.token___44133).vtable) {
    setupResume(s, 42);
    pxsim_String__stringConv(s.token___44133);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.token___44133) + ""; }
  case 42:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("Unknown light command: ", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_pxtcore.throwValue(s.tmp_2);
  case 4:
  case 5:
    r0 = pxsim_pxtrt_ldlocRef(s.currcmd___44003);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 == 256);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 12; continue; }
    s.tmp_7 = lambda_1_mk(s);
    s.tmp_7.argL = s.nextToken___44098;
    setupLambda(s.tmp_7, s.tmp_7.argL);
    s.callLocIdx = 1636; s.pc = 43; return s.tmp_7;
  case 43:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String_.toNumber(s.tmp_6);
    s.f___44161 = (r0);
    s.tmp_1 = isNaN__P29518_mk(s);
    s.tmp_1.arg0 = s.f___44161;
    s.callLocIdx = 1637; s.pc = 44; return s.tmp_1;
  case 44:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 6:
    r0 = (s.f___44161 < 0);
  case 7:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 8; continue; }
    r0 = s.tmp_2;
    { step = 9; continue; }
  case 8:
    r0 = (s.f___44161 > 2);
  case 9:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 10; continue; }
    r0 = pxsim_pxtcore.throwValue("expecting scale");
  case 10:
  case 11:
    r0 = pxsim_Array__push(s.outarr___43998, 216);
    r0 = pxsim_Array__push(s.outarr___43998, 3);
    r0 = pxsim_Array__push(s.outarr___43998, 208);
    s.tmp_0 = Math_clamp__P29549_mk(s);
    s.tmp_0.arg0 = 0;
    s.tmp_0.arg1 = 255;
    r0 = (128 * s.f___44161);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.round(s.tmp_1);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1638; s.pc = 45; return s.tmp_0;
  case 45:
    r0 = s.retval;
    s.mm___44184 = (r0);
    r0 = pxsim_Array__push(s.outarr___43998, 193);
    r0 = pxsim_Array__push(s.outarr___43998, s.mm___44184);
    r0 = pxsim_Array__push(s.outarr___43998, s.mm___44184);
    r0 = pxsim_Array__push(s.outarr___43998, s.mm___44184);
    { step = 13; continue; }
  case 12:
    s.tmp_0 = r0 = s.outarr___43998;
    r0 = pxsim_pxtrt_ldlocRef(s.currcmd___44003);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
  case 13:
    { step = 37; continue; }
  case 14:
    r0 = (48 <= s.t0___44136);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 15; continue; }
    r0 = s.tmp_0;
    { step = 16; continue; }
  case 15:
    r0 = (s.t0___44136 <= 57);
  case 16:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 17; continue; }
    s.tmp_2 = lambda_2_mk(s);
    s.tmp_2.argL = s.pushNumber___44004;
    s.tmp_3 = parseInt__P29522_mk(s);
    s.tmp_3.arg0 = s.token___44133;
    s.tmp_3.arg1 = undefined;
    s.callLocIdx = 1639; s.pc = 47; return s.tmp_3;
  case 47:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.callLocIdx = 1640; s.pc = 46; return s.tmp_2;
  case 46:
    r0 = s.retval;
    { step = 36; continue; }
  case 17:
    r0 = (s.t0___44136 == 37);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    r0 = pxsim_Array__length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 18; continue; }
    r0 = pxsim_pxtcore.throwValue("Out of args, %");
  case 18:
  case 19:
    r0 = pxsim_Array_.removeAt(s.arg1, 0);
    s.v___44226 = (r0);
    r0 = pxsim_pxtcore.typeOf(s.v___44226);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != "number");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    r0 = pxsim_pxtcore.throwValue("Expecting number");
  case 20:
  case 21:
    s.tmp_2 = lambda_2_mk(s);
    s.tmp_2.argL = s.pushNumber___44004;
    s.tmp_2.arg0 = s.v___44226;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.callLocIdx = 1642; s.pc = 48; return s.tmp_2;
  case 48:
    r0 = s.retval;
    { step = 35; continue; }
  case 22:
    r0 = (s.t0___44136 == 35);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 33; continue; }
    r0 = pxsim_String_.length(s.token___44133);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == 1);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 29; continue; }
    r0 = pxsim_Array__length(s.arg1);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == 0);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 23; continue; }
    r0 = pxsim_pxtcore.throwValue("Out of args, #");
  case 23:
  case 24:
    r0 = pxsim_Array_.removeAt(s.arg1, 0);
    s.v___44243 = (r0);
    r0 = pxsim_pxtcore.typeOf(s.v___44243);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == "number");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 25; continue; }
    r0 = pxsim_pxtrt_ldlocRef(s.colors___44000);
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.v___44243);
    { step = 28; continue; }
  case 25:
    s.vv___44255 = (undefined);
    s.unnamed542___U14 = (s.v___44243);
    s.unnamed543___U15 = (0);
  case 26:
    s.tmp_0 = r0 = s.unnamed543___U15;
    r0 = pxsim_Array__length(s.unnamed542___U14);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 27; continue; }
    r0 = pxsim_Array__getAt(s.unnamed542___U14, s.unnamed543___U15);
    s.vv___44255 = (r0);
    r0 = pxsim_pxtrt_ldlocRef(s.colors___44000);
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.vv___44255);
    r0 = (s.unnamed543___U15 + 1);
    s.unnamed543___U15 = (r0);
    { step = 26; continue; }
  case 27:
    s.unnamed542___U14 = (undefined);
  case 28:
    { step = 32; continue; }
  case 29:
    r0 = pxsim_String_.length(s.token___44133);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 7);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 30; continue; }
    s.tmp_2 = Buffer_fromHex__P29623_mk(s);
    s.tmp_5 = helpers_stringSlice__P29542_mk(s);
    s.tmp_5.arg0 = s.token___44133;
    s.tmp_5.arg1 = 1;
    s.tmp_5.arg2 = undefined;
    s.callLocIdx = 1644; s.pc = 50; return s.tmp_5;
  case 50:
    r0 = s.retval;
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 51);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 51:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("00", s.tmp_3);
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 1645; s.pc = 49; return s.tmp_2;
  case 49:
    r0 = s.retval;
    s.b___44264 = (r0);
    r0 = pxsim_pxtrt_ldlocRef(s.colors___44000);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.b___44264, 12, 0);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    { step = 31; continue; }
  case 30:
    if ((s.token___44133) && (s.token___44133).vtable) {
    setupResume(s, 52);
    pxsim_String__stringConv(s.token___44133);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.token___44133) + ""; }
  case 52:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("Invalid color: ", s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.throwValue(s.tmp_0);
  case 31:
  case 32:
  case 33:
  case 34:
  case 35:
  case 36:
  case 37:
    { step = 1; continue; }
  case 38:
    s.tmp_2 = lambda_1_mk(s);
    s.tmp_2.argL = s.flush___44045;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.callLocIdx = 1646; s.pc = 53; return s.tmp_2;
  case 53:
    r0 = s.retval;
    s.tmp_0 = Buffer_fromArray__P29626_mk(s);
    s.tmp_0.arg0 = s.outarr___43998;
    s.callLocIdx = 1647; s.pc = 54; return s.tmp_0;
  case 54:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightEncode__P36534.info = {"start":702,"length":3899,"line":23,"column":4,"endLine":132,"endColumn":5,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"lightEncode","argumentNames":["format","args"]}

function jacdac_lightEncode__P36534_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightEncode__P36534, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  outarr___43998: undefined,
  colors___44000: undefined,
  pos___44002: undefined,
  currcmd___44003: undefined,
  pushNumber___44004: undefined,
  flush___44045: undefined,
  nextToken___44098: undefined,
  token___44133: undefined,
  t0___44136: undefined,
  f___44161: undefined,
  mm___44184: undefined,
  v___44226: undefined,
  v___44243: undefined,
  vv___44255: undefined,
  unnamed542___U14: undefined,
  unnamed543___U15: undefined,
  b___44264: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function pushNumber__P44004(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg0 | 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != s.arg0);
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_2;
    { step = 4; continue; }
  case 3:
    r0 = (s.arg0 < 0);
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_3;
    { step = 6; continue; }
  case 5:
    r0 = (s.arg0 >= 16383);
  case 6:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 7; continue; }
    if ((s.arg0) && (s.arg0).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.arg0);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg0) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat("light: number out of range: ", s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_pxtcore.throwValue(s.tmp_5);
  case 7:
  case 8:
    r0 = (s.arg0 < 128);
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 9; continue; }
    r0 = pxsim_Array__push(s.caps[0], s.arg0);
    { step = 10; continue; }
  case 9:
    s.tmp_0 = r0 = s.caps[0];
    r0 = (s.arg0 >> 8);
    s.tmp_2 = r0;
    r0 = (128 | s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_0 = r0 = s.caps[0];
    r0 = (s.arg0 & 255);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
  case 10:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
pushNumber__P44004.info = {"start":1160,"length":337,"line":37,"column":8,"endLine":46,"endColumn":9,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"pushNumber","argumentNames":["n"]}

function pushNumber__P44004_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pushNumber__P44004, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
} }





function flush__P44045(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.c___44073 = undefined;
    s.unnamed540___U1 = undefined;
    s.unnamed541___U2 = undefined;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[0]);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 207);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_4 = r0;
    r0 = pxsim_Array__length(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 != 1);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.throwValue("setone requires 1 color");
  case 1:
  case 2:
    { step = 8; continue; }
  case 3:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_7 = r0;
    r0 = pxsim_Array__length(s.tmp_7);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 == 0);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 4; continue; }
    { step = 11; continue; }
  case 4:
  case 5:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_10 = r0;
    r0 = pxsim_Array__length(s.tmp_10);
    s.tmp_9 = r0;
    r0 = (s.tmp_9 <= 3);
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 6; continue; }
    s.tmp_11 = r0 = s.caps[2];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_14 = r0;
    r0 = pxsim_Array__length(s.tmp_14);
    s.tmp_13 = r0;
    r0 = (192 | s.tmp_13);
    s.tmp_12 = r0;
    r0 = pxsim_Array__push(s.tmp_11, s.tmp_12);
    { step = 7; continue; }
  case 6:
    r0 = pxsim_Array__push(s.caps[2], 192);
    s.tmp_0 = r0 = s.caps[2];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_2 = r0;
    r0 = pxsim_Array__length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
  case 7:
  case 8:
    s.c___44073 = (undefined);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.unnamed540___U1 = (r0);
    s.unnamed541___U2 = (0);
  case 9:
    s.tmp_0 = r0 = s.unnamed541___U2;
    r0 = pxsim_Array__length(s.unnamed540___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 10; continue; }
    r0 = pxsim_Array__getAt(s.unnamed540___U1, s.unnamed541___U2);
    s.c___44073 = (r0);
    s.tmp_2 = r0 = s.caps[2];
    r0 = (s.c___44073 >> 16);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 255);
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_3);
    s.tmp_0 = r0 = s.caps[2];
    r0 = (s.c___44073 >> 8);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 255);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_0 = r0 = s.caps[2];
    r0 = (s.c___44073 >> 0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 255);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = (s.unnamed541___U2 + 1);
    s.unnamed541___U2 = (r0);
    { step = 9; continue; }
  case 10:
    s.unnamed540___U1 = (undefined);
    s.tmp_0 = r0 = s.caps[1];
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
  case 11:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
flush__P44045.info = {"start":1507,"length":687,"line":48,"column":8,"endLine":68,"endColumn":9,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"flush","argumentNames":[]}

function flush__P44045_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: flush__P44045, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  c___44073: undefined,
  unnamed540___U1: undefined,
  unnamed541___U2: undefined,
} }





function nextToken__P44098(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.beg___44107 = undefined;
  case 1:
    s.tmp_1 = jacdac_isWhiteSpace__P36533_mk(s);
    s.tmp_2 = r0 = s.caps[0];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_3 = r0;
    r0 = pxsim_String_.charCodeAt(s.tmp_2, s.tmp_3);
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 1630; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_4 = r0 = s.caps[1];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + 1);
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_4, s.tmp_5);
    { step = 1; continue; }
  case 2:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.beg___44107 = (r0);
  case 3:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_1 = r0;
    r0 = pxsim_String_.length(s.caps[0]);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_0;
    { step = 5; continue; }
  case 4:
    s.tmp_5 = jacdac_isWhiteSpace__P36533_mk(s);
    s.tmp_6 = r0 = s.caps[0];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_7 = r0;
    r0 = pxsim_String_.charCodeAt(s.tmp_6, s.tmp_7);
    s.tmp_5.arg0 = r0;
    s.callLocIdx = 1631; s.pc = 8; return s.tmp_5;
  case 8:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
  case 5:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 6; continue; }
    s.tmp_9 = r0 = s.caps[1];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_11 = r0;
    r0 = (s.tmp_11 + 1);
    s.tmp_10 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_9, s.tmp_10);
    { step = 3; continue; }
  case 6:
    s.tmp_0 = helpers_stringSlice__P29542_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.beg___44107;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1632; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
nextToken__P44098.info = {"start":2204,"length":286,"line":70,"column":8,"endLine":78,"endColumn":9,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"nextToken","argumentNames":[]}

function nextToken__P44098_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: nextToken__P44098, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  beg___44107: undefined,
} }





function jacdac_isWhiteSpace__P36533(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 == 32);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg0 == 13);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_1;
    { step = 4; continue; }
  case 3:
    r0 = (s.arg0 == 10);
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_2;
    { step = 6; continue; }
  case 5:
    r0 = (s.arg0 == 9);
  case 6:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = s.tmp_3;
    return leave(s, r0)
  default: oops()
} } }
jacdac_isWhiteSpace__P36533.info = {"start":586,"length":110,"line":19,"column":4,"endLine":21,"endColumn":5,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"isWhiteSpace","argumentNames":["code"]}

function jacdac_isWhiteSpace__P36533_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_isWhiteSpace__P36533, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_cmdCode__P36532(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq("setall", s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq("fade", s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq("fadehsv", s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq("rotfwd", s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq("rotback", s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq("show", s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq("wait", s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq("range", s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = pxsim_pxtcore.switch_eq("mode", s.tmp_0);
    if (r0) { step = 9; continue; }
    r0 = pxsim_pxtcore.switch_eq("tmpmode", s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = pxsim_pxtcore.switch_eq("setone", s.tmp_0);
    if (r0) { step = 11; continue; }
    r0 = pxsim_pxtcore.switch_eq("mult", s.tmp_0);
    if (r0) { step = 12; continue; }
    r0 = s.tmp_0;
    { step = 13; continue; }
  case 1:
    r0 = 208;
    { step = 14; continue; }
  case 2:
    r0 = 209;
    { step = 14; continue; }
  case 3:
    r0 = 210;
    { step = 14; continue; }
  case 4:
    r0 = 211;
    { step = 14; continue; }
  case 5:
    r0 = 212;
    { step = 14; continue; }
  case 6:
  case 7:
    r0 = 213;
    { step = 14; continue; }
  case 8:
    r0 = 214;
    { step = 14; continue; }
  case 9:
    r0 = 215;
    { step = 14; continue; }
  case 10:
    r0 = 216;
    { step = 14; continue; }
  case 11:
    r0 = 207;
    { step = 14; continue; }
  case 12:
    r0 = 256;
    { step = 14; continue; }
  case 13:
    r0 = undefined;
    { step = 14; continue; }
    r0 = undefined;
  case 14:
    return leave(s, r0)
  default: oops()
} } }
jacdac_cmdCode__P36532.info = {"start":23,"length":557,"line":1,"column":4,"endLine":17,"endColumn":5,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"cmdCode","argumentNames":["cmd"]}

function jacdac_cmdCode__P36532_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_cmdCode__P36532, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Buffer_fromArray__P29626(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___44291 = undefined;
    s.i___44296 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.tmp_0 = r0;
    r0 = pxsim.control.createBuffer(s.tmp_0);
    s.buf___44291 = (r0);
    s.i___44296 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___44296;
    r0 = pxsim_Array__length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_3 = r0 = s.buf___44291;
    s.tmp_4 = r0 = s.i___44296;
    r0 = pxsim_Array__getAt(s.arg0, s.i___44296);
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.setByte(s.tmp_3, s.tmp_4, s.tmp_5);
    r0 = (s.i___44296 + 1);
    s.i___44296 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = s.buf___44291;
    return leave(s, r0)
  default: oops()
} } }
Buffer_fromArray__P29626.info = {"start":8852,"length":192,"line":315,"column":4,"endLine":320,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"fromArray","argumentNames":["bytes"]}

function Buffer_fromArray__P29626_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_fromArray__P29626, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  buf___44291: undefined,
  i___44296: undefined,
  arg0: undefined,
} }





function isNaN__P29518(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 - 0);
    s.arg0 = (r0);
    r0 = (s.arg0 !== s.arg0);
    return leave(s, r0)
  default: oops()
} } }
isNaN__P29518.info = {"start":169,"length":80,"line":12,"column":0,"endLine":15,"endColumn":1,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"isNaN","argumentNames":["x"]}

function isNaN__P29518_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: isNaN__P29518, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_lightanimation_Base_nextFrame__P33865(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_Base__C33859_VT)) failedCast(r0);
    r0 = null;
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_Base_nextFrame__P33865.info = {"start":9179,"length":63,"line":258,"column":12,"endLine":260,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"nextFrame","argumentNames":["this"]}

function jacdac_lightanimation_Base_nextFrame__P33865_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_Base_nextFrame__P33865, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_lightanimation_Base_clear__P33864(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_Base__C33859_VT)) failedCast(r0);
    r0 = (s.arg0).fields["step"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_Base_clear__P33864.info = {"start":9113,"length":53,"line":255,"column":12,"endLine":257,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"clear","argumentNames":["this"]}

function jacdac_lightanimation_Base_clear__P33864_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_Base_clear__P33864, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_LightClient_runProgram__P33854(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_LightClient__C33849_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["currAnimation"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["currAnimation"] = (s.tmp_1);
    s.tmp_0 = jacdac_Client_sendCommandWithAck__P33547_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_1.arg0 = 129;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 1653; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1654; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_LightClient_runProgram__P33854.info = {"start":5756,"length":146,"line":167,"column":8,"endLine":170,"endColumn":9,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"runProgram","argumentNames":["this","prog"]}

function jacdac_LightClient_runProgram__P33854_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_LightClient_runProgram__P33854, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Buffer_concat__P29627(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___43957 = undefined;
    s.b___43959 = undefined;
    s.unnamed474___U2 = undefined;
    s.unnamed475___U3 = undefined;
    s.r___43966 = undefined;
    s.b___43972 = undefined;
    s.unnamed476___U6 = undefined;
    s.unnamed477___U7 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.len___43957 = (0);
    s.b___43959 = (undefined);
    s.unnamed474___U2 = (s.arg0);
    s.unnamed475___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed475___U3;
    r0 = pxsim_Array__length(s.unnamed474___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed474___U2, s.unnamed475___U3);
    s.b___43959 = (r0);
    s.tmp_2 = r0 = s.len___43957;
    r0 = pxsim.BufferMethods.length(s.b___43959);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.len___43957 = (r0);
    r0 = (s.unnamed475___U3 + 1);
    s.unnamed475___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed474___U2 = (undefined);
    r0 = pxsim.control.createBuffer(s.len___43957);
    s.r___43966 = (r0);
    s.len___43957 = (0);
    s.b___43972 = (undefined);
    s.unnamed476___U6 = (s.arg0);
    s.unnamed477___U7 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed477___U7;
    r0 = pxsim_Array__length(s.unnamed476___U6);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed476___U6, s.unnamed477___U7);
    s.b___43972 = (r0);
    r0 = pxsim.BufferMethods.write(s.r___43966, s.len___43957, s.b___43972);
    s.tmp_0 = r0 = s.len___43957;
    r0 = pxsim.BufferMethods.length(s.b___43972);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.len___43957 = (r0);
    r0 = (s.unnamed477___U7 + 1);
    s.unnamed477___U7 = (r0);
    { step = 3; continue; }
  case 4:
    s.unnamed476___U6 = (undefined);
    r0 = s.r___43966;
    return leave(s, r0)
  default: oops()
} } }
Buffer_concat__P29627.info = {"start":9110,"length":297,"line":325,"column":4,"endLine":336,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"concat","argumentNames":["buffers"]}

function Buffer_concat__P29627_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Buffer_concat__P29627, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  len___43957: undefined,
  b___43959: undefined,
  unnamed474___U2: undefined,
  unnamed475___U3: undefined,
  r___43966: undefined,
  b___43972: undefined,
  unnamed476___U6: undefined,
  unnamed477___U7: undefined,
  arg0: undefined,
} }





function jacdac_LightClient_runEncoded__P33855(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_LightClient__C33849_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    s.arg2 = (r0);
  case 1:
  case 2:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["currAnimation"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["currAnimation"] = (s.tmp_1);
    s.tmp_0 = jacdac_Client_sendCommand__P33546_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_1.arg0 = 129;
    s.tmp_2 = jacdac_lightEncode__P36534_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.tmp_2.arg1 = s.arg2;
    s.callLocIdx = 1655; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1656; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1657; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_LightClient_runEncoded__P33855.info = {"start":5912,"length":208,"line":172,"column":8,"endLine":176,"endColumn":9,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"runEncoded","argumentNames":["this","prog","args"]}

function jacdac_LightClient_runEncoded__P33855_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_LightClient_runEncoded__P33855, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_LightClient_setStrip__P33852(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_LightClient__C33849_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_length"] = (s.arg1);
    s.tmp_0 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 129;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 1649; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 128;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 1650; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 7;
    s.tmp_0.arg2 = s.arg3;
    s.callLocIdx = 1651; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_LightClient_setStrip__P33852.info = {"start":4957,"length":295,"line":148,"column":8,"endLine":153,"endColumn":9,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"setStrip","argumentNames":["this","numpixels","type","maxpower"]}

function jacdac_LightClient_setStrip__P33852_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_LightClient_setStrip__P33852, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_LightClient_setBrightness__P33853(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_LightClient__C33849_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 1652; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_LightClient_setBrightness__P33853.info = {"start":5641,"length":105,"line":163,"column":8,"endLine":165,"endColumn":9,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"setBrightness","argumentNames":["this","brightness"]}

function jacdac_LightClient_setBrightness__P33853_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_LightClient_setBrightness__P33853, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_LightClient_constructor__P33850(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_LightClient__C33849_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_length"] = (10);
    r0 = (s.arg0).fields["currAnimation"] = (0);
    s.tmp_0 = jacdac_Client_constructor__P33538_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "light";
    s.tmp_0.arg2 = 309264608;
    s.tmp_0.arg3 = s.arg1;
    s.callLocIdx = 1648; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_LightClient_constructor__P33850.info = {"start":4811,"length":114,"line":142,"column":8,"endLine":144,"endColumn":9,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"inline","argumentNames":["this","requiredDevice"]}

function jacdac_LightClient_constructor__P33850_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_LightClient_constructor__P33850, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_AccelerometerClient_constructor__P33799(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_AccelerometerClient__C33798_VT)) failedCast(r0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    s.tmp_0 = jacdac_SensorClient_constructor__P33771_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "acc";
    s.tmp_0.arg2 = 521405449;
    s.tmp_0.arg3 = s.arg1;
    s.callLocIdx = 1624; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_AccelerometerClient_constructor__P33799.info = {"start":110,"length":120,"line":3,"column":8,"endLine":5,"endColumn":9,"fileName":"pxt_modules/jacdac-services/accelerometerclient.ts","functionName":"inline","argumentNames":["this","requiredDevice"]}

function jacdac_AccelerometerClient_constructor__P33799_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_AccelerometerClient_constructor__P33799, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_SensorClient_setStreaming__P33773(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C33769_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Client_start__P33551_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1602; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = (s.arg0).fields["isStreaming"] = (s.arg1);
    r0 = s.arg0.fields["isStreaming"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 1;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.tmp_2 = jacdac_Client_setRegInt__P33549_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = 3;
    s.tmp_2.arg2 = s.tmp_1;
    s.callLocIdx = 1603; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_setStreaming__P33773.info = {"start":893,"length":175,"line":28,"column":8,"endLine":32,"endColumn":9,"fileName":"pxt_modules/jacdac-services/sensorclient.ts","functionName":"setStreaming","argumentNames":["this","on"]}

function jacdac_SensorClient_setStreaming__P33773_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_setStreaming__P33773, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function ServiceDesc_constructor__P34251(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ServiceDesc__C34250_VT)) failedCast(r0);
    r0 = (s.arg0).fields["classNum"] = (s.arg1);
    r0 = (s.arg0).fields["name"] = (s.arg2);
    r0 = (s.arg0).fields["testFn"] = (s.arg3);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ServiceDesc_constructor__P34251.info = {"start":24,"length":130,"line":1,"column":4,"endLine":5,"endColumn":9,"fileName":"services.ts","functionName":"inline","argumentNames":["this","classNum","name","testFn"]}

function ServiceDesc_constructor__P34251_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ServiceDesc_constructor__P34251, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_WifiController_constructor__P34073(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    r0 = undefined;
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["sockets"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiController_constructor__P34073.info = {"start":3922,"length":75,"line":133,"column":8,"endLine":136,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"inline","argumentNames":["this"]}

function jacdac_WifiController_constructor__P34073_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_constructor__P34073, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function net_Controller_constructor__P34104(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_constructor__P34104.info = {"start":54,"length":17,"line":2,"column":8,"endLine":2,"endColumn":25,"fileName":"pxt_modules/net/controller.ts","functionName":"inline","argumentNames":["this"]}

function net_Controller_constructor__P34104_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_constructor__P34104, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function net_Net_constructor__P34168(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Net__C34167_VT)) failedCast(r0);
    r0 = (s.arg0).fields["factory"] = (s.arg1);
    globals.net_Net_instance___34169 = (s.arg0);
    r0 = (s.arg0).fields["_controller"] = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Net_constructor__P34168.info = {"start":1333,"length":162,"line":48,"column":8,"endLine":51,"endColumn":9,"fileName":"pxt_modules/net/net.ts","functionName":"inline","argumentNames":["this","factory"]}

function net_Net_constructor__P34168_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Net_constructor__P34168, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_RotaryEncoderClient_constructor__P34033(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_RotaryEncoderClient__C34032_VT)) failedCast(r0);
    r0 = (s.arg0).fields["isStreaming"] = (false);
    r0 = (s.arg0).fields["scale"] = (1);
    s.tmp_0 = jacdac_SensorClient_constructor__P33771_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "crank";
    s.tmp_0.arg2 = 284830153;
    s.tmp_0.arg3 = s.arg1;
    s.callLocIdx = 1700; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_RotaryEncoderClient_constructor__P34033.info = {"start":110,"length":123,"line":3,"column":8,"endLine":5,"endColumn":9,"fileName":"pxt_modules/jacdac-services/rotaryencoderclient.ts","functionName":"inline","argumentNames":["this","requiredDevice"]}

function jacdac_RotaryEncoderClient_constructor__P34033_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_RotaryEncoderClient_constructor__P34033, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function game_eventContext__P31993(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = game_init__P34678_mk(s);
    s.tmp_0.arg0 = undefined;
    s.callLocIdx = 948; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = globals._scene___34670.fields["eventContext"];
    return leave(s, r0)
  default: oops()
} } }
game_eventContext__P31993.info = {"start":1084,"length":112,"line":40,"column":4,"endLine":43,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"eventContext","argumentNames":[]}

function game_eventContext__P31993_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_eventContext__P31993, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function controller_pauseUntilAnyButtonIsPressed__P31414(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    setupResume(s, 1);
    pxsim.control.waitForEvent(2049, 0);
    checkResumeConsumed();
    return;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_pauseUntilAnyButtonIsPressed__P31414.info = {"start":19144,"length":96,"line":583,"column":4,"endLine":585,"endColumn":5,"fileName":"pxt_modules/game/controller.ts","functionName":"pauseUntilAnyButtonIsPressed","argumentNames":[]}

function controller_pauseUntilAnyButtonIsPressed__P31414_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_pauseUntilAnyButtonIsPressed__P31414, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function game_setWaitAnyButton__P31991(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    globals.__waitAnyButton___34674 = (s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_setWaitAnyButton__P31991.info = {"start":878,"length":83,"line":31,"column":4,"endLine":33,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"setWaitAnyButton","argumentNames":["f"]}

function game_setWaitAnyButton__P31991_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_setWaitAnyButton__P31991, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function controller___internal_initVibration__P35197(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals.vibrationPin___35194);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.pins.pinByCfg(76);
    globals.vibrationPin___35194 = (r0);
  case 1:
  case 2:
    globals.vibrationEnd___35195 = (-1);
    s.tmp_0 = control_EventContext_registerFrameHandler__P29819_mk(s);
    r0 = s.arg0.fields["eventContext"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 20;
    s.tmp_0.arg2 = controller___internal_updateVibration__P35196;
    s.callLocIdx = 1320; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller___internal_initVibration__P35197.info = {"start":5979,"length":250,"line":177,"column":4,"endLine":182,"endColumn":5,"fileName":"pxt_modules/controller/controllerimpl.ts","functionName":"initVibration","argumentNames":["s"]}

function controller___internal_initVibration__P35197_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller___internal_initVibration__P35197, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function controller___internal_updateVibration__P35196(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = (globals.vibrationEnd___35195 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_1 = r0 = globals.vibrationEnd___35195;
    r0 = pxsim.control.millis();
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_numops_toBoolDecr(globals.vibrationPin___35194);
    if (!r0) { step = 3; continue; }
    r0 = pxsim.DigitalInOutPinMethods.digitalWrite(globals.vibrationPin___35194, false);
  case 3:
  case 4:
    globals.vibrationEnd___35195 = (-1);
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller___internal_updateVibration__P35196.info = {"start":5711,"length":262,"line":168,"column":4,"endLine":175,"endColumn":5,"fileName":"pxt_modules/controller/controllerimpl.ts","functionName":"updateVibration","argumentNames":[]}

function controller___internal_updateVibration__P35196_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller___internal_updateVibration__P35196, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
} }





function controller_initController__P35185(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = control_EventContext_registerFrameHandler__P29819_mk(s);
    r0 = s.arg0.fields["eventContext"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 13;
    s.tmp_0.arg2 = controller_updateController__P35184;
    s.callLocIdx = 1319; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_initController__P35185.info = {"start":1764,"length":144,"line":54,"column":4,"endLine":56,"endColumn":5,"fileName":"pxt_modules/controller/state.ts","functionName":"initController","argumentNames":["s"]}

function controller_initController__P35185_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_initController__P35185, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function controller_updateController__P35184(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.state___48449 = undefined;
    s.handler___48456 = undefined;
    s.customHandler___48473 = undefined;
    s.handler___48499 = undefined;
    s.tmp_0 = controller_sceneState__P32573_mk(s);
    s.callLocIdx = 1298; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    s.state___48449 = (r0);
    s.tmp_2 = if_lastGesture_1_mk(s);
    s.tmp_2.arg0 = s.state___48449;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "lastGesture");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["lastGesture"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["lastGesture"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 1299; s.pc = 20; return s.tmp_2; }
    }
  case 20:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_4 = if_gestureHandlers_1_mk(s);
    s.tmp_4.arg0 = s.state___48449;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "gestureHandlers");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["gestureHandlers"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["gestureHandlers"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 1300; s.pc = 21; return s.tmp_4; }
    }
  case 21:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_3;
    { step = 2; continue; }
  case 1:
    s.tmp_6 = if_gestureHandlers_1_mk(s);
    s.tmp_6.arg0 = s.state___48449;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "gestureHandlers");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["gestureHandlers"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["gestureHandlers"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 1301; s.pc = 22; return s.tmp_6; }
    }
  case 22:
    r0 = s.retval;
    s.tmp_5 = r0;
    s.tmp_8 = if_lastGesture_1_mk(s);
    s.tmp_8.arg0 = s.state___48449;
    if (!s.tmp_8.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_8.arg0, "lastGesture");
    } else {
      s.tmp_8.fn = s.tmp_8.arg0.vtable.iface["lastGesture"];
      if (s.tmp_8.fn == null) { s.retval = s.tmp_8.arg0.fields["lastGesture"]; }
      else if (!s.tmp_8.fn.isGetter) { s.retval = bind(s.tmp_8); }
     else { s.callLocIdx = 1302; s.pc = 23; return s.tmp_8; }
    }
  case 23:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_5, s.tmp_7);
  case 2:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    s.handler___48456 = (s.tmp_9);
    r0 = pxsim_numops_toBoolDecr(s.handler___48456);
    if (!r0) { step = 3; continue; }
    s.tmp_0 = if_lastGesture_2_mk(s);
    s.tmp_0.arg0 = s.state___48449;
    s.tmp_0.arg1 = undefined;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "lastGesture", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/lastGesture"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["lastGesture"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 1303; s.pc = 24; return s.tmp_0; }
    }
  case 24:
    r0 = s.retval;
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.handler___48456;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 1304; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
  case 3:
  case 4:
  case 5:
  case 6:
    s.tmp_2 = if_lastCustomGesture_1_mk(s);
    s.tmp_2.arg0 = s.state___48449;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "lastCustomGesture");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["lastCustomGesture"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["lastCustomGesture"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 1305; s.pc = 26; return s.tmp_2; }
    }
  case 26:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.tmp_4 = if_customGestureHandlers_1_mk(s);
    s.tmp_4.arg0 = s.state___48449;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "customGestureHandlers");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["customGestureHandlers"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["customGestureHandlers"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 1306; s.pc = 27; return s.tmp_4; }
    }
  case 27:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_3;
    { step = 8; continue; }
  case 7:
    s.tmp_6 = if_customGestureHandlers_1_mk(s);
    s.tmp_6.arg0 = s.state___48449;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "customGestureHandlers");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["customGestureHandlers"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["customGestureHandlers"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 1307; s.pc = 28; return s.tmp_6; }
    }
  case 28:
    r0 = s.retval;
    s.tmp_5 = r0;
    s.tmp_8 = if_lastCustomGesture_1_mk(s);
    s.tmp_8.arg0 = s.state___48449;
    if (!s.tmp_8.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_8.arg0, "lastCustomGesture");
    } else {
      s.tmp_8.fn = s.tmp_8.arg0.vtable.iface["lastCustomGesture"];
      if (s.tmp_8.fn == null) { s.retval = s.tmp_8.arg0.fields["lastCustomGesture"]; }
      else if (!s.tmp_8.fn.isGetter) { s.retval = bind(s.tmp_8); }
     else { s.callLocIdx = 1308; s.pc = 29; return s.tmp_8; }
    }
  case 29:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_5, s.tmp_7);
  case 8:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    s.customHandler___48473 = (s.tmp_9);
    r0 = pxsim_numops_toBoolDecr(s.customHandler___48473);
    if (!r0) { step = 9; continue; }
    s.tmp_0 = if_lastCustomGesture_2_mk(s);
    s.tmp_0.arg0 = s.state___48449;
    s.tmp_0.arg1 = undefined;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "lastCustomGesture", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/lastCustomGesture"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["lastCustomGesture"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 1309; s.pc = 30; return s.tmp_0; }
    }
  case 30:
    r0 = s.retval;
    s.tmp_0 = if_handler_1_mk(s);
    s.tmp_0.arg0 = s.customHandler___48473;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "handler"), 1);
      s.callLocIdx = 1310; s.pc = 31; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["handler"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["handler"], 1); s.callLocIdx = 1310; s.pc = 31; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1310; s.pc = 31; return s.tmp_0;; }
     else { s.callLocIdx = 1310; s.pc = 31; return s.tmp_0; }
    }
  case 31:
    r0 = s.retval;
  case 9:
  case 10:
  case 11:
  case 12:
    s.tmp_1 = if_lightHandlers_1_mk(s);
    s.tmp_1.arg0 = s.state___48449;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "lightHandlers");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["lightHandlers"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["lightHandlers"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 1311; s.pc = 32; return s.tmp_1; }
    }
  case 32:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 13; continue; }
    r0 = s.tmp_0;
    { step = 14; continue; }
  case 13:
    s.tmp_3 = if_lastLightCondition_1_mk(s);
    s.tmp_3.arg0 = s.state___48449;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "lastLightCondition");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["lastLightCondition"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["lastLightCondition"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 1312; s.pc = 33; return s.tmp_3; }
    }
  case 33:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 !== undefined);
  case 14:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 15; continue; }
    r0 = s.tmp_4;
    { step = 16; continue; }
  case 15:
    s.tmp_6 = if_lightHandlers_1_mk(s);
    s.tmp_6.arg0 = s.state___48449;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "lightHandlers");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["lightHandlers"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["lightHandlers"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 1313; s.pc = 34; return s.tmp_6; }
    }
  case 34:
    r0 = s.retval;
    s.tmp_5 = r0;
    s.tmp_8 = if_lastLightCondition_1_mk(s);
    s.tmp_8.arg0 = s.state___48449;
    if (!s.tmp_8.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_8.arg0, "lastLightCondition");
    } else {
      s.tmp_8.fn = s.tmp_8.arg0.vtable.iface["lastLightCondition"];
      if (s.tmp_8.fn == null) { s.retval = s.tmp_8.arg0.fields["lastLightCondition"]; }
      else if (!s.tmp_8.fn.isGetter) { s.retval = bind(s.tmp_8); }
     else { s.callLocIdx = 1314; s.pc = 35; return s.tmp_8; }
    }
  case 35:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_5, s.tmp_7);
  case 16:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    if (!r0) { step = 17; continue; }
    s.tmp_11 = if_lightHandlers_1_mk(s);
    s.tmp_11.arg0 = s.state___48449;
    if (!s.tmp_11.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_11.arg0, "lightHandlers");
    } else {
      s.tmp_11.fn = s.tmp_11.arg0.vtable.iface["lightHandlers"];
      if (s.tmp_11.fn == null) { s.retval = s.tmp_11.arg0.fields["lightHandlers"]; }
      else if (!s.tmp_11.fn.isGetter) { s.retval = bind(s.tmp_11); }
     else { s.callLocIdx = 1315; s.pc = 36; return s.tmp_11; }
    }
  case 36:
    r0 = s.retval;
    s.tmp_10 = r0;
    s.tmp_13 = if_lastLightCondition_1_mk(s);
    s.tmp_13.arg0 = s.state___48449;
    if (!s.tmp_13.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_13.arg0, "lastLightCondition");
    } else {
      s.tmp_13.fn = s.tmp_13.arg0.vtable.iface["lastLightCondition"];
      if (s.tmp_13.fn == null) { s.retval = s.tmp_13.arg0.fields["lastLightCondition"]; }
      else if (!s.tmp_13.fn.isGetter) { s.retval = bind(s.tmp_13); }
     else { s.callLocIdx = 1316; s.pc = 37; return s.tmp_13; }
    }
  case 37:
    r0 = s.retval;
    s.tmp_12 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_10, s.tmp_12);
    s.handler___48499 = (r0);
    s.tmp_0 = if_lastLightCondition_2_mk(s);
    s.tmp_0.arg0 = s.state___48449;
    s.tmp_0.arg1 = undefined;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "lastLightCondition", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/lastLightCondition"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["lastLightCondition"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 1317; s.pc = 38; return s.tmp_0; }
    }
  case 38:
    r0 = s.retval;
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.handler___48499;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 1318; s.pc = 39; return s.tmp_0;
  case 39:
    r0 = s.retval;
  case 17:
  case 18:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_updateController__P35184.info = {"start":715,"length":1043,"line":26,"column":4,"endLine":52,"endColumn":5,"fileName":"pxt_modules/controller/state.ts","functionName":"updateController","argumentNames":[]}

function controller_updateController__P35184_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_updateController__P35184, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  state___48449: undefined,
  handler___48456: undefined,
  customHandler___48473: undefined,
  handler___48499: undefined,
} }





function controller_sceneState__P32573(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sc___48509 = undefined;
    s.state___48512 = undefined;
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 1295; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.sc___48509 = (r0);
    r0 = s.sc___48509.fields["_data"];
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_0, "controller.state");
    s.state___48512 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.state___48512);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.sc___48509.fields["_data"];
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapSetGeneric(s.tmp_2, "controller.state", s.tmp_3);
    s.state___48512 = (s.tmp_3);
  case 1:
  case 2:
    r0 = s.state___48512;
    return leave(s, r0)
  default: oops()
} } }
controller_sceneState__P32573.info = {"start":418,"length":290,"line":15,"column":4,"endLine":23,"endColumn":5,"fileName":"pxt_modules/controller/state.ts","functionName":"sceneState","argumentNames":[]}

function controller_sceneState__P32573_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_sceneState__P32573, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  sc___48509: undefined,
  state___48512: undefined,
} }





function scene_Scene_data__P31900(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Scene__C31877_VT)) failedCast(r0);
    r0 = s.arg0.fields["_data"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
scene_Scene_data__P31900.info = {"start":6655,"length":53,"line":182,"column":8,"endLine":184,"endColumn":9,"fileName":"pxt_modules/game/scene.ts","functionName":"data","argumentNames":["this"]}
scene_Scene_data__P31900.isGetter = true;

function scene_Scene_data__P31900_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Scene_data__P31900, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function Math_abs__P29550(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (0 - s.arg0);
    { step = 2; continue; }
  case 1:
    r0 = s.arg0;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    return leave(s, r0)
  default: oops()
} } }
Math_abs__P29550.info = {"start":15106,"length":77,"line":511,"column":4,"endLine":513,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"abs","argumentNames":["x"]}

function Math_abs__P29550_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_abs__P29550, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function Math_sign__P29551(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 0;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = (s.arg0 > 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = 1;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = -1;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
Math_sign__P29551.info = {"start":15341,"length":125,"line":519,"column":4,"endLine":523,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"sign","argumentNames":["x"]}

function Math_sign__P29551_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_sign__P29551, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function texteffects_TextEffect_constructor__P32291(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, texteffects_TextEffect__C32289_VT)) failedCast(r0);
    r0 = (s.arg0).fields["getState"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
texteffects_TextEffect_constructor__P32291.info = {"start":657,"length":133,"line":25,"column":8,"endLine":27,"endColumn":9,"fileName":"pxt_modules/game/texteffects.ts","functionName":"inline","argumentNames":["this","getState"]}

function texteffects_TextEffect_constructor__P32291_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: texteffects_TextEffect_constructor__P32291, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function Math_FastRandom_constructor__P32046(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Math_FastRandom__C32044_VT)) failedCast(r0);
    r0 = (s.arg1 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.Math_.randomRange(1, 65535);
    s.arg1 = (r0);
  case 1:
  case 2:
    r0 = (s.arg0).fields["seed"] = (s.arg1);
    r0 = (s.arg0).fields["lfsr"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Math_FastRandom_constructor__P32046.info = {"start":1425,"length":175,"line":44,"column":8,"endLine":48,"endColumn":9,"fileName":"pxt_modules/game/mathUtil.ts","functionName":"inline","argumentNames":["this","seed"]}

function Math_FastRandom_constructor__P32046_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_FastRandom_constructor__P32046, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function control_ramSize__P29762(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtcore.getConfig(205, 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = 33554432;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.tmp_1;
    return leave(s, r0)
  default: oops()
} } }
control_ramSize__P29762.info = {"start":5058,"length":100,"line":172,"column":4,"endLine":174,"endColumn":5,"fileName":"pxt_modules/base/control.ts","functionName":"ramSize","argumentNames":[]}

function control_ramSize__P29762_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control_ramSize__P29762, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function control__ramSize__P34317(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = 33554432;
    return leave(s, r0)
  default: oops()
} } }
control__ramSize__P34317.info = {"start":4938,"length":60,"line":167,"column":4,"endLine":169,"endColumn":5,"fileName":"pxt_modules/base/control.ts","functionName":"_ramSize","argumentNames":[]}

function control__ramSize__P34317_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control__ramSize__P34317, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function game_consoleOverlay_listener__P35003(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___34968);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
  case 3:
  case 4:
    s.tmp_4 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_5 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_6 = helpers_stringSplit__P29544_mk(s);
    s.tmp_6.arg0 = s.arg1;
    s.tmp_6.arg1 = "\n";
    s.tmp_6.arg2 = undefined;
    s.callLocIdx = 1132; s.pc = 10; return s.tmp_6;
  case 10:
    r0 = s.retval;
    s.tmp_5.arg0 = r0;
    s.tmp_5.arg1 = inline__P48579;
    s.callLocIdx = 1133; s.pc = 9; return s.tmp_5;
  case 9:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = inline__P48584;
    s.callLocIdx = 1135; s.pc = 8; return s.tmp_4;
  case 8:
    r0 = s.retval;
    r0 = pxsim_Array__length(globals.consoleStrings___34968);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > globals.consoleLines___34981);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = helpers_arraySplice__P29525_mk(s);
    s.tmp_2.arg0 = globals.consoleStrings___34968;
    s.tmp_2.arg1 = 0;
    r0 = pxsim_Array__length(globals.consoleStrings___34968);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - globals.consoleLines___34981);
    s.tmp_2.arg2 = r0;
    s.callLocIdx = 1136; s.pc = 11; return s.tmp_2;
  case 11:
    r0 = s.retval;
  case 5:
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_consoleOverlay_listener__P35003.info = {"start":787,"length":571,"line":26,"column":4,"endLine":42,"endColumn":5,"fileName":"pxt_modules/game/console.ts","functionName":"listener","argumentNames":["priority","text"]}

function game_consoleOverlay_listener__P35003_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_consoleOverlay_listener__P35003, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P48579(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
inline__P48579.info = {"start":985,"length":14,"line":32,"column":20,"endLine":32,"endColumn":34,"fileName":"pxt_modules/game/console.ts","functionName":"inline","argumentNames":["line"]}

function inline__P48579_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48579, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function inline__P48584(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.j___48586 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.j___48586 = (0);
  case 1:
    s.tmp_1 = r0 = s.j___48586;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_3 = r0 = globals.consoleStrings___34968;
    s.tmp_5 = helpers_stringSlice__P29542_mk(s);
    s.tmp_5.arg0 = s.arg0;
    s.tmp_5.arg1 = s.j___48586;
    r0 = (s.j___48586 + globals.consoleColumns___34991);
    s.tmp_5.arg2 = r0;
    s.callLocIdx = 1134; s.pc = 3; return s.tmp_5;
  case 3:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.tmp_4);
    r0 = (s.j___48586 + globals.consoleColumns___34991);
    s.j___48586 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P48584.info = {"start":1022,"length":189,"line":33,"column":21,"endLine":37,"endColumn":13,"fileName":"pxt_modules/game/console.ts","functionName":"inline","argumentNames":["line"]}

function inline__P48584_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48584, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  j___48586: undefined,
  arg0: undefined,
} }





function console_addListener__P29799(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array_.indexOf(globals.listeners___34332, s.arg0, undefined);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > -1);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = pxsim_Array__push(globals.listeners___34332, s.arg0);
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_addListener__P29799.info = {"start":3558,"length":197,"line":121,"column":4,"endLine":124,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"addListener","argumentNames":["listener"]}

function console_addListener__P29799_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_addListener__P29799, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function scene_systemMenu_register__P32091(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.instance___34922);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_0 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_0.arg0 = globals.menu___31344;
    s.tmp_0.arg1 = 2049;
    s.tmp_0.arg2 = scene_systemMenu_showSystemMenu__P32092;
    s.callLocIdx = 1119; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_register__P32091.info = {"start":12678,"length":193,"line":379,"column":4,"endLine":383,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"register","argumentNames":[]}

function scene_systemMenu_register__P32091_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_register__P32091, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function scene_systemMenu_showSystemMenu__P32092(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.instance___34922);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_0 = game_pushScene__P31994_mk(s);
    s.callLocIdx = 1120; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_PauseMenu__C32080_VT);
    s.tmp_0 = r0;
    s.tmp_1 = scene_systemMenu_PauseMenu_constructor__P32081_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = scene_systemMenu_buildOptionList__P32088;
    s.tmp_1.arg2 = undefined;
    s.callLocIdx = 1121; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    globals.instance___34922 = (s.tmp_0);
    s.tmp_0 = scene_systemMenu_PauseMenu_show__P32082_mk(s);
    s.tmp_0.arg0 = globals.instance___34922;
    s.callLocIdx = 1122; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_showSystemMenu__P32092.info = {"start":12877,"length":172,"line":385,"column":4,"endLine":390,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"showSystemMenu","argumentNames":[]}

function scene_systemMenu_showSystemMenu__P32092_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_showSystemMenu__P32092, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function scene_systemMenu_buildOptionList__P32088(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.options___49652 = undefined;
    r0 = pxsim_Array__mk();
    s.options___49652 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C32072_VT);
    s.tmp_0 = r0;
    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P32073_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = globals.VOLUME_DOWN_ICON___32102;
    s.tmp_1.arg2 = inline__P49660;
    s.tmp_1.arg3 = scene_systemMenu_volumeDown__P34928;
    s.callLocIdx = 1102; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.options___49652, s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C32072_VT);
    s.tmp_0 = r0;
    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P32073_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = globals.VOLUME_UP_ICON___32099;
    s.tmp_1.arg2 = inline__P49674;
    s.tmp_1.arg3 = scene_systemMenu_volumeUp__P34927;
    s.callLocIdx = 1104; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.options___49652, s.tmp_0);
    r0 = 0;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C32072_VT);
    s.tmp_1 = r0;
    s.tmp_2 = scene_systemMenu_MenuOption_constructor__P32073_mk(s);
    s.tmp_2.arg0 = s.tmp_1;
    s.tmp_2.arg1 = globals.BRIGHTNESS_DOWN_ICON___32100;
    s.tmp_2.arg2 = inline__P49689;
    s.tmp_2.arg3 = scene_systemMenu_brightnessDown__P34930;
    s.callLocIdx = 1107; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.options___49652, s.tmp_1);
    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C32072_VT);
    s.tmp_0 = r0;
    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P32073_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = globals.BRIGHTNESS_UP_ICON___32105;
    s.tmp_1.arg2 = inline__P49704;
    s.tmp_1.arg3 = scene_systemMenu_brightnessUp__P34929;
    s.callLocIdx = 1109; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.options___49652, s.tmp_0);
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C32072_VT);
    s.tmp_0 = r0;
    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P32073_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = globals.STATS_ICON___32106;
    s.tmp_1.arg2 = inline__P49719;
    s.tmp_1.arg3 = scene_systemMenu_toggleStats__P34932;
    s.callLocIdx = 1110; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.options___49652, s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C32072_VT);
    s.tmp_0 = r0;
    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P32073_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = globals.CONSOLE_ICON___32104;
    s.tmp_1.arg2 = inline__P49728;
    s.tmp_1.arg3 = scene_systemMenu_toggleConsole__P34933;
    s.callLocIdx = 1112; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.options___49652, s.tmp_0);
    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C32072_VT);
    s.tmp_0 = r0;
    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P32073_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = globals.SLEEP_ICON___32103;
    s.tmp_1.arg2 = inline__P49737;
    s.tmp_1.arg3 = scene_systemMenu_sleep__P34934;
    s.callLocIdx = 1113; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.options___49652, s.tmp_0);
    r0 = pxsim_numops_toBoolDecr(globals.customMenuOptions___34923);
    if (!r0) { step = 3; continue; }
    s.tmp_0 = helpers_arrayConcat__P29538_mk(s);
    s.tmp_0.arg0 = s.options___49652;
    s.tmp_0.arg1 = globals.customMenuOptions___34923;
    s.callLocIdx = 1114; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.options___49652 = (r0);
  case 3:
  case 4:
    r0 = pxsim_pxtcore_mkClassInstance(scene_systemMenu_MenuOption__C32072_VT);
    s.tmp_0 = r0;
    s.tmp_1 = scene_systemMenu_MenuOption_constructor__P32073_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = globals.CLOSE_MENU_ICON___32101;
    s.tmp_1.arg2 = inline__P49750;
    s.tmp_1.arg3 = scene_systemMenu_closeMenu__P32087;
    s.callLocIdx = 1115; s.pc = 13; return s.tmp_1;
  case 13:
    r0 = s.retval;
    r0 = pxsim_Array__push(s.options___49652, s.tmp_0);
    r0 = s.options___49652;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_buildOptionList__P32088.info = {"start":10384,"length":1149,"line":331,"column":4,"endLine":351,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"buildOptionList","argumentNames":[]}

function scene_systemMenu_buildOptionList__P32088_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_buildOptionList__P32088, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  options___49652: undefined,
} }





function inline__P49660(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_3 = music_volume__P31054_mk(s);
    s.callLocIdx = 1101; s.pc = 1; return s.tmp_3;
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("VOLUME DOWN (", s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, ")");
    return leave(s, r0)
  default: oops()
} } }
inline__P49660.info = {"start":10529,"length":39,"line":334,"column":54,"endLine":334,"endColumn":93,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P49660_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49660, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
} }





function inline__P49674(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_3 = music_volume__P31054_mk(s);
    s.callLocIdx = 1103; s.pc = 1; return s.tmp_3;
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 2);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("VOLUME UP (", s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, ")");
    return leave(s, r0)
  default: oops()
} } }
inline__P49674.info = {"start":10636,"length":37,"line":335,"column":52,"endLine":335,"endColumn":89,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P49674_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49674, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
} }





function inline__P49689(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = globals.brightness___31185;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 1);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("BRIGHTNESS DOWN (", s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, ")");
    return leave(s, r0)
  default: oops()
} } }
inline__P49689.info = {"start":10795,"length":48,"line":337,"column":62,"endLine":337,"endColumn":110,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P49689_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49689, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function inline__P49704(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = globals.brightness___31185;
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 1);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat("BRIGHTNESS UP (", s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, ")");
    return leave(s, r0)
  default: oops()
} } }
inline__P49704.info = {"start":10923,"length":46,"line":338,"column":60,"endLine":338,"endColumn":106,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P49704_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49704, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function inline__P49719(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.stats___31987);
    if (!r0) { step = 1; continue; }
    r0 = "HIDE STATS";
    { step = 2; continue; }
  case 1:
    r0 = "SHOW STATS";
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
inline__P49719.info = {"start":11045,"length":46,"line":340,"column":48,"endLine":340,"endColumn":94,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P49719_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49719, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P49728(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___34968);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = "HIDE CONSOLE";
    { step = 2; continue; }
  case 1:
    r0 = "SHOW CONSOLE";
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
    return leave(s, r0)
  default: oops()
} } }
inline__P49728.info = {"start":11158,"length":71,"line":341,"column":50,"endLine":341,"endColumn":121,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P49728_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49728, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
} }





function inline__P49737(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = "SLEEP";
    return leave(s, r0)
  default: oops()
} } }
inline__P49737.info = {"start":11296,"length":13,"line":342,"column":48,"endLine":342,"endColumn":61,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P49737_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49737, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function inline__P49750(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = "CLOSE";
    return leave(s, r0)
  default: oops()
} } }
inline__P49750.info = {"start":11475,"length":13,"line":348,"column":53,"endLine":348,"endColumn":66,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P49750_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49750, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function scene_systemMenu_setScreenBrightnessSupported__P34935(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = 0;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_setScreenBrightnessSupported__P34935.info = {"start":10283,"length":95,"line":327,"column":4,"endLine":329,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"setScreenBrightnessSupported","argumentNames":[]}

function scene_systemMenu_setScreenBrightnessSupported__P34935_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_setScreenBrightnessSupported__P34935, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function scene_systemMenu_sleep__P34934(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_pxtcore.deepSleep();
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_sleep__P34934.info = {"start":9957,"length":51,"line":313,"column":4,"endLine":315,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"sleep","argumentNames":[]}

function scene_systemMenu_sleep__P34934_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_sleep__P34934, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function scene_systemMenu_toggleConsole__P34933(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.consoleStrings___34968);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_4 = game_consoleOverlay_setVisible__P32111_mk(s);
    s.tmp_4.arg0 = false;
    s.tmp_4.arg1 = undefined;
    s.callLocIdx = 1095; s.pc = 3; return s.tmp_4;
  case 3:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    s.tmp_0 = game_consoleOverlay_setVisible__P32111_mk(s);
    s.tmp_0.arg0 = true;
    s.tmp_0.arg1 = undefined;
    s.callLocIdx = 1096; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = console_log__P29796_mk(s);
    s.tmp_0.arg0 = "console";
    s.callLocIdx = 1097; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_toggleConsole__P34933.info = {"start":9712,"length":239,"line":304,"column":4,"endLine":311,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"toggleConsole","argumentNames":[]}

function scene_systemMenu_toggleConsole__P34933_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_toggleConsole__P34933, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
} }





function scene_systemMenu_toggleStats__P34932(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.stats___31987);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    globals.stats___31987 = (r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_toggleStats__P34932.info = {"start":9642,"length":64,"line":300,"column":4,"endLine":302,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"toggleStats","argumentNames":[]}

function scene_systemMenu_toggleStats__P34932_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_toggleStats__P34932, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function scene_systemMenu_brightnessDown__P34930(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = scene_systemMenu_setScreenBrightness__P34931_mk(s);
    r0 = globals.brightness___31185;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 5);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1090; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_brightnessDown__P34930.info = {"start":9198,"length":87,"line":289,"column":4,"endLine":291,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"brightnessDown","argumentNames":[]}

function scene_systemMenu_brightnessDown__P34930_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_brightnessDown__P34930, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function scene_systemMenu_setScreenBrightness__P34931(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = helpers_setScreenBrightness__P31196_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 1091; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = settings_writeNumber__P31290_mk(s);
    s.tmp_0.arg0 = "#brightness";
    r0 = globals.brightness___31185;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1093; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_setScreenBrightness__P34931.info = {"start":9291,"length":345,"line":293,"column":4,"endLine":298,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"setScreenBrightness","argumentNames":["b"]}

function scene_systemMenu_setScreenBrightness__P34931_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_setScreenBrightness__P34931, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function settings_writeNumber__P31290(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    s.tmp_1 = settings_writeBuffer__P31288_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_2 = msgpack_packNumberArray__P29604_mk(s);
    s.tmp_2.arg0 = s.tmp_0;
    s.callLocIdx = 214; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 215; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_writeNumber__P31290.info = {"start":2087,"length":122,"line":82,"column":4,"endLine":84,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"writeNumber","argumentNames":["key","value"]}

function settings_writeNumber__P31290_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_writeNumber__P31290, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function msgpack_packNumberArray__P29604(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.off___49785 = undefined;
    s.n___49787 = undefined;
    s.unnamed470___U2 = undefined;
    s.unnamed471___U3 = undefined;
    s.buf___49797 = undefined;
    s.n___49803 = undefined;
    s.unnamed472___U6 = undefined;
    s.unnamed473___U7 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.off___49785 = (0);
    s.n___49787 = (undefined);
    s.unnamed470___U2 = (s.arg0);
    s.unnamed471___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed471___U3;
    r0 = pxsim_Array__length(s.unnamed470___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed470___U2, s.unnamed471___U3);
    s.n___49787 = (r0);
    s.tmp_2 = r0 = s.off___49785;
    s.tmp_4 = msgpack_packNumberCore__P34295_mk(s);
    s.tmp_4.arg0 = null;
    s.tmp_4.arg1 = s.off___49785;
    s.tmp_4.arg2 = s.n___49787;
    s.callLocIdx = 27; s.pc = 5; return s.tmp_4;
  case 5:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.off___49785 = (r0);
    r0 = (s.unnamed471___U3 + 1);
    s.unnamed471___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed470___U2 = (undefined);
    r0 = pxsim.control.createBuffer(s.off___49785);
    s.buf___49797 = (r0);
    s.off___49785 = (0);
    s.n___49803 = (undefined);
    s.unnamed472___U6 = (s.arg0);
    s.unnamed473___U7 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed473___U7;
    r0 = pxsim_Array__length(s.unnamed472___U6);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed472___U6, s.unnamed473___U7);
    s.n___49803 = (r0);
    s.tmp_2 = r0 = s.off___49785;
    s.tmp_4 = msgpack_packNumberCore__P34295_mk(s);
    s.tmp_4.arg0 = s.buf___49797;
    s.tmp_4.arg1 = s.off___49785;
    s.tmp_4.arg2 = s.n___49803;
    s.callLocIdx = 28; s.pc = 6; return s.tmp_4;
  case 6:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.off___49785 = (r0);
    r0 = (s.unnamed473___U7 + 1);
    s.unnamed473___U7 = (r0);
    { step = 3; continue; }
  case 4:
    s.unnamed472___U6 = (undefined);
    r0 = s.buf___49797;
    return leave(s, r0)
  default: oops()
} } }
msgpack_packNumberArray__P29604.info = {"start":3427,"length":330,"line":117,"column":4,"endLine":128,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"packNumberArray","argumentNames":["nums"]}

function msgpack_packNumberArray__P29604_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_packNumberArray__P29604, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  off___49785: undefined,
  n___49787: undefined,
  unnamed470___U2: undefined,
  unnamed471___U3: undefined,
  buf___49797: undefined,
  n___49803: undefined,
  unnamed472___U6: undefined,
  unnamed473___U7: undefined,
  arg0: undefined,
} }





function msgpack_packNumberCore__P34295(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tag___49817 = undefined;
    s.fmt___49860 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    s.tag___49817 = (203);
    s.tmp_1 = r0 = s.arg2;
    r0 = (s.arg2 << 0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_3 = r0 = s.arg2;
    r0 = (s.arg2 >>> 0);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 == s.tmp_4);
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 19; continue; }
    r0 = (-31 <= s.arg2);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBool(s.tmp_6);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_6;
    { step = 4; continue; }
  case 3:
    r0 = (s.arg2 <= 127);
  case 4:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    if (!r0) { step = 5; continue; }
    r0 = pxsim.BufferMethods.setByte(s.arg0, s.arg1, s.arg2);
  case 5:
  case 6:
    r0 = 1;
    { step = 23; continue; }
    { step = 18; continue; }
  case 7:
    r0 = (0 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    r0 = (s.arg2 <= 255);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 8; continue; }
    s.tag___49817 = (204);
    { step = 11; continue; }
  case 8:
    r0 = (s.arg2 <= 65535);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tag___49817 = (205);
    { step = 10; continue; }
  case 9:
    s.tag___49817 = (206);
  case 10:
  case 11:
    { step = 17; continue; }
  case 12:
    r0 = (-127 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tag___49817 = (208);
    { step = 16; continue; }
  case 13:
    r0 = (-32767 <= s.arg2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tag___49817 = (209);
    { step = 15; continue; }
  case 14:
    s.tag___49817 = (210);
  case 15:
  case 16:
  case 17:
  case 18:
  case 19:
  case 20:
    s.tmp_0 = msgpack_tagFormat__P34294_mk(s);
    s.tmp_0.arg0 = s.tag___49817;
    s.callLocIdx = 23; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.fmt___49860 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    if (!r0) { step = 21; continue; }
    r0 = pxsim.BufferMethods.setByte(s.arg0, s.arg1, s.tag___49817);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_1 = r0 = s.fmt___49860;
    r0 = (s.arg1 + 1);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.setNumber(s.tmp_0, s.tmp_1, s.tmp_2, s.arg2);
  case 21:
  case 22:
    s.tmp_1 = pins_sizeOf__P29595_mk(s);
    s.tmp_1.arg0 = s.fmt___49860;
    s.callLocIdx = 24; s.pc = 25; return s.tmp_1;
  case 25:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
  case 23:
    return leave(s, r0)
  default: oops()
} } }
msgpack_packNumberCore__P34295.info = {"start":1632,"length":951,"line":56,"column":4,"endLine":86,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"packNumberCore","argumentNames":["buf","offset","num"]}

function msgpack_packNumberCore__P34295_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_packNumberCore__P34295, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tag___49817: undefined,
  fmt___49860: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function msgpack_tagFormat__P34294(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_pxtcore.switch_eq(203, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(204, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(205, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(206, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(208, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(209, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(210, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 1:
    r0 = 16;
    { step = 9; continue; }
  case 2:
    r0 = 7;
    { step = 9; continue; }
  case 3:
    r0 = 9;
    { step = 9; continue; }
  case 4:
    r0 = 12;
    { step = 9; continue; }
  case 5:
    r0 = 6;
    { step = 9; continue; }
  case 6:
    r0 = 8;
    { step = 9; continue; }
  case 7:
    r0 = 10;
    { step = 9; continue; }
  case 8:
    r0 = null;
    { step = 9; continue; }
    r0 = undefined;
  case 9:
    return leave(s, r0)
  default: oops()
} } }
msgpack_tagFormat__P34294.info = {"start":1145,"length":481,"line":42,"column":4,"endLine":54,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"tagFormat","argumentNames":["tag"]}

function msgpack_tagFormat__P34294_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_tagFormat__P34294, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function pins_sizeOf__P29595(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Buffer_sizeOfNumberFormat__P29631_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 21; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
pins_sizeOf__P29595.info = {"start":42,"length":101,"line":2,"column":4,"endLine":4,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"sizeOf","argumentNames":["format"]}

function pins_sizeOf__P29595_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_sizeOf__P29595, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function helpers_setScreenBrightness__P31196(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Math_clamp__P29549_mk(s);
    s.tmp_0.arg0 = 10;
    s.tmp_0.arg1 = 100;
    r0 = (s.arg1 | 0);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 179; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.arg1 = (r0);
    globals.brightness___31185 = (s.arg1);
    r0 = pxsim_pxtcore.setScreenBrightness(globals.brightness___31185);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_setScreenBrightness__P31196.info = {"start":6243,"length":210,"line":211,"column":4,"endLine":215,"endColumn":5,"fileName":"pxt_modules/screen/image.ts","functionName":"setScreenBrightness","argumentNames":["img","b"]}

function helpers_setScreenBrightness__P31196_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_setScreenBrightness__P31196, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function scene_systemMenu_brightnessUp__P34929(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = scene_systemMenu_setScreenBrightness__P34931_mk(s);
    r0 = globals.brightness___31185;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 + 5);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1088; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_brightnessUp__P34929.info = {"start":9107,"length":85,"line":285,"column":4,"endLine":287,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"brightnessUp","argumentNames":[]}

function scene_systemMenu_brightnessUp__P34929_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_brightnessUp__P34929, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
} }





function scene_systemMenu_volumeDown__P34928(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.v___50013 = undefined;
    s.remainder___50016 = undefined;
    s.newVolume___50019 = undefined;
    s.tmp_0 = music_volume__P31054_mk(s);
    s.callLocIdx = 1085; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.v___50013 = (r0);
    r0 = (s.v___50013 % 32);
    s.remainder___50016 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.remainder___50016);
    if (!r0) { step = 1; continue; }
    r0 = s.remainder___50016;
    { step = 2; continue; }
  case 1:
    r0 = 32;
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = (s.v___50013 - s.tmp_0);
    s.newVolume___50019 = (r0);
    s.tmp_0 = scene_systemMenu_setVolume__P34926_mk(s);
    s.tmp_0.arg0 = s.newVolume___50019;
    s.callLocIdx = 1086; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_volumeDown__P34928.info = {"start":8914,"length":187,"line":278,"column":4,"endLine":283,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"volumeDown","argumentNames":[]}

function scene_systemMenu_volumeDown__P34928_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_volumeDown__P34928, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  v___50013: undefined,
  remainder___50016: undefined,
  newVolume___50019: undefined,
} }





function scene_systemMenu_setVolume__P34926(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = music_setVolume__P31053_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1080; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = music_playTone__P31055_mk(s);
    s.tmp_0.arg0 = 440;
    s.tmp_0.arg1 = 500;
    s.callLocIdx = 1081; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = settings_writeNumber__P31290_mk(s);
    s.tmp_0.arg0 = "#volume";
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 1082; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_setVolume__P34926.info = {"start":8565,"length":166,"line":265,"column":4,"endLine":269,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"setVolume","argumentNames":["newVolume"]}

function scene_systemMenu_setVolume__P34926_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_setVolume__P34926, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function music_playTone__P31055(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.id___49945 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtrt.mklocRef();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.arg1);
    s.arg1 = (s.tmp_0);
    r0 = pxsim_pxtrt_ldlocRef(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtrt_stlocRef(s.arg1, 86400000);
  case 1:
  case 2:
    r0 = pxsim_pxtrt_ldlocRef(s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= 2000);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = music_playNoteCore__P34390_mk(s);
    s.tmp_2.arg0 = 0;
    s.tmp_2.arg1 = s.arg0;
    r0 = pxsim_pxtrt_ldlocRef(s.arg1);
    s.tmp_2.arg2 = r0;
    s.callLocIdx = 133; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    s.tmp_0 = pause__P29829_mk(s);
    r0 = pxsim_pxtrt_ldlocRef(s.arg1);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 134; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    r0 = (globals.playToneID___34392 + 1);
    s.tmp_0 = r0;
    globals.playToneID___34392 = (r0);
    s.id___49945 = (s.tmp_0);
    r0 = pxsim_pxtcore_mkAction(3, inline__P49951);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.id___49945);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.arg1);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.arg0);
    r0 = pxsim.control.runInParallel(s.tmp_0);
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_playTone__P31055.info = {"start":2591,"length":831,"line":83,"column":4,"endLine":108,"endColumn":5,"fileName":"pxt_modules/mixer/melody.ts","functionName":"playTone","argumentNames":["frequency","ms"]}

function music_playTone__P31055_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_playTone__P31055, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  id___49945: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P49951(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pos___49952 = undefined;
    s.now___49962 = undefined;
    s.d___49965 = undefined;
    s.t___49969 = undefined;
    r0 = pxsim.control.millis();
    s.pos___49952 = (r0);
  case 1:
    r0 = (s.caps[0] == globals.playToneID___34392);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
  case 3:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 6; continue; }
    r0 = pxsim.control.millis();
    s.now___49962 = (r0);
    r0 = (s.pos___49952 - s.now___49962);
    s.d___49965 = (r0);
    s.tmp_0 = Math_min__P29553_mk(s);
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 500;
    s.callLocIdx = 135; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.t___49969 = (r0);
    s.tmp_0 = r0 = s.caps[1];
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - s.t___49969);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stlocRef(s.tmp_0, s.tmp_1);
    r0 = (s.pos___49952 + s.t___49969);
    s.pos___49952 = (r0);
    s.tmp_0 = music_playNoteCore__P34390_mk(s);
    r0 = (s.d___49965 - 1);
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.caps[2];
    s.tmp_0.arg2 = s.t___49969;
    s.callLocIdx = 136; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    r0 = pxsim_pxtrt_ldlocRef(s.caps[1]);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_2 = pause__P29829_mk(s);
    r0 = (s.d___49965 + s.t___49969);
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 137; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    { step = 5; continue; }
  case 4:
    s.tmp_0 = pause__P29829_mk(s);
    r0 = (s.d___49965 + s.t___49969);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 100);
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 138; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
  case 5:
    { step = 1; continue; }
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P49951.info = {"start":2890,"length":515,"line":92,"column":34,"endLine":106,"endColumn":13,"fileName":"pxt_modules/mixer/melody.ts","functionName":"inline","argumentNames":[]}

function inline__P49951_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49951, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  pos___49952: undefined,
  now___49962: undefined,
  d___49965: undefined,
  t___49969: undefined,
} }





function music_playNoteCore__P34390(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___49999 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.control.createBuffer(12);
    s.buf___49999 = (r0);
    s.tmp_0 = music_addNote__P34397_mk(s);
    s.tmp_0.arg0 = s.buf___49999;
    s.tmp_0.arg1 = 0;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_0.arg3 = 255;
    s.tmp_0.arg4 = 255;
    s.tmp_0.arg5 = 3;
    s.tmp_0.arg6 = s.arg1;
    s.tmp_1 = music_volume__P31054_mk(s);
    s.callLocIdx = 131; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg7 = r0;
    s.tmp_0.arg8 = s.arg1;
    s.callLocIdx = 132; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim.music.queuePlayInstructions(s.arg0, s.buf___49999);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
music_playNoteCore__P34390.info = {"start":1877,"length":240,"line":66,"column":4,"endLine":70,"endColumn":5,"fileName":"pxt_modules/mixer/melody.ts","functionName":"playNoteCore","argumentNames":["when","frequency","ms"]}

function music_playNoteCore__P34390_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_playNoteCore__P34390, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  buf___49999: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function scene_systemMenu_volumeUp__P34927(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.v___49913 = undefined;
    s.remainder___49916 = undefined;
    s.newVolume___49919 = undefined;
    s.tmp_0 = music_volume__P31054_mk(s);
    s.callLocIdx = 1083; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.v___49913 = (r0);
    r0 = (s.v___49913 % 32);
    s.remainder___49916 = (r0);
    r0 = (s.v___49913 + 32);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.remainder___49916);
    s.newVolume___49919 = (r0);
    s.tmp_0 = scene_systemMenu_setVolume__P34926_mk(s);
    s.tmp_0.arg0 = s.newVolume___49919;
    s.callLocIdx = 1084; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_volumeUp__P34927.info = {"start":8737,"length":171,"line":271,"column":4,"endLine":276,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"volumeUp","argumentNames":[]}

function scene_systemMenu_volumeUp__P34927_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_volumeUp__P34927, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  v___49913: undefined,
  remainder___49916: undefined,
  newVolume___49919: undefined,
} }





function scene_systemMenu_closeMenu__P32087(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.instance___34922);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = scene_systemMenu_PauseMenu_dispose__P32086_mk(s);
    s.tmp_0.arg0 = globals.instance___34922;
    s.callLocIdx = 1098; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    globals.instance___34922 = (undefined);
    s.tmp_0 = controller__setUserEventsEnabled__P31415_mk(s);
    s.tmp_0.arg0 = true;
    s.callLocIdx = 1099; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = game_popScene__P31995_mk(s);
    s.callLocIdx = 1100; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_closeMenu__P32087.info = {"start":10014,"length":216,"line":317,"column":4,"endLine":324,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"closeMenu","argumentNames":[]}

function scene_systemMenu_closeMenu__P32087_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_closeMenu__P32087, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function scene_systemMenu_PauseMenu_dispose__P32086(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C32080_VT)) failedCast(r0);
    r0 = s.arg0.fields["options"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = helpers_arrayForEach__P29534_mk(s);
    r0 = s.arg0.fields["options"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = inline__P49162;
    s.callLocIdx = 1076; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    r0 = (s.arg0).fields["options"] = (undefined);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_PauseMenu_dispose__P32086.info = {"start":7732,"length":165,"line":243,"column":8,"endLine":248,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"dispose","argumentNames":["this"]}

function scene_systemMenu_PauseMenu_dispose__P32086_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_PauseMenu_dispose__P32086, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P49162(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = scene_systemMenu_MenuOption_dispose__P32079_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1075; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P49162.info = {"start":7813,"length":16,"line":245,"column":37,"endLine":245,"endColumn":53,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":["o"]}

function inline__P49162_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49162, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function scene_systemMenu_MenuOption_dispose__P32079(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C32072_VT)) failedCast(r0);
    r0 = s.arg0.fields["card"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = Sprite_destroy__P31548_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = undefined;
    s.tmp_1.arg2 = undefined;
    s.callLocIdx = 995; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = Sprite_destroy__P31548_mk(s);
    r0 = s.arg0.fields["icon"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 996; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = (s.arg0).fields["card"] = (undefined);
    r0 = (s.arg0).fields["icon"] = (undefined);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_MenuOption_dispose__P32079.info = {"start":1812,"length":216,"line":77,"column":8,"endLine":84,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"dispose","argumentNames":["this"]}

function scene_systemMenu_MenuOption_dispose__P32079_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_MenuOption_dispose__P32079, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function Sprite_destroy__P31548(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 5; continue; }
  case 1:
  case 2:
    s.tmp_2 = r0 = s.arg0;
    r0 = s.tmp_2.fields["flags"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | 2);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["flags"] = (s.tmp_3);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 3; continue; }
    s.tmp_0 = effects_ParticleEffect_destroy__P32250_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_0.arg3 = undefined;
    s.callLocIdx = 464; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    s.tmp_0 = Sprite__destroyCore__P31549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 465; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_destroy__P31548.info = {"start":28323,"length":293,"line":858,"column":4,"endLine":867,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"destroy","argumentNames":["this","effect","duration"]}

function Sprite_destroy__P31548_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_destroy__P31548, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function effects_ParticleEffect_destroy__P32250(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, effects_ParticleEffect__C32247_VT)) failedCast(r0);
    s.tmp_0 = Sprite_setFlag__P31540_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = true;
    s.callLocIdx = 1259; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = effects_ParticleEffect_start__P32249_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg3;
    s.tmp_0.arg3 = null;
    r0 = s.arg1.fields["flags"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 & 512);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0.arg4 = r0;
    s.callLocIdx = 1260; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 1; continue; }
    r0 = s.arg2;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["defaultLifespan"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 2);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = (s.arg1).fields["lifespan"] = (s.tmp_1);
    s.tmp_0 = effects_ImageEffect_applyTo__P32276_mk(s);
    s.tmp_0.arg0 = globals.dissolve___32279;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1261; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
effects_ParticleEffect_destroy__P32250.info = {"start":1736,"length":368,"line":41,"column":8,"endLine":46,"endColumn":9,"fileName":"pxt_modules/game/particleeffects.ts","functionName":"destroy","argumentNames":["this","anchor","duration","particlesPerSecond"]}

function effects_ParticleEffect_destroy__P32250_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: effects_ParticleEffect_destroy__P32250, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function inline__P49293(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___49296 = undefined;
    s.x___49307 = undefined;
    s.y___49313 = undefined;
    s.w___49319 = undefined;
    s.h___49323 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_ImageMethods.width(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_ImageMethods.height(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 * s.tmp_2);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 5);
    s.i___49296 = (r0);
  case 1:
    r0 = (s.i___49296 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = Math_FastRandom_randomRange__P32048_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.tmp_1.arg1 = 0;
    r0 = pxsim_ImageMethods.width(s.arg0);
    s.tmp_1.arg2 = r0;
    s.callLocIdx = 41; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.x___49307 = (r0);
    s.tmp_0 = Math_FastRandom_randomRange__P32048_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = 0;
    r0 = pxsim_ImageMethods.height(s.arg0);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 42; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.y___49313 = (r0);
    s.tmp_0 = Math_FastRandom_randomRange__P32048_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = 3;
    s.callLocIdx = 43; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.w___49319 = (r0);
    s.tmp_0 = Math_FastRandom_randomRange__P32048_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = 3;
    s.callLocIdx = 44; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.h___49323 = (r0);
    s.tmp_0 = helpers_imageDrawRect__P31192_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.x___49307;
    s.tmp_0.arg2 = s.y___49313;
    s.tmp_0.arg3 = s.w___49319;
    s.tmp_0.arg4 = s.h___49323;
    s.tmp_0.arg5 = 0;
    s.callLocIdx = 45; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    r0 = (s.i___49296 - 1);
    s.i___49296 = (r0);
    { step = 1; continue; }
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P49293.info = {"start":2199,"length":360,"line":60,"column":49,"endLine":69,"endColumn":5,"fileName":"pxt_modules/game/effects.ts","functionName":"inline","argumentNames":["input","r"]}

function inline__P49293_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49293, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  i___49296: undefined,
  x___49307: undefined,
  y___49313: undefined,
  w___49319: undefined,
  h___49323: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_imageDrawRect__P31192(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg3 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg4 == 0);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = (s.arg3 - 1);
    s.arg3 = (r0);
    r0 = (s.arg4 - 1);
    s.arg4 = (r0);
    s.tmp_0 = helpers_imageDrawLine__P31191_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    r0 = (s.arg1 + s.arg3);
    s.tmp_0.arg3 = r0;
    s.tmp_0.arg4 = s.arg2;
    s.tmp_0.arg5 = s.arg5;
    s.callLocIdx = 175; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = helpers_imageDrawLine__P31191_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.tmp_0.arg3 = s.arg1;
    r0 = (s.arg2 + s.arg4);
    s.tmp_0.arg4 = r0;
    s.tmp_0.arg5 = s.arg5;
    s.callLocIdx = 176; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.tmp_0 = helpers_imageDrawLine__P31191_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = (s.arg1 + s.arg3);
    s.tmp_0.arg1 = r0;
    r0 = (s.arg2 + s.arg4);
    s.tmp_0.arg2 = r0;
    r0 = (s.arg1 + s.arg3);
    s.tmp_0.arg3 = r0;
    s.tmp_0.arg4 = s.arg2;
    s.tmp_0.arg5 = s.arg5;
    s.callLocIdx = 177; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.tmp_0 = helpers_imageDrawLine__P31191_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = (s.arg1 + s.arg3);
    s.tmp_0.arg1 = r0;
    r0 = (s.arg2 + s.arg4);
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = s.arg1;
    r0 = (s.arg2 + s.arg4);
    s.tmp_0.arg4 = r0;
    s.tmp_0.arg5 = s.arg5;
    s.callLocIdx = 178; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_imageDrawRect__P31192.info = {"start":4141,"length":370,"line":140,"column":4,"endLine":148,"endColumn":5,"fileName":"pxt_modules/screen/image.ts","functionName":"imageDrawRect","argumentNames":["img","x","y","w","h","c"]}

function helpers_imageDrawRect__P31192_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_imageDrawRect__P31192, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function helpers_imageDrawLine__P31191(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = helpers_pack__P34422_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.tmp_2.arg1 = s.arg2;
    s.callLocIdx = 173; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_4 = helpers_pack__P34422_mk(s);
    s.tmp_4.arg0 = s.arg3;
    s.tmp_4.arg1 = s.arg4;
    s.callLocIdx = 174; s.pc = 2; return s.tmp_4;
  case 2:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods._drawLine(s.tmp_0, s.tmp_1, s.tmp_3, s.arg5);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_imageDrawLine__P31191.info = {"start":3977,"length":159,"line":137,"column":4,"endLine":139,"endColumn":5,"fileName":"pxt_modules/screen/image.ts","functionName":"imageDrawLine","argumentNames":["img","x","y","w","h","c"]}

function helpers_imageDrawLine__P31191_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_imageDrawLine__P31191, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function effects_ImageEffect_applyTo__P32276(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.clonedImage___49419 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, effects_ImageEffect__C32274_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg1.fields["_image"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = s.arg1.fields["_image"];
    s.tmp_5 = r0;
    r0 = pxsim_ImageMethods.clone(s.tmp_5);
    s.clonedImage___49419 = (r0);
    s.tmp_0 = effects_ImageEffect_change__P32277_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.clonedImage___49419;
    s.callLocIdx = 1272; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = Sprite_setImage__P31517_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.tmp_0.arg1 = s.clonedImage___49419;
    s.callLocIdx = 1273; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
effects_ImageEffect_applyTo__P32276.info = {"start":823,"length":218,"line":21,"column":8,"endLine":26,"endColumn":9,"fileName":"pxt_modules/game/effects.ts","functionName":"applyTo","argumentNames":["this","sprite"]}

function effects_ImageEffect_applyTo__P32276_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: effects_ImageEffect_applyTo__P32276, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  clonedImage___49419: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function effects_ImageEffect_change__P32277(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, effects_ImageEffect__C32274_VT)) failedCast(r0);
    s.tmp_0 = if_effect_3_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    r0 = s.arg0.fields["fastRandom"];
    s.tmp_0.arg2 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "effect"), 3);
      s.callLocIdx = 1274; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["effect"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["effect"], 3); s.callLocIdx = 1274; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1274; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 1274; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
effects_ImageEffect_change__P32277.info = {"start":1151,"length":81,"line":32,"column":8,"endLine":34,"endColumn":9,"fileName":"pxt_modules/game/effects.ts","functionName":"change","argumentNames":["this","input"]}

function effects_ImageEffect_change__P32277_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: effects_ImageEffect_change__P32277, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function effects_ParticleEffect_start__P32249(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.src___49443 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, effects_ParticleEffect__C32247_VT)) failedCast(r0);
    r0 = s.arg0.fields["sourceFactory"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 9; continue; }
  case 1:
  case 2:
    r0 = pxsim_numops_toBoolDecr(s.arg3);
    if (!r0) { step = 3; continue; }
    r0 = s.arg3;
    { step = 4; continue; }
  case 3:
    r0 = s.arg0.fields["defaultRate"];
  case 4:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.tmp_4 = if_sourceFactory_3_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.arg1;
    s.tmp_4.arg2 = s.tmp_3;
    if (!s.tmp_4.arg0.vtable.iface) {
      setupLambda(s.tmp_4, pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "sourceFactory"), 3);
      s.callLocIdx = 1257; s.pc = 10; return s.tmp_4;
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["sourceFactory"];
      if (s.tmp_4.fn == null) { setupLambda(s.tmp_4, s.tmp_4.arg0.fields["sourceFactory"], 3); s.callLocIdx = 1257; s.pc = 10; return s.tmp_4; }
      else if (s.tmp_4.fn.isGetter) { s.tmp_4.stage2Call = true; s.callLocIdx = 1257; s.pc = 10; return s.tmp_4;; }
     else { s.callLocIdx = 1257; s.pc = 10; return s.tmp_4; }
    }
  case 10:
    r0 = s.retval;
    s.src___49443 = (r0);
    s.tmp_0 = particles_ParticleSource_setRelativeToCamera__P32147_mk(s);
    s.tmp_0.arg0 = s.src___49443;
    r0 = pxsim_numops_toBoolDecr(s.arg4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1258; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 7; continue; }
    r0 = (s.arg2 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.arg2;
    { step = 6; continue; }
  case 5:
    r0 = s.arg0.fields["defaultLifespan"];
  case 6:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = (s.src___49443).fields["lifespan"] = (s.tmp_1);
  case 7:
  case 8:
  case 9:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
effects_ParticleEffect_start__P32249.info = {"start":967,"length":452,"line":26,"column":8,"endLine":32,"endColumn":9,"fileName":"pxt_modules/game/particleeffects.ts","functionName":"start","argumentNames":["this","anchor","duration","particlesPerSecond","relativeToCamera"]}

function effects_ParticleEffect_start__P32249_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: effects_ParticleEffect_start__P32249, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  src___49443: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function particles_ParticleSource_setRelativeToCamera__P32147(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["pFlags"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["pFlags"] = (s.tmp_1);
    { step = 2; continue; }
  case 1:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["pFlags"];
    s.tmp_4 = r0;
    r0 = (~ s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 | 4);
    s.tmp_2 = r0;
    r0 = (~ s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["pFlags"] = (s.tmp_1);
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource_setRelativeToCamera__P32147.info = {"start":6422,"length":173,"line":210,"column":8,"endLine":213,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"setRelativeToCamera","argumentNames":["this","on"]}

function particles_ParticleSource_setRelativeToCamera__P32147_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_setRelativeToCamera__P32147, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_setFlag__P31540(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["flags"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["flags"] = (s.tmp_1);
    { step = 2; continue; }
  case 1:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["flags"];
    s.tmp_4 = r0;
    r0 = (~ s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 | s.arg1);
    s.tmp_2 = r0;
    r0 = (~ s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["flags"] = (s.tmp_1);
  case 2:
    r0 = (s.arg1 === 512);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = s.arg0.fields["sayBubbleSprite"];
  case 4:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = Sprite_setFlag__P31540_mk(s);
    r0 = s.arg0.fields["sayBubbleSprite"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = 512;
    s.tmp_2.arg2 = s.arg2;
    s.callLocIdx = 442; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_setFlag__P31540.info = {"start":23807,"length":292,"line":731,"column":4,"endLine":738,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"setFlag","argumentNames":["this","flag","on"]}

function Sprite_setFlag__P31540_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_setFlag__P31540, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Sprite__destroyCore__P31549(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.scene___49212 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["flags"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["flags"] = (s.tmp_1);
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 466; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.scene___49212 = (r0);
    r0 = s.arg0.fields["sayBubbleSprite"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = Sprite_destroy__P31548_mk(s);
    r0 = s.arg0.fields["sayBubbleSprite"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = undefined;
    s.tmp_1.arg2 = undefined;
    s.callLocIdx = 467; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = s.scene___49212.fields["allSprites"];
    s.tmp_0 = r0;
    r0 = pxsim_Array_.removeElement(s.tmp_0, s.arg0);
    r0 = s.arg0.fields["_kind"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = s.scene___49212.fields["spritesByKind"];
    s.tmp_2 = r0;
    r0 = s.arg0.fields["_kind"];
    s.tmp_3 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_2, s.tmp_3);
  case 4:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 5; continue; }
    s.tmp_5 = sprites_SpriteSet_remove__P31579_mk(s);
    r0 = s.scene___49212.fields["spritesByKind"];
    s.tmp_6 = r0;
    r0 = s.arg0.fields["_kind"];
    s.tmp_7 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_6, s.tmp_7);
    s.tmp_5.arg0 = r0;
    s.tmp_5.arg1 = s.arg0;
    s.callLocIdx = 471; s.pc = 11; return s.tmp_5;
  case 11:
    r0 = s.retval;
  case 5:
  case 6:
    s.tmp_0 = PhysicsEngine__C31620_v1_2_mk(s);
    r0 = s.scene___49212.fields["physicsEngine"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg0;
    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C31620_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.removeSprite;
    s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    r0 = s.arg0.fields["destroyHandler"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_1 = if_destroyHandler_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "destroyHandler"), 1);
      s.callLocIdx = 472; s.pc = 13; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["destroyHandler"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["destroyHandler"], 1); s.callLocIdx = 472; s.pc = 13; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 472; s.pc = 13; return s.tmp_1;; }
     else { s.callLocIdx = 472; s.pc = 13; return s.tmp_1; }
    }
  case 13:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = pxsim_pxtcore_mkAction(1, inline__P49249);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P49255);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);
    s.tmp_2 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_3 = helpers_arrayFilter__P29535_mk(s);
    r0 = s.scene___49212.fields["destroyedHandlers"];
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.tmp_0;
    s.callLocIdx = 474; s.pc = 15; return s.tmp_3;
  case 15:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.tmp_1;
    s.callLocIdx = 476; s.pc = 14; return s.tmp_2;
  case 14:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite__destroyCore__P31549.info = {"start":28622,"length":693,"line":869,"column":4,"endLine":885,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"_destroyCore","argumentNames":["this"]}

function Sprite__destroyCore__P31549_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite__destroyCore__P31549, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  scene___49212: undefined,
  arg0: undefined,
} }





function inline__P49249(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["kind"];
    s.tmp_0 = r0;
    r0 = s.caps[0].fields["_kind"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 == s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P49249.info = {"start":29238,"length":26,"line":883,"column":20,"endLine":883,"endColumn":46,"fileName":"pxt_modules/game/sprite.ts","functionName":"inline","argumentNames":["h"]}

function inline__P49249_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49249, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P49255(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = if_handler_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.caps[0];
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "handler"), 2);
      s.callLocIdx = 475; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["handler"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["handler"], 2); s.callLocIdx = 475; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 475; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 475; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P49255.info = {"start":29287,"length":20,"line":884,"column":21,"endLine":884,"endColumn":41,"fileName":"pxt_modules/game/sprite.ts","functionName":"inline","argumentNames":["h"]}

function inline__P49255_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P49255, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function PhysicsEngine_removeSprite__P31623(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, PhysicsEngine__C31620_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
PhysicsEngine_removeSprite__P31623.info = {"start":159,"length":32,"line":10,"column":4,"endLine":10,"endColumn":36,"fileName":"pxt_modules/game/physics.ts","functionName":"removeSprite","argumentNames":["this","sprite"]}

function PhysicsEngine_removeSprite__P31623_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: PhysicsEngine_removeSprite__P31623, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_kind__P31531(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_kind"];
    return leave(s, r0)
  default: oops()
} } }
Sprite_kind__P31531.info = {"start":10604,"length":41,"line":387,"column":4,"endLine":389,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"kind","argumentNames":["this"]}

function Sprite_kind__P31531_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_kind__P31531, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function controller__setUserEventsEnabled__P31415(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    globals._userEventsEnabled___34499 = (s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller__setUserEventsEnabled__P31415.info = {"start":19246,"length":101,"line":587,"column":4,"endLine":589,"endColumn":5,"fileName":"pxt_modules/game/controller.ts","functionName":"_setUserEventsEnabled","argumentNames":["enabled"]}

function controller__setUserEventsEnabled__P31415_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller__setUserEventsEnabled__P31415, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function scene_systemMenu_MenuOption_constructor__P32073(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C32072_VT)) failedCast(r0);
    r0 = (s.arg0).fields["iconImage"] = (s.arg1);
    r0 = (s.arg0).fields["getText"] = (s.arg2);
    r0 = (s.arg0).fields["action"] = (s.arg3);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_MenuOption_constructor__P32073.info = {"start":786,"length":108,"line":38,"column":8,"endLine":39,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":["this","iconImage","getText","action"]}

function scene_systemMenu_MenuOption_constructor__P32073_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_MenuOption_constructor__P32073, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function helpers_screenBrightness__P31197(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = globals.brightness___31185;
    return leave(s, r0)
  default: oops()
} } }
helpers_screenBrightness__P31197.info = {"start":6459,"length":98,"line":217,"column":4,"endLine":219,"endColumn":5,"fileName":"pxt_modules/screen/image.ts","functionName":"screenBrightness","argumentNames":["img"]}

function helpers_screenBrightness__P31197_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_screenBrightness__P31197, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function scene_systemMenu_PauseMenu_show__P32082(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.current___48656 = undefined;
    s.i___48657 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C32080_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = if_generator_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!s.tmp_2.arg0.vtable.iface) {
      setupLambda(s.tmp_2, pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "generator"), 1);
      s.callLocIdx = 1008; s.pc = 3; return s.tmp_2;
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["generator"];
      if (s.tmp_2.fn == null) { setupLambda(s.tmp_2, s.tmp_2.arg0.fields["generator"], 1); s.callLocIdx = 1008; s.pc = 3; return s.tmp_2; }
      else if (s.tmp_2.fn.isGetter) { s.tmp_2.stage2Call = true; s.callLocIdx = 1008; s.pc = 3; return s.tmp_2;; }
     else { s.callLocIdx = 1008; s.pc = 3; return s.tmp_2; }
    }
  case 3:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["options"] = (s.tmp_1);
    r0 = (s.arg0).fields["selection"] = (0);
    s.i___48657 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___48657;
    r0 = s.arg0.fields["options"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.arg0.fields["options"];
    s.tmp_4 = r0;
    r0 = pxsim_Array__getAt(s.tmp_4, s.i___48657);
    s.current___48656 = (r0);
    s.tmp_0 = scene_systemMenu_MenuOption_show__P32074_mk(s);
    s.tmp_0.arg0 = s.current___48656;
    s.callLocIdx = 1009; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = scene_systemMenu_MenuOption_setTheme__P32077_mk(s);
    s.tmp_0.arg0 = s.current___48656;
    r0 = s.arg0.fields["theme"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1010; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = scene_systemMenu_MenuOption_position__P32075_mk(s);
    s.tmp_0.arg0 = s.current___48656;
    s.tmp_2 = if_padding_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_2.arg0 = r0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "padding");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["padding"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["padding"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 1011; s.pc = 7; return s.tmp_2; }
    }
  case 7:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_5 = r0 = s.i___48657;
    s.tmp_7 = if_cardsPerRow_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_7.arg0 = r0;
    if (!s.tmp_7.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, "cardsPerRow");
    } else {
      s.tmp_7.fn = s.tmp_7.arg0.vtable.iface["cardsPerRow"];
      if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields["cardsPerRow"]; }
      else if (!s.tmp_7.fn.isGetter) { s.retval = bind(s.tmp_7); }
     else { s.callLocIdx = 1012; s.pc = 8; return s.tmp_7; }
    }
  case 8:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = (s.tmp_5 % s.tmp_6);
    s.tmp_4 = r0;
    s.tmp_10 = if_cardWidth_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_10.arg0 = r0;
    if (!s.tmp_10.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_10.arg0, "cardWidth");
    } else {
      s.tmp_10.fn = s.tmp_10.arg0.vtable.iface["cardWidth"];
      if (s.tmp_10.fn == null) { s.retval = s.tmp_10.arg0.fields["cardWidth"]; }
      else if (!s.tmp_10.fn.isGetter) { s.retval = bind(s.tmp_10); }
     else { s.callLocIdx = 1013; s.pc = 9; return s.tmp_10; }
    }
  case 9:
    r0 = s.retval;
    s.tmp_9 = r0;
    s.tmp_12 = if_cardSpacing_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_12.arg0 = r0;
    if (!s.tmp_12.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_12.arg0, "cardSpacing");
    } else {
      s.tmp_12.fn = s.tmp_12.arg0.vtable.iface["cardSpacing"];
      if (s.tmp_12.fn == null) { s.retval = s.tmp_12.arg0.fields["cardSpacing"]; }
      else if (!s.tmp_12.fn.isGetter) { s.retval = bind(s.tmp_12); }
     else { s.callLocIdx = 1014; s.pc = 10; return s.tmp_12; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = (s.tmp_9 + s.tmp_11);
    s.tmp_8 = r0;
    r0 = (s.tmp_4 * s.tmp_8);
    s.tmp_3 = r0;
    r0 = (s.tmp_1 + s.tmp_3);
    s.tmp_0.arg1 = r0;
    s.tmp_14 = if_cardsTop_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_14.arg0 = r0;
    if (!s.tmp_14.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_14.arg0, "cardsTop");
    } else {
      s.tmp_14.fn = s.tmp_14.arg0.vtable.iface["cardsTop"];
      if (s.tmp_14.fn == null) { s.retval = s.tmp_14.arg0.fields["cardsTop"]; }
      else if (!s.tmp_14.fn.isGetter) { s.retval = bind(s.tmp_14); }
     else { s.callLocIdx = 1015; s.pc = 11; return s.tmp_14; }
    }
  case 11:
    r0 = s.retval;
    s.tmp_13 = r0;
    s.tmp_17 = r0 = s.i___48657;
    s.tmp_19 = if_cardsPerRow_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_19.arg0 = r0;
    if (!s.tmp_19.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_19.arg0, "cardsPerRow");
    } else {
      s.tmp_19.fn = s.tmp_19.arg0.vtable.iface["cardsPerRow"];
      if (s.tmp_19.fn == null) { s.retval = s.tmp_19.arg0.fields["cardsPerRow"]; }
      else if (!s.tmp_19.fn.isGetter) { s.retval = bind(s.tmp_19); }
     else { s.callLocIdx = 1016; s.pc = 12; return s.tmp_19; }
    }
  case 12:
    r0 = s.retval;
    s.tmp_18 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_17, s.tmp_18);
    s.tmp_16 = r0;
    s.tmp_22 = if_cardWidth_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_22.arg0 = r0;
    if (!s.tmp_22.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_22.arg0, "cardWidth");
    } else {
      s.tmp_22.fn = s.tmp_22.arg0.vtable.iface["cardWidth"];
      if (s.tmp_22.fn == null) { s.retval = s.tmp_22.arg0.fields["cardWidth"]; }
      else if (!s.tmp_22.fn.isGetter) { s.retval = bind(s.tmp_22); }
     else { s.callLocIdx = 1017; s.pc = 13; return s.tmp_22; }
    }
  case 13:
    r0 = s.retval;
    s.tmp_21 = r0;
    s.tmp_24 = if_cardSpacing_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_24.arg0 = r0;
    if (!s.tmp_24.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_24.arg0, "cardSpacing");
    } else {
      s.tmp_24.fn = s.tmp_24.arg0.vtable.iface["cardSpacing"];
      if (s.tmp_24.fn == null) { s.retval = s.tmp_24.arg0.fields["cardSpacing"]; }
      else if (!s.tmp_24.fn.isGetter) { s.retval = bind(s.tmp_24); }
     else { s.callLocIdx = 1018; s.pc = 14; return s.tmp_24; }
    }
  case 14:
    r0 = s.retval;
    s.tmp_23 = r0;
    r0 = (s.tmp_21 + s.tmp_23);
    s.tmp_20 = r0;
    r0 = (s.tmp_16 * s.tmp_20);
    s.tmp_15 = r0;
    r0 = (s.tmp_13 + s.tmp_15);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1019; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    r0 = (s.i___48657 + 1);
    s.i___48657 = (r0);
    { step = 1; continue; }
  case 2:
    s.tmp_0 = controller__setUserEventsEnabled__P31415_mk(s);
    s.tmp_0.arg0 = false;
    s.callLocIdx = 1020; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P48720);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.A___31338;
    s.tmp_1.arg1 = 2053;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1022; s.pc = 16; return s.tmp_1;
  case 16:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P48740);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.A___31338;
    s.tmp_1.arg1 = 2052;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1024; s.pc = 17; return s.tmp_1;
  case 17:
    r0 = s.retval;
    s.tmp_0 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_0.arg0 = globals.B___31339;
    s.tmp_0.arg1 = 2053;
    s.tmp_0.arg2 = inline__P48769;
    s.callLocIdx = 1026; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    s.tmp_0 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_0.arg0 = globals.menu___31344;
    s.tmp_0.arg1 = 2053;
    s.tmp_0.arg2 = inline__P48774;
    s.callLocIdx = 1028; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P48779);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.up___31341;
    s.tmp_1.arg1 = 2053;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1032; s.pc = 20; return s.tmp_1;
  case 20:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P48791);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.left___31340;
    s.tmp_1.arg1 = 2053;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1035; s.pc = 21; return s.tmp_1;
  case 21:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P48800);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.down___31343;
    s.tmp_1.arg1 = 2053;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1039; s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P48816);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = controller_Button_onEvent__P31371_mk(s);
    s.tmp_1.arg0 = globals.right___31342;
    s.tmp_1.arg1 = 2053;
    s.tmp_1.arg2 = s.tmp_0;
    s.callLocIdx = 1042; s.pc = 23; return s.tmp_1;
  case 23:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P48828);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = game_onShade__P32005_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 1045; s.pc = 24; return s.tmp_1;
  case 24:
    r0 = s.retval;
    s.tmp_0 = scene_systemMenu_PauseMenu_setSelection__P32084_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1046; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_PauseMenu_show__P32082.info = {"start":3296,"length":2241,"line":123,"column":8,"endLine":181,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"show","argumentNames":["this"]}

function scene_systemMenu_PauseMenu_show__P32082_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_PauseMenu_show__P32082, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  tmp_19: undefined,
  tmp_20: undefined,
  tmp_21: undefined,
  tmp_22: undefined,
  tmp_23: undefined,
  tmp_24: undefined,
  current___48656: undefined,
  i___48657: undefined,
  arg0: undefined,
} }





function inline__P48720(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["options"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.caps[0].fields["options"];
    s.tmp_5 = r0;
    r0 = s.caps[0].fields["selection"];
    s.tmp_6 = r0;
    r0 = pxsim_Array__getAt(s.tmp_5, s.tmp_6);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
  case 2:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
  case 3:
  case 4:
    s.tmp_8 = scene_systemMenu_MenuOption_setState__P32078_mk(s);
    r0 = s.caps[0].fields["options"];
    s.tmp_9 = r0;
    r0 = s.caps[0].fields["selection"];
    s.tmp_10 = r0;
    r0 = pxsim_Array__getAt(s.tmp_9, s.tmp_10);
    s.tmp_8.arg0 = r0;
    s.tmp_8.arg1 = 1;
    s.callLocIdx = 1021; s.pc = 6; return s.tmp_8;
  case 6:
    r0 = s.retval;
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P48720.info = {"start":4025,"length":170,"line":140,"column":50,"endLine":143,"endColumn":13,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P48720_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48720, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
} }





function inline__P48740(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["options"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.caps[0].fields["options"];
    s.tmp_5 = r0;
    r0 = s.caps[0].fields["selection"];
    s.tmp_6 = r0;
    r0 = pxsim_Array__getAt(s.tmp_5, s.tmp_6);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
  case 2:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
  case 3:
  case 4:
    s.tmp_8 = scene_systemMenu_MenuOption_setState__P32078_mk(s);
    r0 = s.caps[0].fields["options"];
    s.tmp_9 = r0;
    r0 = s.caps[0].fields["selection"];
    s.tmp_10 = r0;
    r0 = pxsim_Array__getAt(s.tmp_9, s.tmp_10);
    s.tmp_8.arg0 = r0;
    s.tmp_8.arg1 = 0;
    s.callLocIdx = 1023; s.pc = 6; return s.tmp_8;
  case 6:
    r0 = s.retval;
    r0 = s.caps[0].fields["options"];
    s.tmp_1 = r0;
    r0 = s.caps[0].fields["selection"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, s.tmp_2);
    r0 = r0.fields["action"];
    s.tmp_0 = r0;
    r0 = pxsim.control.runInParallel(s.tmp_0);
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P48740.info = {"start":4247,"length":247,"line":145,"column":48,"endLine":149,"endColumn":13,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P48740_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48740, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
} }





function inline__P48769(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = scene_systemMenu_closeMenu__P32087_mk(s);
    s.callLocIdx = 1025; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P48769.info = {"start":4548,"length":50,"line":151,"column":50,"endLine":153,"endColumn":13,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P48769_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48769, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P48774(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = scene_systemMenu_closeMenu__P32087_mk(s);
    s.callLocIdx = 1027; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P48774.info = {"start":4655,"length":50,"line":155,"column":53,"endLine":157,"endColumn":13,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P48774_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48774, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P48779(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = scene_systemMenu_PauseMenu_setSelection__P32084_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_1 = Math_max__P29552_mk(s);
    s.tmp_1.arg0 = 0;
    r0 = s.caps[0].fields["selection"];
    s.tmp_2 = r0;
    s.tmp_4 = if_cardsPerRow_1_mk(s);
    r0 = s.caps[0].fields["theme"];
    s.tmp_4.arg0 = r0;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "cardsPerRow");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["cardsPerRow"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["cardsPerRow"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 1029; s.pc = 3; return s.tmp_4; }
    }
  case 3:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 - s.tmp_3);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1030; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1031; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P48779.info = {"start":4760,"length":110,"line":159,"column":51,"endLine":161,"endColumn":13,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P48779_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48779, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
} }





function inline__P48791(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = scene_systemMenu_PauseMenu_setSelection__P32084_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_1 = Math_max__P29552_mk(s);
    s.tmp_1.arg0 = 0;
    r0 = s.caps[0].fields["selection"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1033; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1034; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P48791.info = {"start":4927,"length":89,"line":163,"column":53,"endLine":165,"endColumn":13,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P48791_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48791, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function inline__P48800(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = scene_systemMenu_PauseMenu_setSelection__P32084_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_1 = Math_min__P29553_mk(s);
    r0 = s.caps[0].fields["options"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1.arg0 = r0;
    r0 = s.caps[0].fields["selection"];
    s.tmp_4 = r0;
    s.tmp_6 = if_cardsPerRow_1_mk(s);
    r0 = s.caps[0].fields["theme"];
    s.tmp_6.arg0 = r0;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "cardsPerRow");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["cardsPerRow"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["cardsPerRow"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 1036; s.pc = 3; return s.tmp_6; }
    }
  case 3:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.tmp_4 + s.tmp_5);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1037; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1038; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P48800.info = {"start":5073,"length":132,"line":167,"column":53,"endLine":169,"endColumn":13,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P48800_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48800, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
} }





function inline__P48816(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = scene_systemMenu_PauseMenu_setSelection__P32084_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_1 = Math_min__P29553_mk(s);
    r0 = s.caps[0].fields["options"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1.arg0 = r0;
    r0 = s.caps[0].fields["selection"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 1);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1040; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1041; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P48816.info = {"start":5263,"length":111,"line":171,"column":54,"endLine":173,"endColumn":13,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P48816_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48816, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
} }





function inline__P48828(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = scene_systemMenu_PauseMenu_onUpdate__P32083_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 1043; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = scene_systemMenu_PauseMenu_drawText__P32085_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 1044; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P48828.info = {"start":5403,"length":87,"line":175,"column":25,"endLine":178,"endColumn":13,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":[]}

function inline__P48828_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P48828, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function scene_systemMenu_PauseMenu_drawText__P32085(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C32080_VT)) failedCast(r0);
    r0 = s.arg0.fields["options"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_3 = helpers_imageFillRect__P31189_mk(s);
    s.tmp_3.arg0 = globals.screen___31263;
    s.tmp_3.arg1 = 0;
    s.tmp_3.arg2 = 0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_3.arg3 = r0;
    s.tmp_5 = if_cardsTop_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_5.arg0 = r0;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "cardsTop");
    } else {
      s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["cardsTop"];
      if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["cardsTop"]; }
      else if (!s.tmp_5.fn.isGetter) { s.retval = bind(s.tmp_5); }
     else { s.callLocIdx = 1057; s.pc = 5; return s.tmp_5; }
    }
  case 5:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - 2);
    s.tmp_3.arg4 = r0;
    s.tmp_3.arg5 = 15;
    s.callLocIdx = 1058; s.pc = 4; return s.tmp_3;
  case 4:
    r0 = s.retval;
    s.tmp_0 = helpers_imagePrintCenter__P31220_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_1 = if_headerText_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_1.arg0 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "headerText");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["headerText"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["headerText"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 1059; s.pc = 7; return s.tmp_1; }
    }
  case 7:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = 2;
    s.tmp_0.arg3 = 1;
    s.tmp_2 = if_headerFont_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_2.arg0 = r0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "headerFont");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["headerFont"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["headerFont"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 1060; s.pc = 8; return s.tmp_2; }
    }
  case 8:
    r0 = s.retval;
    s.tmp_0.arg4 = r0;
    s.callLocIdx = 1061; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.tmp_0 = helpers_imageFillRect__P31189_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_0.arg1 = 0;
    s.tmp_2 = if_infoTop_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_2.arg0 = r0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "infoTop");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["infoTop"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["infoTop"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 1062; s.pc = 10; return s.tmp_2; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 3);
    s.tmp_0.arg2 = r0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_0.arg3 = r0;
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.tmp_4 = r0;
    s.tmp_6 = if_infoTop_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_6.arg0 = r0;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "infoTop");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["infoTop"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["infoTop"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 1063; s.pc = 11; return s.tmp_6; }
    }
  case 11:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.tmp_4 - s.tmp_5);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 6);
    s.tmp_0.arg4 = r0;
    s.tmp_0.arg5 = 15;
    s.callLocIdx = 1064; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.tmp_0 = helpers_imageFillRect__P31189_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_1 = if_padding_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_1.arg0 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "padding");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["padding"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["padding"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 1065; s.pc = 13; return s.tmp_1; }
    }
  case 13:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_2 = if_infoTop_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_2.arg0 = r0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "infoTop");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["infoTop"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["infoTop"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 1066; s.pc = 14; return s.tmp_2; }
    }
  case 14:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_3 = r0;
    s.tmp_6 = if_padding_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_6.arg0 = r0;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "padding");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["padding"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["padding"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 1067; s.pc = 15; return s.tmp_6; }
    }
  case 15:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.tmp_5 << 1);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 - s.tmp_4);
    s.tmp_0.arg3 = r0;
    s.tmp_8 = if_charHeight_1_mk(s);
    s.tmp_9 = if_infoFont_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_9.arg0 = r0;
    if (!s.tmp_9.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_9.arg0, "infoFont");
    } else {
      s.tmp_9.fn = s.tmp_9.arg0.vtable.iface["infoFont"];
      if (s.tmp_9.fn == null) { s.retval = s.tmp_9.arg0.fields["infoFont"]; }
      else if (!s.tmp_9.fn.isGetter) { s.retval = bind(s.tmp_9); }
     else { s.callLocIdx = 1068; s.pc = 17; return s.tmp_9; }
    }
  case 17:
    r0 = s.retval;
    s.tmp_8.arg0 = r0;
    if (!s.tmp_8.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_8.arg0, "charHeight");
    } else {
      s.tmp_8.fn = s.tmp_8.arg0.vtable.iface["charHeight"];
      if (s.tmp_8.fn == null) { s.retval = s.tmp_8.arg0.fields["charHeight"]; }
      else if (!s.tmp_8.fn.isGetter) { s.retval = bind(s.tmp_8); }
     else { s.callLocIdx = 1069; s.pc = 16; return s.tmp_8; }
    }
  case 16:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = (s.tmp_7 + 1);
    s.tmp_0.arg4 = r0;
    s.tmp_0.arg5 = 1;
    s.callLocIdx = 1070; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.tmp_0 = helpers_imagePrintCenter__P31220_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_1 = if_getText_1_mk(s);
    r0 = s.arg0.fields["options"];
    s.tmp_2 = r0;
    r0 = s.arg0.fields["selection"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__getAt(s.tmp_2, s.tmp_3);
    s.tmp_1.arg0 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "getText"), 1);
      s.callLocIdx = 1071; s.pc = 19; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["getText"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["getText"], 1); s.callLocIdx = 1071; s.pc = 19; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 1071; s.pc = 19; return s.tmp_1;; }
     else { s.callLocIdx = 1071; s.pc = 19; return s.tmp_1; }
    }
  case 19:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_5 = if_infoTop_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_5.arg0 = r0;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "infoTop");
    } else {
      s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["infoTop"];
      if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["infoTop"]; }
      else if (!s.tmp_5.fn.isGetter) { s.retval = bind(s.tmp_5); }
     else { s.callLocIdx = 1072; s.pc = 20; return s.tmp_5; }
    }
  case 20:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 1);
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 15;
    s.tmp_6 = if_infoFont_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_6.arg0 = r0;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "infoFont");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["infoFont"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["infoFont"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 1073; s.pc = 21; return s.tmp_6; }
    }
  case 21:
    r0 = s.retval;
    s.tmp_0.arg4 = r0;
    s.callLocIdx = 1074; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_PauseMenu_drawText__P32085.info = {"start":6927,"length":795,"line":224,"column":8,"endLine":241,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"drawText","argumentNames":["this"]}

function scene_systemMenu_PauseMenu_drawText__P32085_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_PauseMenu_drawText__P32085, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  arg0: undefined,
} }





function helpers_imagePrintCenter__P31220(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.w___48915 = undefined;
    s.x___48921 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg4);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = image_getFontForText__P31208_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 186; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.arg4 = (r0);
  case 1:
  case 2:
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_0 = r0;
    s.tmp_2 = if_charWidth_1_mk(s);
    s.tmp_2.arg0 = s.arg4;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "charWidth");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["charWidth"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["charWidth"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 187; s.pc = 4; return s.tmp_2; }
    }
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 * s.tmp_1);
    s.w___48915 = (r0);
    r0 = pxsim_ImageMethods.width(s.arg0);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - s.w___48915);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 2);
    s.x___48921 = (r0);
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.x___48921;
    s.tmp_0.arg3 = s.arg2;
    s.tmp_0.arg4 = s.arg3;
    s.tmp_0.arg5 = s.arg4;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 188; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
helpers_imagePrintCenter__P31220.info = {"start":15025,"length":295,"line":206,"column":4,"endLine":211,"endColumn":5,"fileName":"pxt_modules/screen/text.ts","functionName":"imagePrintCenter","argumentNames":["img","text","y","color","font"]}

function helpers_imagePrintCenter__P31220_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_imagePrintCenter__P31220, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  w___48915: undefined,
  x___48921: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function scene_systemMenu_PauseMenu_setSelection__P32084(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C32080_VT)) failedCast(r0);
    r0 = s.arg0.fields["options"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 9; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["options"];
    s.tmp_4 = r0;
    r0 = s.arg0.fields["selection"];
    s.tmp_5 = r0;
    r0 = pxsim_Array__getAt(s.tmp_4, s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    s.tmp_6 = scene_systemMenu_MenuOption_setState__P32078_mk(s);
    r0 = s.arg0.fields["options"];
    s.tmp_7 = r0;
    r0 = s.arg0.fields["selection"];
    s.tmp_8 = r0;
    r0 = pxsim_Array__getAt(s.tmp_7, s.tmp_8);
    s.tmp_6.arg0 = r0;
    s.tmp_6.arg1 = 2;
    s.callLocIdx = 1054; s.pc = 10; return s.tmp_6;
  case 10:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = (s.arg0).fields["selection"] = (s.arg1);
    r0 = s.arg0.fields["options"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["selection"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_1, s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_4 = controller_Button__C31364_v0_1_mk(s);
    s.tmp_4.arg0 = globals.A___31338;
    if (!checkSubtype(s.tmp_4.arg0, controller_Button__C31364_VT)) failedCast(s.tmp_4.arg0);
    s.tmp_4.fn = s.tmp_4.arg0.vtable.methods.isPressed;
    s.pc = 11; return s.tmp_4;
  case 11:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 5; continue; }
    r0 = 1;
    { step = 6; continue; }
  case 5:
    r0 = 0;
  case 6:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    s.tmp_6 = scene_systemMenu_MenuOption_setState__P32078_mk(s);
    r0 = s.arg0.fields["options"];
    s.tmp_7 = r0;
    r0 = s.arg0.fields["selection"];
    s.tmp_8 = r0;
    r0 = pxsim_Array__getAt(s.tmp_7, s.tmp_8);
    s.tmp_6.arg0 = r0;
    s.tmp_6.arg1 = s.tmp_5;
    s.callLocIdx = 1055; s.pc = 12; return s.tmp_6;
  case 12:
    r0 = s.retval;
  case 7:
  case 8:
    s.tmp_0 = scene_systemMenu_PauseMenu_updateScrollTarget__P34925_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1056; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
  case 9:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_PauseMenu_setSelection__P32084.info = {"start":6436,"length":481,"line":208,"column":8,"endLine":222,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"setSelection","argumentNames":["this","selection"]}

function scene_systemMenu_PauseMenu_setSelection__P32084_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_PauseMenu_setSelection__P32084, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function scene_systemMenu_PauseMenu_updateScrollTarget__P34925(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.row___49108 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C32080_VT)) failedCast(r0);
    r0 = s.arg0.fields["selection"];
    s.tmp_0 = r0;
    s.tmp_2 = if_cardsPerRow_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_2.arg0 = r0;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "cardsPerRow");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["cardsPerRow"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["cardsPerRow"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 1077; s.pc = 8; return s.tmp_2; }
    }
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_0, s.tmp_1);
    s.row___49108 = (r0);
    r0 = s.arg0.fields["scrollRow"];
    s.tmp_1 = r0;
    r0 = (s.row___49108 === s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.row___49108 - 1);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["scrollRow"];
    s.tmp_3 = r0;
    r0 = (s.tmp_2 === s.tmp_3);
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = s.arg0.fields["scrollRow"];
    s.tmp_6 = r0;
    r0 = (s.row___49108 > s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 5; continue; }
    s.tmp_7 = r0 = s.arg0;
    r0 = s.tmp_7.fields["scrollRow"];
    s.tmp_9 = r0;
    r0 = (s.tmp_9 + 1);
    s.tmp_8 = r0;
    r0 = (s.tmp_7).fields["scrollRow"] = (s.tmp_8);
    { step = 6; continue; }
  case 5:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["scrollRow"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["scrollRow"] = (s.tmp_1);
  case 6:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["scrollRow"];
    s.tmp_2 = r0;
    s.tmp_5 = if_cardSpacing_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_5.arg0 = r0;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "cardSpacing");
    } else {
      s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["cardSpacing"];
      if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["cardSpacing"]; }
      else if (!s.tmp_5.fn.isGetter) { s.retval = bind(s.tmp_5); }
     else { s.callLocIdx = 1078; s.pc = 9; return s.tmp_5; }
    }
  case 9:
    r0 = s.retval;
    s.tmp_4 = r0;
    s.tmp_7 = if_cardWidth_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_7.arg0 = r0;
    if (!s.tmp_7.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, "cardWidth");
    } else {
      s.tmp_7.fn = s.tmp_7.arg0.vtable.iface["cardWidth"];
      if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields["cardWidth"]; }
      else if (!s.tmp_7.fn.isGetter) { s.retval = bind(s.tmp_7); }
     else { s.callLocIdx = 1079; s.pc = 10; return s.tmp_7; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = (s.tmp_4 + s.tmp_6);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 * s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["scrollTarget"] = (s.tmp_1);
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_PauseMenu_updateScrollTarget__P34925.info = {"start":7907,"length":458,"line":250,"column":8,"endLine":260,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"updateScrollTarget","argumentNames":["this"]}

function scene_systemMenu_PauseMenu_updateScrollTarget__P34925_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_PauseMenu_updateScrollTarget__P34925, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  row___49108: undefined,
  arg0: undefined,
} }





function scene_systemMenu_PauseMenu_onUpdate__P32083(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.t___48937 = undefined;
    s.i___48941 = undefined;
    s.dt___48970 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C32080_VT)) failedCast(r0);
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 250);
    s.t___48937 = (r0);
    s.i___48941 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___48941;
    r0 = s.arg0.fields["options"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_4 = scene_systemMenu_MenuOption_setOffset__P32076_mk(s);
    r0 = s.arg0.fields["options"];
    s.tmp_5 = r0;
    r0 = pxsim_Array__getAt(s.tmp_5, s.i___48941);
    s.tmp_4.arg0 = r0;
    s.tmp_8 = r0 = s.t___48937;
    s.tmp_11 = r0 = s.i___48941;
    s.tmp_13 = if_cardsPerRow_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_13.arg0 = r0;
    if (!s.tmp_13.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_13.arg0, "cardsPerRow");
    } else {
      s.tmp_13.fn = s.tmp_13.arg0.vtable.iface["cardsPerRow"];
      if (s.tmp_13.fn == null) { s.retval = s.tmp_13.arg0.fields["cardsPerRow"]; }
      else if (!s.tmp_13.fn.isGetter) { s.retval = bind(s.tmp_13); }
     else { s.callLocIdx = 1047; s.pc = 11; return s.tmp_13; }
    }
  case 11:
    r0 = s.retval;
    s.tmp_12 = r0;
    r0 = (s.tmp_11 % s.tmp_12);
    s.tmp_10 = r0;
    r0 = (s.tmp_10 * 1.5707963267948966);
    s.tmp_9 = r0;
    r0 = (s.tmp_8 - s.tmp_9);
    s.tmp_7 = r0;
    r0 = pxsim.Math_.sin(s.tmp_7);
    s.tmp_6 = r0;
    r0 = (2 * s.tmp_6);
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 1048; s.pc = 10; return s.tmp_4;
  case 10:
    r0 = s.retval;
    r0 = (s.i___48941 + 1);
    s.i___48941 = (r0);
    { step = 1; continue; }
  case 2:
    s.tmp_1 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 1049; s.pc = 12; return s.tmp_1;
  case 12:
    r0 = s.retval;
    r0 = r0.fields["eventContext"];
    s.tmp_0 = r0;
    r0 = s.tmp_0.fields["deltaTimeMillis"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 / 1000);
    s.dt___48970 = (r0);
    r0 = s.arg0.fields["scrollOffset"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["scrollTarget"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = s.tmp_3.fields["scrollOffset"];
    s.tmp_5 = r0;
    r0 = (s.dt___48970 * 100);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 + s.tmp_6);
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["scrollOffset"] = (s.tmp_4);
    { step = 6; continue; }
  case 3:
    r0 = s.arg0.fields["scrollOffset"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["scrollTarget"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 > s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = s.tmp_3.fields["scrollOffset"];
    s.tmp_5 = r0;
    r0 = (s.dt___48970 * 100);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 - s.tmp_6);
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["scrollOffset"] = (s.tmp_4);
    { step = 5; continue; }
  case 4:
    { step = 9; continue; }
  case 5:
  case 6:
    s.tmp_2 = Math_abs__P29550_mk(s);
    r0 = s.arg0.fields["scrollOffset"];
    s.tmp_3 = r0;
    r0 = s.arg0.fields["scrollTarget"];
    s.tmp_4 = r0;
    r0 = (s.tmp_3 - s.tmp_4);
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 1051; s.pc = 13; return s.tmp_2;
  case 13:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = s.arg0.fields["scrollTarget"];
    s.tmp_5 = r0;
    r0 = (s.arg0).fields["scrollOffset"] = (s.tmp_5);
  case 7:
  case 8:
    s.tmp_0 = scene_Camera_offsetY__P31826_mk(s);
    s.tmp_1 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 1052; s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
    r0 = r0.fields["camera"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["scrollOffset"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1053; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
  case 9:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_PauseMenu_onUpdate__P32083.info = {"start":5547,"length":879,"line":183,"column":8,"endLine":206,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"onUpdate","argumentNames":["this"]}

function scene_systemMenu_PauseMenu_onUpdate__P32083_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_PauseMenu_onUpdate__P32083, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  t___48937: undefined,
  i___48941: undefined,
  dt___48970: undefined,
  arg0: undefined,
} }





function scene_systemMenu_MenuOption_setOffset__P32076(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C32072_VT)) failedCast(r0);
    s.tmp_0 = Sprite_top__P31528_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["top"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 + s.arg1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 990; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = Sprite_y__P31489_mk(s);
    r0 = s.arg0.fields["icon"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = Sprite_y__P31488_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 991; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 992; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_MenuOption_setOffset__P32076.info = {"start":1411,"length":123,"line":61,"column":8,"endLine":64,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"setOffset","argumentNames":["this","offset"]}

function scene_systemMenu_MenuOption_setOffset__P32076_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_MenuOption_setOffset__P32076, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_top__P31528(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.physics___49046 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 370; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = r0.fields["physicsEngine"];
    s.physics___49046 = (r0);
    s.tmp_0 = PhysicsEngine__C31620_v2_4_mk(s);
    s.tmp_0.arg0 = s.physics___49046;
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = 0;
    r0 = (s.arg1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_y"];
    s.tmp_3 = r0;
    r0 = (s.tmp_1 - s.tmp_3);
    s.tmp_0.arg3 = r0;
    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C31620_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.moveSprite;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_top__P31528.info = {"start":9733,"length":256,"line":355,"column":4,"endLine":365,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"top","argumentNames":["this","value"]}

function Sprite_top__P31528_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_top__P31528, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  physics___49046: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function PhysicsEngine_moveSprite__P31624(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, PhysicsEngine__C31620_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
PhysicsEngine_moveSprite__P31624.info = {"start":230,"length":43,"line":13,"column":4,"endLine":13,"endColumn":47,"fileName":"pxt_modules/game/physics.ts","functionName":"moveSprite","argumentNames":["this","s","dx","dy"]}

function PhysicsEngine_moveSprite__P31624_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: PhysicsEngine_moveSprite__P31624, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function Sprite_top__P31527(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_y"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 256);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_top__P31527.info = {"start":9590,"length":53,"line":350,"column":4,"endLine":352,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"top","argumentNames":["this"]}
Sprite_top__P31527.isGetter = true;

function Sprite_top__P31527_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_top__P31527, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Sprite_y__P31489(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = Sprite_top__P31528_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = r0 = s.arg1;
    r0 = s.arg0.fields["_image"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 / 2);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 - s.tmp_2);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 317; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_y__P31489.info = {"start":2022,"length":72,"line":86,"column":4,"endLine":88,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"y","argumentNames":["this","v"]}

function Sprite_y__P31489_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_y__P31489, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function scene_systemMenu_MenuOption_setState__P32078(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C32072_VT)) failedCast(r0);
    r0 = s.arg0.fields["state"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = (s.arg0).fields["state"] = (s.arg1);
    s.tmp_0 = scene_systemMenu_MenuOption_updateCard__P34924_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 994; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_MenuOption_setState__P32078.info = {"start":1655,"length":147,"line":71,"column":8,"endLine":75,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"setState","argumentNames":["this","state"]}

function scene_systemMenu_MenuOption_setState__P32078_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_MenuOption_setState__P32078, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function scene_systemMenu_MenuOption_updateCard__P34924(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C32072_VT)) failedCast(r0);
    r0 = s.arg0.fields["theme"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["state"];
    s.tmp_3 = r0;
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_3);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_3);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_3);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_3;
    { step = 6; continue; }
  case 3:
    s.tmp_4 = Sprite_setImage__P31517_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_4.arg0 = r0;
    s.tmp_5 = if_basicCard_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_5.arg0 = r0;
    if (!s.tmp_5.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_5.arg0, "basicCard");
    } else {
      s.tmp_5.fn = s.tmp_5.arg0.vtable.iface["basicCard"];
      if (s.tmp_5.fn == null) { s.retval = s.tmp_5.arg0.fields["basicCard"]; }
      else if (!s.tmp_5.fn.isGetter) { s.retval = bind(s.tmp_5); }
     else { s.callLocIdx = 997; s.pc = 9; return s.tmp_5; }
    }
  case 9:
    r0 = s.retval;
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 998; s.pc = 8; return s.tmp_4;
  case 8:
    r0 = s.retval;
    { step = 6; continue; }
  case 4:
    s.tmp_0 = Sprite_setImage__P31517_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = if_selectedCard_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_1.arg0 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "selectedCard");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["selectedCard"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["selectedCard"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 999; s.pc = 11; return s.tmp_1; }
    }
  case 11:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1000; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    { step = 6; continue; }
  case 5:
    s.tmp_0 = Sprite_setImage__P31517_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = if_activeCard_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_1.arg0 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "activeCard");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["activeCard"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["activeCard"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 1001; s.pc = 13; return s.tmp_1; }
    }
  case 13:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1002; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
  case 6:
    s.tmp_0 = Sprite_x__P31487_mk(s);
    r0 = s.arg0.fields["icon"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = Sprite_x__P31486_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 1003; s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1004; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    s.tmp_0 = Sprite_y__P31489_mk(s);
    r0 = s.arg0.fields["icon"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = Sprite_y__P31488_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 1005; s.pc = 17; return s.tmp_1;
  case 17:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1006; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_MenuOption_updateCard__P34924.info = {"start":2038,"length":497,"line":86,"column":8,"endLine":97,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"updateCard","argumentNames":["this"]}

function scene_systemMenu_MenuOption_updateCard__P34924_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_MenuOption_updateCard__P34924, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function Sprite_x__P31487(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = Sprite_left__P31524_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = r0 = s.arg1;
    r0 = s.arg0.fields["_image"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 / 2);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 - s.tmp_2);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 315; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_x__P31487.info = {"start":1673,"length":72,"line":75,"column":4,"endLine":77,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"x","argumentNames":["this","v"]}

function Sprite_x__P31487_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_x__P31487, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_left__P31524(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.physics___49574 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 362; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = r0.fields["physicsEngine"];
    s.physics___49574 = (r0);
    s.tmp_0 = PhysicsEngine__C31620_v2_4_mk(s);
    s.tmp_0.arg0 = s.physics___49574;
    s.tmp_0.arg1 = s.arg0;
    r0 = (s.arg1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_x"];
    s.tmp_3 = r0;
    r0 = (s.tmp_1 - s.tmp_3);
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 0;
    if (!checkSubtype(s.tmp_0.arg0, PhysicsEngine__C31620_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.moveSprite;
    s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_left__P31524.info = {"start":8929,"length":257,"line":325,"column":4,"endLine":335,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"left","argumentNames":["this","value"]}

function Sprite_left__P31524_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_left__P31524, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  physics___49574: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_left__P31523(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_x"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 256);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_left__P31523.info = {"start":8785,"length":53,"line":320,"column":4,"endLine":322,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"left","argumentNames":["this"]}
Sprite_left__P31523.isGetter = true;

function Sprite_left__P31523_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_left__P31523, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function scene_systemMenu_MenuOption_setTheme__P32077(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C32072_VT)) failedCast(r0);
    r0 = (s.arg0).fields["theme"] = (s.arg1);
    s.tmp_0 = scene_systemMenu_MenuOption_updateCard__P34924_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 993; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_MenuOption_setTheme__P32077.info = {"start":1544,"length":101,"line":66,"column":8,"endLine":69,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"setTheme","argumentNames":["this","theme"]}

function scene_systemMenu_MenuOption_setTheme__P32077_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_MenuOption_setTheme__P32077, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function scene_systemMenu_MenuOption_position__P32075(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C32072_VT)) failedCast(r0);
    r0 = (s.arg0).fields["top"] = (s.arg2);
    s.tmp_0 = Sprite_left__P31524_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 984; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = Sprite_top__P31528_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg2;
    s.callLocIdx = 985; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.tmp_0 = Sprite_x__P31487_mk(s);
    r0 = s.arg0.fields["icon"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = Sprite_x__P31486_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 986; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 987; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.tmp_0 = Sprite_y__P31489_mk(s);
    r0 = s.arg0.fields["icon"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = Sprite_y__P31488_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 988; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 989; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_MenuOption_position__P32075.info = {"start":1178,"length":223,"line":51,"column":8,"endLine":59,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"position","argumentNames":["this","left","top"]}

function scene_systemMenu_MenuOption_position__P32075_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_MenuOption_position__P32075, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function scene_systemMenu_MenuOption_show__P32074(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_MenuOption__C32072_VT)) failedCast(r0);
    r0 = s.arg0.fields["theme"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = if_basicCard_1_mk(s);
    r0 = s.arg0.fields["theme"];
    s.tmp_1.arg0 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "basicCard");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["basicCard"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["basicCard"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 979; s.pc = 3; return s.tmp_1; }
    }
  case 3:
    r0 = s.retval;
    { step = 2; continue; }
  case 1:
    r0 = globals.CARD_NORMAL___32096;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.tmp_3 = r0 = s.arg0;
    s.tmp_5 = sprites_create__P31435_mk(s);
    s.tmp_5.arg0 = s.tmp_2;
    s.tmp_5.arg1 = undefined;
    s.callLocIdx = 980; s.pc = 4; return s.tmp_5;
  case 4:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["card"] = (s.tmp_4);
    s.tmp_0 = if_z_2_mk(s);
    r0 = s.arg0.fields["card"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 1;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "z", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/z"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["z"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 981; s.pc = 5; return s.tmp_0; }
    }
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = sprites_create__P31435_mk(s);
    r0 = s.arg0.fields["iconImage"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = undefined;
    s.callLocIdx = 982; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["icon"] = (s.tmp_1);
    s.tmp_0 = if_z_2_mk(s);
    r0 = s.arg0.fields["icon"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = 2;
    if (!s.tmp_0.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapSetByString(s.tmp_0.arg0, "z", s.tmp_0.arg1);
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["set/z"];
      if (s.tmp_0.fn === null) { s.tmp_0.arg0.fields["z"] = s.tmp_0.arg1; }
      else if (s.tmp_0.fn === undefined) { failedCast(s.tmp_0.arg0) } 
     else { s.callLocIdx = 983; s.pc = 7; return s.tmp_0; }
    }
  case 7:
    r0 = s.retval;
    r0 = (s.arg0).fields["state"] = (2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_MenuOption_show__P32074.info = {"start":904,"length":264,"line":41,"column":8,"endLine":49,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"show","argumentNames":["this"]}

function scene_systemMenu_MenuOption_show__P32074_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_MenuOption_show__P32074, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function game_onShade__P32005(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = game_init__P34678_mk(s);
    s.tmp_0.arg0 = undefined;
    s.callLocIdx = 975; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = scene_createRenderable__P31841_mk(s);
    s.tmp_2.arg0 = 80;
    s.tmp_2.arg1 = s.arg0;
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 976; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_onShade__P32005.info = {"start":9934,"length":145,"line":320,"column":4,"endLine":324,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"onShade","argumentNames":["a"]}

function game_onShade__P32005_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_onShade__P32005, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function scene_systemMenu_PauseMenu_constructor__P32081(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_systemMenu_PauseMenu__C32080_VT)) failedCast(r0);
    r0 = (s.arg0).fields["generator"] = (s.arg1);
    s.tmp_0 = r0 = s.arg2;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_1 = scene_systemMenu_buildMenuTheme__P32089_mk(s);
    r0 = pxsim_ImageMethods.width(globals.CARD_NORMAL___32096);
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 3;
    s.tmp_1.arg2 = undefined;
    s.tmp_1.arg3 = undefined;
    s.callLocIdx = 1007; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = (s.arg0).fields["theme"] = (s.tmp_2);
    r0 = (s.arg0).fields["scrollRow"] = (0);
    r0 = (s.arg0).fields["scrollOffset"] = (0);
    r0 = (s.arg0).fields["scrollTarget"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_PauseMenu_constructor__P32081.info = {"start":3029,"length":257,"line":116,"column":8,"endLine":121,"endColumn":9,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"inline","argumentNames":["this","generator","theme"]}

function scene_systemMenu_PauseMenu_constructor__P32081_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_PauseMenu_constructor__P32081, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function scene_systemMenu_buildMenuTheme__P32089(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cardsPerRow___50048 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_0 = r0;
    r0 = (s.arg0 + s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_0, s.tmp_1);
    s.cardsPerRow___50048 = (r0);
    s.tmp_0 = r0 = s.arg2;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = globals.font8___31206;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.arg2 = (s.tmp_1);
    s.tmp_0 = r0 = s.arg3;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    s.tmp_1 = image_doubledFont__P31209_mk(s);
    s.tmp_1.arg0 = s.arg2;
    s.callLocIdx = 1116; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.arg3 = (s.tmp_2);
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "cardSpacing", s.arg1);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "cardWidth", s.arg0);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "cardsPerRow", s.cardsPerRow___50048);
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_3 = r0;
    r0 = (s.cardsPerRow___50048 * s.arg0);
    s.tmp_5 = r0;
    r0 = (s.cardsPerRow___50048 - 1);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 * s.arg1);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 + s.tmp_6);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 - s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 1);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "padding", s.tmp_1);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "infoFont", s.arg2);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "headerFont", s.arg3);
    s.tmp_11 = if_charHeight_1_mk(s);
    s.tmp_11.arg0 = s.arg3;
    if (!s.tmp_11.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_11.arg0, "charHeight");
    } else {
      s.tmp_11.fn = s.tmp_11.arg0.vtable.iface["charHeight"];
      if (s.tmp_11.fn == null) { s.retval = s.tmp_11.arg0.fields["charHeight"]; }
      else if (!s.tmp_11.fn.isGetter) { s.retval = bind(s.tmp_11); }
     else { s.callLocIdx = 1117; s.pc = 6; return s.tmp_11; }
    }
  case 6:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = (s.tmp_10 + 2);
    s.tmp_9 = r0;
    r0 = (s.tmp_9 + s.arg1);
    s.tmp_8 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "cardsTop", s.tmp_8);
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.tmp_14 = r0;
    s.tmp_16 = if_charHeight_1_mk(s);
    s.tmp_16.arg0 = s.arg2;
    if (!s.tmp_16.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_16.arg0, "charHeight");
    } else {
      s.tmp_16.fn = s.tmp_16.arg0.vtable.iface["charHeight"];
      if (s.tmp_16.fn == null) { s.retval = s.tmp_16.arg0.fields["charHeight"]; }
      else if (!s.tmp_16.fn.isGetter) { s.retval = bind(s.tmp_16); }
     else { s.callLocIdx = 1118; s.pc = 7; return s.tmp_16; }
    }
  case 7:
    r0 = s.retval;
    s.tmp_15 = r0;
    r0 = (s.tmp_14 - s.tmp_15);
    s.tmp_13 = r0;
    r0 = (s.tmp_13 - 2);
    s.tmp_12 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "infoTop", s.tmp_12);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "headerText", "PAUSED");
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "selectedCard", globals.CARD_SELECTED___32097);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "activeCard", globals.CARD_ACTIVE___32098);
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_0, "basicCard", globals.CARD_NORMAL___32096);
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_buildMenuTheme__P32089.info = {"start":11539,"length":906,"line":353,"column":4,"endLine":372,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"buildMenuTheme","argumentNames":["cardWidth","cardSpacing","infoFont","headerFont"]}

function scene_systemMenu_buildMenuTheme__P32089_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_buildMenuTheme__P32089, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  cardsPerRow___50048: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function image_doubledFont__P31209(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = image_scaledFont__P31210_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 2;
    s.callLocIdx = 180; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
image_doubledFont__P31209.info = {"start":12008,"length":82,"line":146,"column":4,"endLine":148,"endColumn":5,"fileName":"pxt_modules/screen/text.ts","functionName":"doubledFont","argumentNames":["f"]}

function image_doubledFont__P31209_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: image_doubledFont__P31209, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function image_scaledFont__P31210(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 | 0);
    s.arg1 = (r0);
    r0 = (s.arg1 < 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_1 = r0;
    s.tmp_4 = if_charWidth_1_mk(s);
    s.tmp_4.arg0 = s.arg0;
    if (!s.tmp_4.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_4.arg0, "charWidth");
    } else {
      s.tmp_4.fn = s.tmp_4.arg0.vtable.iface["charWidth"];
      if (s.tmp_4.fn == null) { s.retval = s.tmp_4.arg0.fields["charWidth"]; }
      else if (!s.tmp_4.fn.isGetter) { s.retval = bind(s.tmp_4); }
     else { s.callLocIdx = 181; s.pc = 6; return s.tmp_4; }
    }
  case 6:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_3 * s.arg1);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_1, "charWidth", s.tmp_2);
    s.tmp_7 = if_charHeight_1_mk(s);
    s.tmp_7.arg0 = s.arg0;
    if (!s.tmp_7.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, "charHeight");
    } else {
      s.tmp_7.fn = s.tmp_7.arg0.vtable.iface["charHeight"];
      if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields["charHeight"]; }
      else if (!s.tmp_7.fn.isGetter) { s.retval = bind(s.tmp_7); }
     else { s.callLocIdx = 182; s.pc = 7; return s.tmp_7; }
    }
  case 7:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = (s.tmp_6 * s.arg1);
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_1, "charHeight", s.tmp_5);
    s.tmp_9 = if_data_1_mk(s);
    s.tmp_9.arg0 = s.arg0;
    if (!s.tmp_9.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_9.arg0, "data");
    } else {
      s.tmp_9.fn = s.tmp_9.arg0.vtable.iface["data"];
      if (s.tmp_9.fn == null) { s.retval = s.tmp_9.arg0.fields["data"]; }
      else if (!s.tmp_9.fn.isGetter) { s.retval = bind(s.tmp_9); }
     else { s.callLocIdx = 183; s.pc = 8; return s.tmp_9; }
    }
  case 8:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_1, "data", s.tmp_8);
    s.tmp_11 = if_multiplier_1_mk(s);
    s.tmp_11.arg0 = s.arg0;
    if (!s.tmp_11.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_11.arg0, "multiplier");
    } else {
      s.tmp_11.fn = s.tmp_11.arg0.vtable.iface["multiplier"];
      if (s.tmp_11.fn == null) { s.retval = s.tmp_11.arg0.fields["multiplier"]; }
      else if (!s.tmp_11.fn.isGetter) { s.retval = bind(s.tmp_11); }
     else { s.callLocIdx = 184; s.pc = 9; return s.tmp_11; }
    }
  case 9:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_10);
    if (!r0) { step = 3; continue; }
    s.tmp_12 = r0 = s.arg1;
    s.tmp_14 = if_multiplier_1_mk(s);
    s.tmp_14.arg0 = s.arg0;
    if (!s.tmp_14.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_14.arg0, "multiplier");
    } else {
      s.tmp_14.fn = s.tmp_14.arg0.vtable.iface["multiplier"];
      if (s.tmp_14.fn == null) { s.retval = s.tmp_14.arg0.fields["multiplier"]; }
      else if (!s.tmp_14.fn.isGetter) { s.retval = bind(s.tmp_14); }
     else { s.callLocIdx = 185; s.pc = 10; return s.tmp_14; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_13 = r0;
    r0 = (s.tmp_12 * s.tmp_13);
    { step = 4; continue; }
  case 3:
    r0 = s.arg1;
  case 4:
    // jmp value (already in r0)
    s.tmp_15 = r0;
    r0 = pxsim_pxtrt.mapSetByString(s.tmp_1, "multiplier", s.tmp_15);
    r0 = s.tmp_1;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
image_scaledFont__P31210.info = {"start":12096,"length":331,"line":150,"column":4,"endLine":160,"endColumn":5,"fileName":"pxt_modules/screen/text.ts","functionName":"scaledFont","argumentNames":["f","size"]}

function image_scaledFont__P31210_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: image_scaledFont__P31210, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function scene_systemMenu_initScreen__P34937(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.brightness___50128 = undefined;
    s.tmp_0 = settings_readNumber__P31294_mk(s);
    s.tmp_0.arg0 = "#brightness";
    s.callLocIdx = 1125; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.brightness___50128 = (r0);
    r0 = (s.brightness___50128 !== undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = helpers_setScreenBrightness__P31196_mk(s);
    s.tmp_1.arg0 = globals.screen___31263;
    s.tmp_1.arg1 = s.brightness___50128;
    s.callLocIdx = 1126; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_initScreen__P34937.info = {"start":13273,"length":175,"line":402,"column":4,"endLine":406,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"initScreen","argumentNames":[]}

function scene_systemMenu_initScreen__P34937_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_initScreen__P34937, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  brightness___50128: undefined,
} }





function settings_readNumber__P31294(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___50139 = undefined;
    s.nums___50146 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.settings._get(s.arg0);
    s.buf___50139 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.buf___50139);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 7; continue; }
    { step = 6; continue; }
  case 1:
    s.tmp_2 = msgpack_unpackNumberArray__P29603_mk(s);
    s.tmp_2.arg0 = s.buf___50139;
    s.tmp_2.arg1 = 0;
    s.callLocIdx = 218; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.nums___50146 = (r0);
    s.tmp_0 = r0 = s.nums___50146;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = pxsim_Array__length(s.nums___50146);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 1);
  case 3:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.nums___50146, 0);
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = undefined;
    { step = 7; continue; }
  case 6:
    r0 = undefined;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
settings_readNumber__P31294.info = {"start":2887,"length":313,"line":114,"column":4,"endLine":124,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"readNumber","argumentNames":["key"]}

function settings_readNumber__P31294_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_readNumber__P31294, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  buf___50139: undefined,
  nums___50146: undefined,
  arg0: undefined,
} }





function msgpack_unpackNumberArray__P29603(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.res___50159 = undefined;
    s.fmt___50166 = undefined;
    s.v___50175 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__mk();
    s.res___50159 = (r0);
  case 1:
    s.tmp_1 = r0 = s.arg1;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    s.tmp_3 = r0 = s.arg1;
    r0 = (s.tmp_3 + 1);
    s.arg1 = (r0);
    s.tmp_4 = msgpack_tagFormat__P34294_mk(s);
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.tmp_3);
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 25; s.pc = 12; return s.tmp_4;
  case 12:
    r0 = s.retval;
    s.fmt___50166 = (r0);
    r0 = (s.fmt___50166 === null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = (s.arg1 - 1);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 6, s.tmp_2);
    s.v___50175 = (r0);
    r0 = (-31 <= s.v___50175);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.v___50175 <= 127);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__push(s.res___50159, s.v___50175);
    { step = 5; continue; }
  case 4:
    r0 = null;
    { step = 11; continue; }
  case 5:
    { step = 7; continue; }
  case 6:
    s.tmp_0 = r0 = s.res___50159;
    r0 = pxsim.BufferMethods.getNumber(s.arg0, s.fmt___50166, s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_0 = r0 = s.arg1;
    s.tmp_2 = pins_sizeOf__P29595_mk(s);
    s.tmp_2.arg0 = s.fmt___50166;
    s.callLocIdx = 26; s.pc = 13; return s.tmp_2;
  case 13:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.arg1 = (r0);
  case 7:
  case 8:
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.arg1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === 193);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = (s.arg1 + 1);
    s.arg1 = (r0);
    { step = 8; continue; }
  case 9:
    { step = 1; continue; }
  case 10:
    r0 = s.res___50159;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
msgpack_unpackNumberArray__P29603.info = {"start":2650,"length":669,"line":91,"column":4,"endLine":111,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"unpackNumberArray","argumentNames":["buf","offset"]}

function msgpack_unpackNumberArray__P29603_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: msgpack_unpackNumberArray__P29603, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  res___50159: undefined,
  fmt___50166: undefined,
  v___50175: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function scene_systemMenu_initVolume__P34936(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.vol___50216 = undefined;
    s.tmp_0 = settings_readNumber__P31294_mk(s);
    s.tmp_0.arg0 = "#volume";
    s.callLocIdx = 1123; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.vol___50216 = (r0);
    r0 = (s.vol___50216 !== undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = music_setVolume__P31053_mk(s);
    s.tmp_1.arg0 = s.vol___50216;
    s.callLocIdx = 1124; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_systemMenu_initVolume__P34936.info = {"start":13123,"length":144,"line":396,"column":4,"endLine":400,"endColumn":5,"fileName":"pxt_modules/game/systemmenu.ts","functionName":"initVolume","argumentNames":[]}

function scene_systemMenu_initVolume__P34936_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_systemMenu_initVolume__P34936, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  vol___50216: undefined,
} }





function game_currentScene__P31990(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = game_init__P34678_mk(s);
    s.tmp_0.arg0 = undefined;
    s.callLocIdx = 947; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = globals._scene___34670;
    return leave(s, r0)
  default: oops()
} } }
game_currentScene__P31990.info = {"start":667,"length":90,"line":22,"column":4,"endLine":25,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"currentScene","argumentNames":[]}

function game_currentScene__P31990_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_currentScene__P31990, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function game_addScenePopHandler__P32009(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals._scenePopHandlers___34673);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals._scenePopHandlers___34673 = (r0);
  case 1:
  case 2:
    r0 = pxsim_Array_.indexOf(globals._scenePopHandlers___34673, s.arg0, undefined);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array__push(globals._scenePopHandlers___34673, s.arg0);
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_addScenePopHandler__P32009.info = {"start":11754,"length":237,"line":368,"column":4,"endLine":372,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"addScenePopHandler","argumentNames":["handler"]}

function game_addScenePopHandler__P32009_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_addScenePopHandler__P32009, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function game_addScenePushHandler__P32007(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(globals._scenePushHandlers___34672);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals._scenePushHandlers___34672 = (r0);
  case 1:
  case 2:
    r0 = pxsim_Array_.indexOf(globals._scenePushHandlers___34672, s.arg0, undefined);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array__push(globals._scenePushHandlers___34672, s.arg0);
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_addScenePushHandler__P32007.info = {"start":10753,"length":242,"line":344,"column":4,"endLine":348,"endColumn":5,"fileName":"pxt_modules/game/game.ts","functionName":"addScenePushHandler","argumentNames":["handler"]}

function game_addScenePushHandler__P32007_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_addScenePushHandler__P32007, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function Fx8__P29571(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 * 256);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 | 0);
    return leave(s, r0)
  default: oops()
} } }
Fx8__P29571.info = {"start":42,"length":68,"line":4,"column":0,"endLine":6,"endColumn":1,"fileName":"pxt_modules/base/fixed.ts","functionName":"Fx8","argumentNames":["v"]}

function Fx8__P29571_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx8__P29571, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function SpriteKind_create__P31588(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = (globals.nextKind___34523 === undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    globals.nextKind___34523 = (1000);
  case 1:
  case 2:
    s.tmp_0 = r0 = globals.nextKind___34523;
    r0 = (s.tmp_0 + 1);
    globals.nextKind___34523 = (r0);
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
SpriteKind_create__P31588.info = {"start":750,"length":112,"line":25,"column":4,"endLine":28,"endColumn":5,"fileName":"pxt_modules/game/spritekind.ts","functionName":"create","argumentNames":[]}

function SpriteKind_create__P31588_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: SpriteKind_create__P31588, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function controller_Button_constructor__P31370(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Button__C31364_VT)) failedCast(r0);
    r0 = (s.arg0).fields["id"] = (s.arg1);
    r0 = (s.arg0).fields["_pressed"] = (false);
    r0 = (s.arg0).fields["repeatDelay"] = (undefined);
    r0 = (s.arg0).fields["repeatInterval"] = (undefined);
    r0 = (s.arg0).fields["_repeatCount"] = (0);
    r0 = (s.arg1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P50292);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);
    r0 = s.arg0.fields["id"];
    s.tmp_2 = r0;
    r0 = pxsim.control.internalOnEvent(2050, s.tmp_2, s.tmp_1, 16);
    r0 = pxsim_pxtcore_mkAction(1, inline__P50299);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = s.arg0.fields["id"];
    s.tmp_1 = r0;
    r0 = pxsim.control.internalOnEvent(2051, s.tmp_1, s.tmp_0, 16);
    r0 = (s.arg2 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
  case 1:
  case 2:
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Button_constructor__P31370.info = {"start":1589,"length":863,"line":67,"column":8,"endLine":83,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"inline","argumentNames":["this","id","configKey"]}

function controller_Button_constructor__P31370_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Button_constructor__P31370, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P50292(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = controller_Button_setPressed__P31375_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = false;
    s.callLocIdx = 234; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P50292.info = {"start":2211,"length":28,"line":77,"column":66,"endLine":77,"endColumn":94,"fileName":"pxt_modules/game/controller.ts","functionName":"inline","argumentNames":[]}

function inline__P50292_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P50292, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function inline__P50299(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = controller_Button_setPressed__P31375_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = true;
    s.callLocIdx = 235; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P50299.info = {"start":2313,"length":27,"line":78,"column":68,"endLine":78,"endColumn":95,"fileName":"pxt_modules/game/controller.ts","functionName":"inline","argumentNames":[]}

function inline__P50299_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P50299, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function controller_setupButton__P34505(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_setupButton__P34505.info = {"start":983,"length":93,"line":47,"column":4,"endLine":49,"endColumn":6,"fileName":"pxt_modules/game/controller.ts","functionName":"setupButton","argumentNames":["buttonId","key"]}

function controller_setupButton__P34505_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_setupButton__P34505, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function controller_Button_setPressed__P31375(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Button__C31364_VT)) failedCast(r0);
    r0 = s.arg0.fields["_pressed"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = power_poke__P31166_mk(s);
    s.callLocIdx = 238; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    r0 = s.arg0.fields["_owner"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = controller_Controller_connected__P31404_mk(s);
    r0 = s.arg0.fields["_owner"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = true;
    s.callLocIdx = 239; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = (s.arg0).fields["_pressed"] = (s.arg1);
    r0 = s.arg0.fields["_pressed"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = (s.arg0).fields["_pressedElasped"] = (0);
    s.tmp_0 = controller_Button_raiseButtonDown__P34507_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 240; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    r0 = (s.arg0).fields["_repeatCount"] = (0);
    s.tmp_0 = controller_Button_raiseButtonUp__P34506_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 241; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
  case 4:
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Button_setPressed__P31375.info = {"start":4600,"length":507,"line":148,"column":8,"endLine":162,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"setPressed","argumentNames":["this","pressed"]}

function controller_Button_setPressed__P31375_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Button_setPressed__P31375, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function controller_Button_raiseButtonDown__P34507(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Button__C31364_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(globals._userEventsEnabled___34499);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["id"];
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2049, s.tmp_0);
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["id"];
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2053, s.tmp_0);
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Button_raiseButtonDown__P34507.info = {"start":2672,"length":205,"line":92,"column":8,"endLine":97,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"raiseButtonDown","argumentNames":["this"]}

function controller_Button_raiseButtonDown__P34507_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Button_raiseButtonDown__P34507, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function controller_Button_raiseButtonUp__P34506(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Button__C31364_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(globals._userEventsEnabled___34499);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["id"];
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2048, s.tmp_0);
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["id"];
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(2052, s.tmp_0);
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Button_raiseButtonUp__P34506.info = {"start":2462,"length":200,"line":85,"column":8,"endLine":90,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"raiseButtonUp","argumentNames":["this"]}

function controller_Button_raiseButtonUp__P34506_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Button_raiseButtonUp__P34506, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function controller_Controller_connected__P31404(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    r0 = s.arg0.fields["_connected"];
    s.tmp_1 = r0;
    r0 = (s.arg1 != s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = (s.arg0).fields["_connected"] = (s.arg1);
    r0 = s.arg0.fields["_connected"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 1;
    { step = 2; continue; }
  case 1:
    r0 = 2;
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_id"];
    s.tmp_2 = r0;
    r0 = pxsim.control.raiseEvent(s.tmp_2, s.tmp_1);
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
controller_Controller_connected__P31404.info = {"start":12550,"length":261,"line":405,"column":8,"endLine":410,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"connected","argumentNames":["this","value"]}

function controller_Controller_connected__P31404_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller_connected__P31404, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function controller_Controller_id__P31391(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    r0 = s.arg0.fields["_id"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
controller_Controller_id__P31391.info = {"start":8841,"length":49,"line":276,"column":8,"endLine":278,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"id","argumentNames":["this"]}
controller_Controller_id__P31391.isGetter = true;

function controller_Controller_id__P31391_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller_id__P31391, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function controller_Controller_connected__P31403(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Controller__C31384_VT)) failedCast(r0);
    r0 = s.arg0.fields["_connected"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
controller_Controller_connected__P31403.info = {"start":12477,"length":63,"line":401,"column":8,"endLine":403,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"connected","argumentNames":["this"]}
controller_Controller_connected__P31403.isGetter = true;

function controller_Controller_connected__P31403_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Controller_connected__P31403, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function settings_initScopes__P34472(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.rn___50377 = undefined;
    s.tmp_1 = settings_runNumber__P31286_mk(s);
    s.callLocIdx = 209; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 1);
    s.rn___50377 = (r0);
    s.tmp_0 = settings_writeNumber__P31290_mk(s);
    s.tmp_0.arg0 = globals.RUN_KEY___34460;
    s.tmp_0.arg1 = s.rn___50377;
    s.callLocIdx = 210; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = pxsim.control.deviceSerialNumber();
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 2147483647);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.seedAddRandom(s.tmp_0);
    r0 = pxsim_pxtcore.seedAddRandom(s.rn___50377);
    s.tmp_0 = settings_setScope__P34471_mk(s);
    r0 = pxsim_pxtcore.programName();
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 211; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_initScopes__P34472.info = {"start":1104,"length":230,"line":41,"column":4,"endLine":49,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"initScopes","argumentNames":[]}

function settings_initScopes__P34472_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_initScopes__P34472, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  rn___50377: undefined,
} }





function settings_setScope__P34471(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.currScope___50406 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 100);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtrt.panic(922);
  case 3:
  case 4:
    s.tmp_0 = settings_readString__P31293_mk(s);
    s.tmp_0.arg0 = globals.SCOPE_KEY___34461;
    s.callLocIdx = 207; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.currScope___50406 = (r0);
    r0 = (s.currScope___50406 != s.arg0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = pxsim.settings._userClean();
    s.tmp_0 = settings_writeString__P31289_mk(s);
    s.tmp_0.arg0 = globals.SCOPE_KEY___34461;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 208; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_setScope__P34471.info = {"start":826,"length":272,"line":31,"column":4,"endLine":39,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"setScope","argumentNames":["scope"]}

function settings_setScope__P34471_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_setScope__P34471, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  currScope___50406: undefined,
  arg0: undefined,
} }





function settings_runNumber__P31286(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_1 = settings_readNumber__P31294_mk(s);
    s.tmp_1.arg0 = globals.RUN_KEY___34460;
    s.callLocIdx = 206; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
    return leave(s, r0)
  default: oops()
} } }
settings_runNumber__P31286.info = {"start":745,"length":75,"line":27,"column":4,"endLine":29,"endColumn":5,"fileName":"pxt_modules/settings/settings.ts","functionName":"runNumber","argumentNames":[]}

function settings_runNumber__P31286_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_runNumber__P31286, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function control___screen_setupUpdate__P31225(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    globals.__updated___34429 = (true);
    globals.__update___34427 = (s.arg0);
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = s.arg0;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 202; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control___screen_setupUpdate__P31225.info = {"start":198,"length":125,"line":10,"column":4,"endLine":14,"endColumn":5,"fileName":"pxt_modules/screen/frame.ts","functionName":"setupUpdate","argumentNames":["update"]}

function control___screen_setupUpdate__P31225_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control___screen_setupUpdate__P31225, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function control___screen_update__P31224(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim_numops_toBoolDecr(globals.__update___34427);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = lambda_1_mk(s);
    s.tmp_0.argL = globals.__update___34427;
    setupLambda(s.tmp_0, s.tmp_0.argL);
    s.callLocIdx = 201; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    globals.__updated___34429 = (true);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
control___screen_update__P31224.info = {"start":90,"length":102,"line":4,"column":4,"endLine":8,"endColumn":5,"fileName":"pxt_modules/screen/frame.ts","functionName":"update","argumentNames":[]}

function control___screen_update__P31224_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: control___screen_update__P31224, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function pause__P29829(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    setupResume(s, 1);
    pxsim.loops.pause(s.arg0);
    checkResumeConsumed();
    return;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
pause__P29829.info = {"start":246,"length":57,"line":7,"column":0,"endLine":9,"endColumn":1,"fileName":"pxt_modules/base/pause.ts","functionName":"pause","argumentNames":["ms"]}

function pause__P29829_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pause__P29829, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_AccelerometerClient_z__P33802(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_AccelerometerClient__C33798_VT)) failedCast(r0);
    s.tmp_0 = jacdac_AccelerometerClient_get__P33804_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 2;
    s.callLocIdx = 1627; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_AccelerometerClient_z__P33802.info = {"start":633,"length":71,"line":24,"column":8,"endLine":26,"endColumn":9,"fileName":"pxt_modules/jacdac-services/accelerometerclient.ts","functionName":"z","argumentNames":["this"]}
jacdac_AccelerometerClient_z__P33802.isGetter = true;

function jacdac_AccelerometerClient_z__P33802_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_AccelerometerClient_z__P33802, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_AccelerometerClient_get__P33804(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___53508 = undefined;
    s.r___53527 = undefined;
    s.i___53528 = undefined;
    s.x___53532 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_AccelerometerClient__C33798_VT)) failedCast(r0);
    s.tmp_0 = jacdac_SensorClient_state__P33772_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1628; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.s___53508 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.s___53508);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim.BufferMethods.length(s.s___53508);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 < 6);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = 0;
    { step = 11; continue; }
  case 3:
  case 4:
    s.tmp_4 = r0 = s.arg1;
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_4);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_4);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_4);
    if (r0) { step = 7; continue; }
    r0 = s.tmp_4;
    { step = 8; continue; }
  case 5:
  case 6:
  case 7:
    s.tmp_5 = r0 = s.s___53508;
    r0 = (s.arg1 * 2);
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_5, 3, s.tmp_6);
    { step = 11; continue; }
  case 8:
    s.r___53527 = (0);
    s.i___53528 = (0);
  case 9:
    r0 = (s.i___53528 < 3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    s.tmp_1 = r0 = s.s___53508;
    r0 = (s.i___53528 * 2);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 3, s.tmp_2);
    s.x___53532 = (r0);
    s.tmp_0 = r0 = s.r___53527;
    r0 = (s.x___53532 * s.x___53532);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    s.r___53527 = (r0);
    r0 = (s.i___53528 + 1);
    s.i___53528 = (r0);
    { step = 9; continue; }
  case 10:
    r0 = pxsim.Math_.sqrt(s.r___53527);
    { step = 11; continue; }
    r0 = undefined;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
jacdac_AccelerometerClient_get__P33804.info = {"start":1124,"length":652,"line":42,"column":8,"endLine":58,"endColumn":9,"fileName":"pxt_modules/jacdac-services/accelerometerclient.ts","functionName":"get","argumentNames":["this","dimension"]}

function jacdac_AccelerometerClient_get__P33804_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_AccelerometerClient_get__P33804, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  s___53508: undefined,
  r___53527: undefined,
  i___53528: undefined,
  x___53532: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_AccelerometerClient_y__P33801(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_AccelerometerClient__C33798_VT)) failedCast(r0);
    s.tmp_0 = jacdac_AccelerometerClient_get__P33804_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.callLocIdx = 1626; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_AccelerometerClient_y__P33801.info = {"start":475,"length":71,"line":17,"column":8,"endLine":19,"endColumn":9,"fileName":"pxt_modules/jacdac-services/accelerometerclient.ts","functionName":"y","argumentNames":["this"]}
jacdac_AccelerometerClient_y__P33801.isGetter = true;

function jacdac_AccelerometerClient_y__P33801_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_AccelerometerClient_y__P33801, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_AccelerometerClient_x__P33800(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_AccelerometerClient__C33798_VT)) failedCast(r0);
    s.tmp_0 = jacdac_AccelerometerClient_get__P33804_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 0;
    s.callLocIdx = 1625; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_AccelerometerClient_x__P33800.info = {"start":317,"length":71,"line":10,"column":8,"endLine":12,"endColumn":9,"fileName":"pxt_modules/jacdac-services/accelerometerclient.ts","functionName":"x","argumentNames":["this"]}
jacdac_AccelerometerClient_x__P33800.isGetter = true;

function jacdac_AccelerometerClient_x__P33800_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_AccelerometerClient_x__P33800, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_JDMelodyPlayer_queuePlayInstructions__P36585(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.timestamp___53562 = undefined;
    s.startPlay___53567 = undefined;
    s.off___53576 = undefined;
    s.soundWave___53590 = undefined;
    s.flags___53591 = undefined;
    s.frequency___53592 = undefined;
    s.duration___53593 = undefined;
    s.startVolume___53594 = undefined;
    s.endVolume___53595 = undefined;
    s.endFrequency___53596 = undefined;
    s.freq___53597 = undefined;
    s.vol___53603 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDMelodyPlayer__C36581_VT)) failedCast(r0);
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + s.arg1);
    s.timestamp___53562 = (r0);
    s.startPlay___53567 = (false);
    r0 = s.arg0.fields["queue"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["queue"] = (s.tmp_3);
    s.startPlay___53567 = (true);
  case 1:
  case 2:
    s.off___53576 = (0);
  case 3:
    s.tmp_1 = r0 = s.off___53576;
    r0 = pxsim.BufferMethods.length(s.arg2);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - 11);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_5 = helpers_bufferUnpack__P29609_mk(s);
    s.tmp_5.arg0 = s.arg2;
    s.tmp_5.arg1 = "BBHHHHH";
    s.tmp_5.arg2 = s.off___53576;
    s.callLocIdx = 1709; s.pc = 7; return s.tmp_5;
  case 7:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_Array__getAt(s.tmp_4, 0);
    s.soundWave___53590 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_4, 1);
    s.flags___53591 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_4, 2);
    s.frequency___53592 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_4, 3);
    s.duration___53593 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_4, 4);
    s.startVolume___53594 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_4, 5);
    s.endVolume___53595 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_4, 6);
    s.endFrequency___53596 = (r0);
    r0 = (s.frequency___53592 + s.endFrequency___53596);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 1);
    s.freq___53597 = (r0);
    r0 = (s.startVolume___53594 + s.endVolume___53595);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 1);
    s.vol___53603 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_ToneToPlay__C36578_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_ToneToPlay_constructor__P36579_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_2 = jacdac_tonePayload__P36580_mk(s);
    s.tmp_2.arg0 = s.freq___53597;
    s.tmp_2.arg1 = s.duration___53593;
    s.tmp_2.arg2 = s.vol___53603;
    s.callLocIdx = 1710; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = s.timestamp___53562;
    s.callLocIdx = 1711; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    r0 = s.arg0.fields["queue"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.tmp_0);
    r0 = (s.timestamp___53562 + s.duration___53593);
    s.timestamp___53562 = (r0);
    r0 = (s.off___53576 + 12);
    s.off___53576 = (r0);
    { step = 3; continue; }
  case 4:
    r0 = pxsim_numops_toBoolDecr(s.startPlay___53567);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P53630);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = control_runInBackground__P29706_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.callLocIdx = 1713; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDMelodyPlayer_queuePlayInstructions__P36585.info = {"start":1197,"length":874,"line":40,"column":8,"endLine":57,"endColumn":9,"fileName":"pxt_modules/jacdac-services/musicclient.ts","functionName":"queuePlayInstructions","argumentNames":["this","timeDelta","buf"]}

function jacdac_JDMelodyPlayer_queuePlayInstructions__P36585_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDMelodyPlayer_queuePlayInstructions__P36585, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  timestamp___53562: undefined,
  startPlay___53567: undefined,
  off___53576: undefined,
  soundWave___53590: undefined,
  flags___53591: undefined,
  frequency___53592: undefined,
  duration___53593: undefined,
  startVolume___53594: undefined,
  endVolume___53595: undefined,
  endFrequency___53596: undefined,
  freq___53597: undefined,
  vol___53603: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P53630(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_0 = jacdac_JDMelodyPlayer_playLoop__P36584_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.callLocIdx = 1712; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P53630.info = {"start":2039,"length":21,"line":56,"column":40,"endLine":56,"endColumn":61,"fileName":"pxt_modules/jacdac-services/musicclient.ts","functionName":"inline","argumentNames":[]}

function inline__P53630_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P53630, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_JDMelodyPlayer_playLoop__P36584(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.e___53638 = undefined;
    s.now___53648 = undefined;
    s.delta___53651 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDMelodyPlayer__C36581_VT)) failedCast(r0);
  case 1:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 8; continue; }
    r0 = s.arg0.fields["queue"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    { step = 8; continue; }
  case 2:
  case 3:
    r0 = s.arg0.fields["queue"];
    s.tmp_2 = r0;
    r0 = pxsim_Array_.removeAt(s.tmp_2, 0);
    s.e___53638 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.e___53638);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = (s.arg0).fields["queue"] = (null);
    { step = 9; continue; }
  case 4:
  case 5:
    r0 = pxsim.control.millis();
    s.now___53648 = (r0);
    r0 = s.e___53638.fields["timestamp"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.now___53648);
    s.delta___53651 = (r0);
    r0 = (s.delta___53651 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = pause__P29829_mk(s);
    s.tmp_1.arg0 = s.delta___53651;
    s.callLocIdx = 1706; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
  case 6:
  case 7:
    s.tmp_0 = jacdac_Client_sendCommand__P33546_mk(s);
    r0 = s.arg0.fields["musicClient"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_1.arg0 = 128;
    r0 = s.e___53638.fields["payload"];
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1707; s.pc = 12; return s.tmp_1;
  case 12:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1708; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    { step = 1; continue; }
  case 8:
  case 9:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDMelodyPlayer_playLoop__P36584.info = {"start":643,"length":544,"line":23,"column":8,"endLine":38,"endColumn":9,"fileName":"pxt_modules/jacdac-services/musicclient.ts","functionName":"playLoop","argumentNames":["this"]}

function jacdac_JDMelodyPlayer_playLoop__P36584_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDMelodyPlayer_playLoop__P36584, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  e___53638: undefined,
  now___53648: undefined,
  delta___53651: undefined,
  arg0: undefined,
} }





function jacdac_tonePayload__P36580(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.period___53672 = undefined;
    s.duty___53676 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.Math_.idiv(1000000, s.arg0);
    s.period___53672 = (r0);
    r0 = (s.period___53672 * s.arg2);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 11);
    s.duty___53676 = (r0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.period___53672);
    r0 = pxsim_Array__push(s.tmp_0, s.duty___53676);
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    s.tmp_1 = Buffer_pack__P29629_mk(s);
    s.tmp_1.arg0 = "HHH";
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1702; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_tonePayload__P36580.info = {"start":127,"length":227,"line":5,"column":4,"endLine":9,"endColumn":5,"fileName":"pxt_modules/jacdac-services/musicclient.ts","functionName":"tonePayload","argumentNames":["frequency","ms","volume"]}

function jacdac_tonePayload__P36580_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_tonePayload__P36580, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  period___53672: undefined,
  duty___53676: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_ToneToPlay_constructor__P36579(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ToneToPlay__C36578_VT)) failedCast(r0);
    r0 = (s.arg0).fields["payload"] = (s.arg1);
    r0 = (s.arg0).fields["timestamp"] = (s.arg2);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ToneToPlay_constructor__P36579.info = {"start":50,"length":65,"line":2,"column":8,"endLine":2,"endColumn":73,"fileName":"pxt_modules/jacdac-services/musicclient.ts","functionName":"inline","argumentNames":["this","payload","timestamp"]}

function jacdac_ToneToPlay_constructor__P36579_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ToneToPlay_constructor__P36579, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jdflash_FlashClient_handlePacket__P34265(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jdflash_FlashClient__C34262_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 128);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["lastStatus"] = (s.arg1);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jdflash_FlashClient_handlePacket__P34265.info = {"start":977,"length":141,"line":34,"column":8,"endLine":37,"endColumn":9,"fileName":"jdflash.ts","functionName":"handlePacket","argumentNames":["this","pkt"]}

function jdflash_FlashClient_handlePacket__P34265_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jdflash_FlashClient_handlePacket__P34265, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ControlService_handlePacketOuter__P36428(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ControlService__C36426_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, 14);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(129, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(130, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 1:
    s.tmp_2 = jacdac_queueAnnounce__P36430_mk(s);
    s.callLocIdx = 1407; s.pc = 5; return s.tmp_2;
  case 5:
    r0 = s.retval;
    { step = 4; continue; }
  case 2:
    s.tmp_0 = control_runInBackground__P29706_mk(s);
    s.tmp_0.arg0 = globals.onIdentifyRequest___33572;
    s.callLocIdx = 1408; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    { step = 4; continue; }
  case 3:
    setupResume(s, 7);
    pxsim.control.reset();
    checkResumeConsumed();
    return;
  case 7:
    r0 = s.retval;
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ControlService_handlePacketOuter__P36428.info = {"start":16116,"length":436,"line":516,"column":8,"endLine":528,"endColumn":9,"fileName":"pxt_modules/jacdac-services/routing.ts","functionName":"handlePacketOuter","argumentNames":["this","pkt"]}

function jacdac_ControlService_handlePacketOuter__P36428_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ControlService_handlePacketOuter__P36428, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ConsoleHost_log__P33645(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ConsoleHost__C33640_VT)) failedCast(r0);
    s.tmp_0 = jacdac_ConsoleHost_add__P33648_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = 1;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 1523; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ConsoleHost_log__P33645.info = {"start":1111,"length":92,"line":31,"column":8,"endLine":33,"endColumn":9,"fileName":"pxt_modules/jacdac-services/consolehost.ts","functionName":"log","argumentNames":["this","message"]}

function jacdac_ConsoleHost_log__P33645_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ConsoleHost_log__P33645, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_ConsoleHost_handlePacket__P33643(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.now___53889 = undefined;
    s.d___53892 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ConsoleHost__C33640_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, 14);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(8320, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 1:
    r0 = pxsim.control.millis();
    s.now___53889 = (r0);
    s.tmp_0 = jacdac_JDPacket_intData__P33624_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 1522; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.d___53892 = (r0);
    r0 = s.arg0.fields["minPriority"];
    s.tmp_1 = r0;
    r0 = (s.d___53892 <= s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = s.arg0.fields["_lastListenerTime"];
    s.tmp_3 = r0;
    r0 = (s.now___53889 - s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 1500);
  case 3:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 4; continue; }
    r0 = (s.arg0).fields["minPriority"] = (s.d___53892);
    r0 = (s.arg0).fields["_lastListenerTime"] = (s.now___53889);
  case 4:
  case 5:
    { step = 7; continue; }
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ConsoleHost_handlePacket__P33643.info = {"start":286,"length":710,"line":10,"column":8,"endLine":26,"endColumn":9,"fileName":"pxt_modules/jacdac-services/consolehost.ts","functionName":"handlePacket","argumentNames":["this","packet"]}

function jacdac_ConsoleHost_handlePacket__P33643_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ConsoleHost_handlePacket__P33643, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  now___53889: undefined,
  d___53892: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_SpriteSet_toString__P31583(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteSet__C31572_VT)) failedCast(r0);
    r0 = pxsim_String_.mkEmpty();
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_sprites"];
    s.tmp_4 = r0;
    r0 = pxsim_Array__length(s.tmp_4);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 1);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, " sprites");
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteSet_toString__P31583.info = {"start":2577,"length":66,"line":97,"column":8,"endLine":99,"endColumn":9,"fileName":"pxt_modules/game/spriteset.ts","functionName":"toString","argumentNames":["this"]}

function sprites_SpriteSet_toString__P31583_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteSet_toString__P31583, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function sprites_SpriteSet_length__P31575(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteSet__C31572_VT)) failedCast(r0);
    r0 = s.arg0.fields["_sprites"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__length(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
sprites_SpriteSet_length__P31575.info = {"start":628,"length":65,"line":26,"column":8,"endLine":28,"endColumn":9,"fileName":"pxt_modules/game/spriteset.ts","functionName":"length","argumentNames":["this"]}
sprites_SpriteSet_length__P31575.isGetter = true;

function sprites_SpriteSet_length__P31575_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteSet_length__P31575, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function game_SplashDialog_drawTextCore__P31973(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.scrollMax___55014 = undefined;
    s.left___55057 = undefined;
    s.ysub___55102 = undefined;
    s.left___55113 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_SplashDialog__C31963_VT)) failedCast(r0);
    s.tmp_0 = Math_max__P29552_mk(s);
    r0 = s.arg0.fields["maxOffset"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["maxSubOffset"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 935; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    s.scrollMax___55014 = (r0);
    r0 = s.arg0.fields["timer"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = r0 = s.arg0;
    r0 = s.tmp_2.fields["timer"];
    s.tmp_4 = r0;
    s.tmp_7 = game_eventContext__P31993_mk(s);
    s.callLocIdx = 936; s.pc = 16; return s.tmp_7;
  case 16:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = s.tmp_6.fields["deltaTimeMillis"];
    s.tmp_8 = r0;
    r0 = (s.tmp_8 / 1000);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 - s.tmp_5);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["timer"] = (s.tmp_3);
    r0 = s.arg0.fields["timer"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["offset"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 > 0);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["offset"] = (0);
    r0 = (s.arg0).fields["timer"] = (2);
  case 1:
  case 2:
  case 3:
  case 4:
    { step = 8; continue; }
  case 5:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["offset"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["offset"] = (s.tmp_1);
    r0 = s.arg0.fields["offset"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= s.scrollMax___55014);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = (s.arg0).fields["offset"] = (s.scrollMax___55014);
    r0 = (s.arg0).fields["timer"] = (2);
  case 6:
  case 7:
  case 8:
    r0 = s.arg0.fields["maxOffset"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = s.arg0.fields["image"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 1);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["text"];
    s.tmp_8 = r0;
    r0 = pxsim_String_.length(s.tmp_8);
    s.tmp_7 = r0;
    s.tmp_10 = if_charWidth_1_mk(s);
    r0 = s.arg0.fields["font"];
    s.tmp_10.arg0 = r0;
    if (!s.tmp_10.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_10.arg0, "charWidth");
    } else {
      s.tmp_10.fn = s.tmp_10.arg0.vtable.iface["charWidth"];
      if (s.tmp_10.fn == null) { s.retval = s.tmp_10.arg0.fields["charWidth"]; }
      else if (!s.tmp_10.fn.isGetter) { s.retval = bind(s.tmp_10); }
     else { s.callLocIdx = 938; s.pc = 17; return s.tmp_10; }
    }
  case 17:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = (s.tmp_7 * s.tmp_9);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >> 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_2 - s.tmp_5);
    s.left___55057 = (r0);
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    r0 = s.arg0.fields["image"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["text"];
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.left___55057;
    s.tmp_0.arg3 = 10;
    r0 = s.arg0.fields["textColor"];
    s.tmp_0.arg4 = r0;
    r0 = s.arg0.fields["font"];
    s.tmp_0.arg5 = r0;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 939; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    { step = 10; continue; }
  case 9:
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    r0 = s.arg0.fields["image"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["text"];
    s.tmp_0.arg1 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["offset"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 - s.tmp_2);
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = 10;
    r0 = s.arg0.fields["textColor"];
    s.tmp_0.arg4 = r0;
    r0 = s.arg0.fields["font"];
    s.tmp_0.arg5 = r0;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 940; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
  case 10:
    r0 = s.arg0.fields["subtext"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tmp_3 = if_charHeight_1_mk(s);
    r0 = s.arg0.fields["font"];
    s.tmp_3.arg0 = r0;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "charHeight");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["charHeight"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["charHeight"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 941; s.pc = 20; return s.tmp_3; }
    }
  case 20:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (10 + s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 + 2);
    s.ysub___55102 = (r0);
    r0 = s.arg0.fields["maxSubOffset"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = s.arg0.fields["image"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 1);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["subtext"];
    s.tmp_8 = r0;
    r0 = pxsim_String_.length(s.tmp_8);
    s.tmp_7 = r0;
    s.tmp_10 = if_charWidth_1_mk(s);
    r0 = s.arg0.fields["font"];
    s.tmp_10.arg0 = r0;
    if (!s.tmp_10.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_10.arg0, "charWidth");
    } else {
      s.tmp_10.fn = s.tmp_10.arg0.vtable.iface["charWidth"];
      if (s.tmp_10.fn == null) { s.retval = s.tmp_10.arg0.fields["charWidth"]; }
      else if (!s.tmp_10.fn.isGetter) { s.retval = bind(s.tmp_10); }
     else { s.callLocIdx = 942; s.pc = 21; return s.tmp_10; }
    }
  case 21:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = (s.tmp_7 * s.tmp_9);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >> 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_2 - s.tmp_5);
    s.left___55113 = (r0);
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    r0 = s.arg0.fields["image"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["subtext"];
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.left___55113;
    s.tmp_0.arg3 = s.ysub___55102;
    r0 = s.arg0.fields["textColor"];
    s.tmp_0.arg4 = r0;
    r0 = s.arg0.fields["font"];
    s.tmp_0.arg5 = r0;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 943; s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
    { step = 12; continue; }
  case 11:
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    r0 = s.arg0.fields["image"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["subtext"];
    s.tmp_0.arg1 = r0;
    r0 = s.arg0.fields["unit"];
    s.tmp_1 = r0;
    s.tmp_3 = Math_min__P29553_mk(s);
    r0 = s.arg0.fields["offset"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["maxSubOffset"];
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 944; s.pc = 24; return s.tmp_3;
  case 24:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 - s.tmp_2);
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = s.ysub___55102;
    r0 = s.arg0.fields["textColor"];
    s.tmp_0.arg4 = r0;
    r0 = s.arg0.fields["font"];
    s.tmp_0.arg5 = r0;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 945; s.pc = 23; return s.tmp_0;
  case 23:
    r0 = s.retval;
  case 12:
  case 13:
  case 14:
    s.tmp_0 = game_BaseDialog_drawBorder__P34643_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 946; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_SplashDialog_drawTextCore__P31973.info = {"start":9207,"length":1616,"line":290,"column":8,"endLine":328,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"drawTextCore","argumentNames":["this"]}

function game_SplashDialog_drawTextCore__P31973_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_SplashDialog_drawTextCore__P31973, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  scrollMax___55014: undefined,
  left___55057: undefined,
  ysub___55102: undefined,
  left___55113: undefined,
  arg0: undefined,
} }





function game_BaseDialog_setText__P31949(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_BaseDialog__C31935_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
game_BaseDialog_setText__P31949.info = {"start":1670,"length":77,"line":66,"column":8,"endLine":68,"endColumn":9,"fileName":"pxt_modules/game/textDialogs.ts","functionName":"setText","argumentNames":["this","rawString"]}

function game_BaseDialog_setText__P31949_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_BaseDialog_setText__P31949, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_DeviceNameClient_handlePacket__P33767(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_DeviceNameClient__C33761_VT)) failedCast(r0);
    s.tmp_0 = jacdac_Dechunker_handlePacket__P33753_mk(s);
    r0 = s.arg0.fields["usedNames"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1599; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_DeviceNameClient_handlePacket__P33767.info = {"start":8525,"length":84,"line":252,"column":8,"endLine":254,"endColumn":9,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"handlePacket","argumentNames":["this","pkt"]}

function jacdac_DeviceNameClient_handlePacket__P33767_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_DeviceNameClient_handlePacket__P33767, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Dechunker_handlePacket__P33753(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.currno___54513 = undefined;
    s.total___54514 = undefined;
    s.r___54544 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Dechunker__C33749_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = s.arg0.fields["cmd"];
    s.tmp_3 = r0;
    r0 = (s.tmp_1 != s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = false;
    { step = 15; continue; }
  case 1:
  case 2:
    s.tmp_5 = helpers_bufferUnpack__P29609_mk(s);
    r0 = s.arg1.fields["_data"];
    s.tmp_5.arg0 = r0;
    s.tmp_5.arg1 = "HH";
    s.tmp_5.arg2 = undefined;
    s.callLocIdx = 1560; s.pc = 16; return s.tmp_5;
  case 16:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_Array__getAt(s.tmp_4, 0);
    s.currno___54513 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_4, 1);
    s.total___54514 = (r0);
    r0 = (s.currno___54513 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["pending"] = (s.tmp_2);
    { step = 6; continue; }
  case 3:
    r0 = s.arg0.fields["pending"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = true;
    { step = 15; continue; }
  case 4:
  case 5:
  case 6:
    r0 = s.arg0.fields["pending"];
    s.tmp_5 = r0;
    r0 = pxsim_Array__length(s.tmp_5);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 != s.currno___54513);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 7; continue; }
    r0 = (s.arg0).fields["pending"] = (null);
    r0 = true;
    { step = 15; continue; }
  case 7:
  case 8:
    r0 = s.arg0.fields["pending"];
    s.tmp_0 = r0;
    r0 = s.arg1.fields["_data"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_2, 4, -1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.tmp_1 = r0 = s.currno___54513;
    r0 = (s.total___54514 - 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tmp_3 = Buffer_concat__P29627_mk(s);
    r0 = s.arg0.fields["pending"];
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 1562; s.pc = 17; return s.tmp_3;
  case 17:
    r0 = s.retval;
    s.r___54544 = (r0);
    r0 = (s.arg0).fields["pending"] = (null);
    r0 = s.arg0.fields["previous"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = s.tmp_0;
    { step = 10; continue; }
  case 9:
    s.tmp_5 = helpers_bufferEquals__P29607_mk(s);
    r0 = s.arg0.fields["previous"];
    s.tmp_5.arg0 = r0;
    s.tmp_5.arg1 = s.r___54544;
    s.callLocIdx = 1563; s.pc = 18; return s.tmp_5;
  case 18:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
  case 10:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 11; continue; }
    r0 = (s.arg0).fields["previous"] = (s.r___54544);
    s.tmp_0 = if_onUpdate_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.r___54544;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "onUpdate"), 2);
      s.callLocIdx = 1564; s.pc = 19; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["onUpdate"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["onUpdate"], 2); s.callLocIdx = 1564; s.pc = 19; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1564; s.pc = 19; return s.tmp_0;; }
     else { s.callLocIdx = 1564; s.pc = 19; return s.tmp_0; }
    }
  case 19:
    r0 = s.retval;
  case 11:
  case 12:
  case 13:
  case 14:
    r0 = true;
  case 15:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Dechunker_handlePacket__P33753.info = {"start":4379,"length":818,"line":124,"column":8,"endLine":151,"endColumn":9,"fileName":"pxt_modules/jacdac-services/nameservice.ts","functionName":"handlePacket","argumentNames":["this","pkt"]}

function jacdac_Dechunker_handlePacket__P33753_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Dechunker_handlePacket__P33753, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  currno___54513: undefined,
  total___54514: undefined,
  r___54544: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_ControllerSocket_readLine__P34142(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.stamp___53692 = undefined;
    s.avail___53702 = undefined;
    s.pos___53736 = undefined;
    s.pref___53743 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C34126_VT)) failedCast(r0);
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 1000);
    s.stamp___53692 = (r0);
  case 1:
    s.tmp_2 = helpers_bufferIndexOf__P29608_mk(s);
    r0 = s.arg0.fields["_buffer"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = _hex53697;
    s.callLocIdx = 1789; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    s.tmp_3 = Math_min__P29553_mk(s);
    s.tmp_4 = net_Controller__C34103_v4_2_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_4.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_4.arg1 = r0;
    if (!checkSubtype(s.tmp_4.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_4.arg0);
    s.tmp_4.fn = s.tmp_4.arg0.vtable.methods.socketAvailable;
    s.pc = 11; return s.tmp_4;
  case 11:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = 4000;
    s.callLocIdx = 1790; s.pc = 10; return s.tmp_3;
  case 10:
    r0 = s.retval;
    s.avail___53702 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.avail___53702);
    if (!r0) { step = 2; continue; }
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = helpers_bufferConcat__P29606_mk(s);
    r0 = s.arg0.fields["_buffer"];
    s.tmp_2.arg0 = r0;
    s.tmp_3 = net_Controller__C34103_v5_3_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_3.arg1 = r0;
    s.tmp_3.arg2 = s.avail___53702;
    if (!checkSubtype(s.tmp_3.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_3.arg0);
    s.tmp_3.fn = s.tmp_3.arg0.vtable.methods.socketRead;
    s.pc = 13; return s.tmp_3;
  case 13:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 1791; s.pc = 12; return s.tmp_2;
  case 12:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_buffer"] = (s.tmp_1);
    { step = 7; continue; }
  case 2:
    r0 = s.arg0.fields["_timeout"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = pxsim.control.millis();
    s.tmp_4 = r0;
    r0 = (s.tmp_4 / 1000);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - s.stamp___53692);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["_timeout"];
    s.tmp_5 = r0;
    r0 = (s.tmp_2 > s.tmp_5);
  case 4:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 5; continue; }
    s.tmp_7 = net_ControllerSocket_close__P34145_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.callLocIdx = 1793; s.pc = 14; return s.tmp_7;
  case 14:
    r0 = s.retval;
    s.tmp_0 = control_fail__P29750_mk(s);
    s.tmp_0.arg0 = "Didn't receive full response, failing out";
    s.callLocIdx = 1794; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
    { step = 6; continue; }
  case 5:
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 20;
    s.callLocIdx = 1795; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
  case 6:
  case 7:
    { step = 1; continue; }
  case 8:
    s.tmp_0 = helpers_bufferIndexOf__P29608_mk(s);
    r0 = s.arg0.fields["_buffer"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = _hex53738;
    s.callLocIdx = 1796; s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
    s.pos___53736 = (r0);
    r0 = s.arg0.fields["_buffer"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_0, 0, s.pos___53736);
    s.pref___53743 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["_buffer"];
    s.tmp_2 = r0;
    r0 = (s.pos___53736 + 2);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_2, s.tmp_3, -1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_buffer"] = (s.tmp_1);
    r0 = pxsim.BufferMethods.toString(s.pref___53743);
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_readLine__P34142.info = {"start":2949,"length":1134,"line":85,"column":8,"endLine":106,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"readLine","argumentNames":["this"]}

function net_ControllerSocket_readLine__P34142_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_readLine__P34142, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  stamp___53692: undefined,
  avail___53702: undefined,
  pos___53736: undefined,
  pref___53743: undefined,
  arg0: undefined,
} }

const _hex53697 = pxsim.BufferMethods.createBufferFromHex("0d0a")
const _hex53738 = pxsim.BufferMethods.createBufferFromHex("0d0a")




function net_monotonic__P34151(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 1000);
    return leave(s, r0)
  default: oops()
} } }
net_monotonic__P34151.info = {"start":598,"length":85,"line":23,"column":4,"endLine":25,"endColumn":5,"fileName":"pxt_modules/net/net.ts","functionName":"monotonic","argumentNames":[]}

function net_monotonic__P34151_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_monotonic__P34151, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function net_ControllerSocket_close__P34145(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C34126_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_closed"] = (true);
    s.tmp_0 = net_Controller__C34103_v6_2_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_0.arg1 = r0;
    if (!checkSubtype(s.tmp_0.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.socketClose;
    s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    r0 = s.arg0.fields["_closeHandler"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = if__closeHandler_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "_closeHandler"), 1);
      s.callLocIdx = 1807; s.pc = 4; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["_closeHandler"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["_closeHandler"], 1); s.callLocIdx = 1807; s.pc = 4; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 1807; s.pc = 4; return s.tmp_1;; }
     else { s.callLocIdx = 1807; s.pc = 4; return s.tmp_1; }
    }
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_close__P34145.info = {"start":6232,"length":188,"line":163,"column":8,"endLine":168,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"close","argumentNames":["this"]}

function net_ControllerSocket_close__P34145_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_close__P34145, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function net_Controller_socketClose__P34111(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socketClose__P34111.info = {"start":678,"length":56,"line":27,"column":8,"endLine":28,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socketClose","argumentNames":["this","socket_num"]}

function net_Controller_socketClose__P34111_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socketClose__P34111, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_Controller_socketRead__P34110(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socketRead__P34110.info = {"start":567,"length":101,"line":23,"column":8,"endLine":25,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socketRead","argumentNames":["this","socket_num","size"]}

function net_Controller_socketRead__P34110_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socketRead__P34110, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function net_Controller_socketAvailable__P34109(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = -1;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socketAvailable__P34109.info = {"start":472,"length":85,"line":19,"column":8,"endLine":21,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socketAvailable","argumentNames":["this","socket_num"]}

function net_Controller_socketAvailable__P34109_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socketAvailable__P34109, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_bufferIndexOf__P29608(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.i___53785 = undefined;
    s.j___53799 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.i___53785 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___53785;
    r0 = pxsim.BufferMethods.length(s.arg0);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 - s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 <= s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.i___53785);
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getByte(s.arg1, 0);
    s.tmp_7 = r0;
    r0 = (s.tmp_6 == s.tmp_7);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 8; continue; }
    s.j___53799 = (0);
  case 2:
    s.tmp_1 = r0 = s.j___53799;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_5 = r0 = s.arg0;
    r0 = (s.i___53785 + s.j___53799);
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_5, s.tmp_6);
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.arg1, s.j___53799);
    s.tmp_7 = r0;
    r0 = (s.tmp_4 != s.tmp_7);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = (s.j___53799 + 1);
    s.j___53799 = (r0);
    { step = 2; continue; }
  case 5:
    s.tmp_1 = r0 = s.j___53799;
    r0 = pxsim.BufferMethods.length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 >= s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.i___53785;
    { step = 11; continue; }
  case 6:
  case 7:
  case 8:
  case 9:
    r0 = (s.i___53785 + 1);
    s.i___53785 = (r0);
    { step = 1; continue; }
  case 10:
    r0 = -1;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
helpers_bufferIndexOf__P29608.info = {"start":4259,"length":433,"line":149,"column":4,"endLine":163,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"bufferIndexOf","argumentNames":["a","b"]}

function helpers_bufferIndexOf__P29608_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_bufferIndexOf__P29608, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  i___53785: undefined,
  j___53799: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_ControllerSocket_send__P34137(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C34126_VT)) failedCast(r0);
    s.tmp_0 = net_Controller__C34103_v3_3_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_0.arg1 = r0;
    s.tmp_1 = net_dataAsBuffer__P34198_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 1786; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    if (!checkSubtype(s.tmp_0.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.socketWrite;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_send__P34137.info = {"start":1637,"length":171,"line":48,"column":8,"endLine":51,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"send","argumentNames":["this","data"]}

function net_ControllerSocket_send__P34137_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_send__P34137, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_Controller_socketWrite__P34108(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socketWrite__P34108.info = {"start":390,"length":72,"line":16,"column":8,"endLine":17,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socketWrite","argumentNames":["this","socket_num","buffer"]}

function net_Controller_socketWrite__P34108_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socketWrite__P34108, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function net_ControllerSocket_connect__P34136(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C34126_VT)) failedCast(r0);
    s.tmp_3 = net_Controller__C34103_v2_5_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_3.arg1 = r0;
    r0 = s.arg0.fields["host"];
    s.tmp_3.arg2 = r0;
    r0 = s.arg0.fields["port"];
    s.tmp_3.arg3 = r0;
    r0 = s.arg0.fields["conntype"];
    s.tmp_3.arg4 = r0;
    if (!checkSubtype(s.tmp_3.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_3.arg0);
    s.tmp_3.fn = s.tmp_3.arg0.vtable.methods.socketConnect;
    s.pc = 6; return s.tmp_3;
  case 6:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_4 = net_ControllerSocket_error__P36621_mk(s);
    s.tmp_4.arg0 = s.arg0;
    r0 = s.arg0.fields["host"];
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat("failed to connect to ", s.tmp_5);
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 1784; s.pc = 7; return s.tmp_4;
  case 7:
    r0 = s.retval;
    { step = 5; continue; }
  case 1:
  case 2:
    r0 = (s.arg0).fields["_buffer"] = (_hex53863);
    r0 = s.arg0.fields["_openHandler"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = if__openHandler_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "_openHandler"), 1);
      s.callLocIdx = 1785; s.pc = 9; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["_openHandler"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["_openHandler"], 1); s.callLocIdx = 1785; s.pc = 9; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 1785; s.pc = 9; return s.tmp_1;; }
     else { s.callLocIdx = 1785; s.pc = 9; return s.tmp_1; }
    }
  case 9:
    r0 = s.retval;
  case 3:
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_connect__P34136.info = {"start":1244,"length":339,"line":35,"column":8,"endLine":45,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"connect","argumentNames":["this"]}

function net_ControllerSocket_connect__P34136_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_connect__P34136, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }

const _hex53863 = pxsim.BufferMethods.createBufferFromHex("")




function net_ControllerSocket_error__P36621(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C34126_VT)) failedCast(r0);
    r0 = s.arg0.fields["_errorHandler"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = if__errorHandler_2_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg1;
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "_errorHandler"), 2);
      s.callLocIdx = 1787; s.pc = 3; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["_errorHandler"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["_errorHandler"], 2); s.callLocIdx = 1787; s.pc = 3; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 1787; s.pc = 3; return s.tmp_1;; }
     else { s.callLocIdx = 1787; s.pc = 3; return s.tmp_1; }
    }
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_error__P36621.info = {"start":1818,"length":114,"line":53,"column":8,"endLine":56,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"error","argumentNames":["this","msg"]}

function net_ControllerSocket_error__P36621_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_error__P36621, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_Controller_socketConnect__P34107(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = false;
    return leave(s, r0)
  default: oops()
} } }
net_Controller_socketConnect__P34107.info = {"start":234,"length":146,"line":12,"column":8,"endLine":14,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"socketConnect","argumentNames":["this","socket_num","dest","port","conn_mode"]}

function net_Controller_socketConnect__P34107_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_socketConnect__P34107, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function net_Response_json__P34190(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Response__C34180_VT)) failedCast(r0);
    s.tmp_0 = JSON_parse__P29804_mk(s);
    s.tmp_1 = net_Response_text__P34189_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 1822; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1823; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
net_Response_json__P34190.info = {"start":2050,"length":63,"line":73,"column":8,"endLine":75,"endColumn":9,"fileName":"pxt_modules/net/requests.ts","functionName":"json","argumentNames":["this"]}
net_Response_json__P34190.isGetter = true;

function net_Response_json__P34190_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Response_json__P34190, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function net_Response_text__P34189(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.b___53928 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Response__C34180_VT)) failedCast(r0);
    s.tmp_0 = net_Response_content__P34188_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1821; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.b___53928 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.b___53928);
    if (!r0) { step = 1; continue; }
    r0 = pxsim.BufferMethods.toString(s.b___53928);
    { step = 2; continue; }
  case 1:
    r0 = undefined;
  case 2:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = s.tmp_0;
    return leaveAccessor(s, r0)
  default: oops()
} } }
net_Response_text__P34189.info = {"start":1933,"length":107,"line":68,"column":8,"endLine":71,"endColumn":9,"fileName":"pxt_modules/net/requests.ts","functionName":"text","argumentNames":["this"]}
net_Response_text__P34189.isGetter = true;

function net_Response_text__P34189_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Response_text__P34189, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  b___53928: undefined,
  arg0: undefined,
} }





function net_Response_content__P34188(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.content_length___53943 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Response__C34180_VT)) failedCast(r0);
    r0 = s.arg0.fields["_cached"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["socket"];
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 5; continue; }
    s.tmp_4 = parseInt__P29522_mk(s);
    r0 = s.arg0.fields["headers"];
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.tmp_5, "content-length");
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = undefined;
    s.callLocIdx = 1818; s.pc = 7; return s.tmp_4;
  case 7:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_3;
    { step = 4; continue; }
  case 3:
    r0 = 0;
  case 4:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    s.content_length___53943 = (s.tmp_6);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = if_read_2_mk(s);
    r0 = s.arg0.fields["socket"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.content_length___53943;
    if (!s.tmp_2.arg0.vtable.iface) {
      setupLambda(s.tmp_2, pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "read"), 2);
      s.callLocIdx = 1819; s.pc = 8; return s.tmp_2;
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["read"];
      if (s.tmp_2.fn == null) { setupLambda(s.tmp_2, s.tmp_2.arg0.fields["read"], 2); s.callLocIdx = 1819; s.pc = 8; return s.tmp_2; }
      else if (s.tmp_2.fn.isGetter) { s.tmp_2.stage2Call = true; s.callLocIdx = 1819; s.pc = 8; return s.tmp_2;; }
     else { s.callLocIdx = 1819; s.pc = 8; return s.tmp_2; }
    }
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_cached"] = (s.tmp_1);
    s.tmp_0 = if_close_1_mk(s);
    r0 = s.arg0.fields["socket"];
    s.tmp_0.arg0 = r0;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "close"), 1);
      s.callLocIdx = 1820; s.pc = 9; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["close"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["close"], 1); s.callLocIdx = 1820; s.pc = 9; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 1820; s.pc = 9; return s.tmp_0;; }
     else { s.callLocIdx = 1820; s.pc = 9; return s.tmp_0; }
    }
  case 9:
    r0 = s.retval;
    r0 = (s.arg0).fields["socket"] = (null);
  case 5:
  case 6:
    r0 = s.arg0.fields["_cached"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
net_Response_content__P34188.info = {"start":1348,"length":462,"line":52,"column":8,"endLine":63,"endColumn":9,"fileName":"pxt_modules/net/requests.ts","functionName":"content","argumentNames":["this"]}
net_Response_content__P34188.isGetter = true;

function net_Response_content__P34188_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Response_content__P34188, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  content_length___53943: undefined,
  arg0: undefined,
} }





function JSON_parse__P29804(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___53966 = undefined;
    s.r___53976 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_pxtcore_mkClassInstance(JSON_Parser__C34333_VT);
    s.p___53966 = (r0);
    r0 = (s.p___53966).fields["ptr"] = (0);
    r0 = (s.p___53966).fields["s"] = (s.arg0);
    s.tmp_0 = JSON_Parser_value__P34342_mk(s);
    s.tmp_0.arg0 = s.p___53966;
    s.callLocIdx = 102; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.r___53976 = (r0);
    s.tmp_1 = JSON_Parser_skipWS__P34335_mk(s);
    s.tmp_1.arg0 = s.p___53966;
    s.callLocIdx = 103; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = JSON_Parser_error__P34334_mk(s);
    s.tmp_2.arg0 = s.p___53966;
    s.tmp_2.arg1 = "excessive input";
    s.callLocIdx = 104; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = s.p___53966.fields["errorMsg"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.p___53966.fields["errorMsg"];
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("Invalid JSON: ", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim.control.dmesg(s.tmp_1);
    r0 = undefined;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = s.r___53976;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
JSON_parse__P29804.info = {"start":9325,"length":347,"line":307,"column":4,"endLine":320,"endColumn":5,"fileName":"pxt_modules/base/json.ts","functionName":"parse","argumentNames":["s"]}

function JSON_parse__P29804_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_parse__P29804, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  p___53966: undefined,
  r___53976: undefined,
  arg0: undefined,
} }





function JSON_Parser_value__P34342(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.c___54057 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C34333_VT)) failedCast(r0);
    r0 = s.arg0.fields["errorMsg"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = null;
    { step = 27; continue; }
  case 1:
  case 2:
    s.tmp_1 = JSON_Parser_skipWS__P34335_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 86; s.pc = 28; return s.tmp_1;
  case 28:
    r0 = s.retval;
    s.c___54057 = (r0);
    r0 = (s.c___54057 == 123);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = JSON_Parser_doObject__P34339_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 87; s.pc = 29; return s.tmp_1;
  case 29:
    r0 = s.retval;
    { step = 27; continue; }
    { step = 26; continue; }
  case 3:
    r0 = (s.c___54057 == 91);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = JSON_Parser_doArray__P34338_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 88; s.pc = 30; return s.tmp_3;
  case 30:
    r0 = s.retval;
    { step = 27; continue; }
    { step = 25; continue; }
  case 4:
    r0 = (48 <= s.c___54057);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_4;
    { step = 6; continue; }
  case 5:
    r0 = (s.c___54057 <= 57);
  case 6:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_5;
    { step = 8; continue; }
  case 7:
    r0 = (s.c___54057 == 45);
  case 8:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 9; continue; }
    s.tmp_7 = JSON_Parser_doNumber__P34340_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.callLocIdx = 89; s.pc = 31; return s.tmp_7;
  case 31:
    r0 = s.retval;
    { step = 27; continue; }
    { step = 24; continue; }
  case 9:
    r0 = (s.c___54057 == 34);
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 10; continue; }
    s.tmp_9 = JSON_Parser_doString__P34337_mk(s);
    s.tmp_9.arg0 = s.arg0;
    s.callLocIdx = 90; s.pc = 32; return s.tmp_9;
  case 32:
    r0 = s.retval;
    { step = 27; continue; }
    { step = 23; continue; }
  case 10:
    r0 = (s.c___54057 == 116);
    s.tmp_10 = r0;
    r0 = pxsim_numops_toBool(s.tmp_10);
    if (r0) { step = 11; continue; }
    r0 = s.tmp_10;
    { step = 12; continue; }
  case 11:
    s.tmp_11 = JSON_Parser_checkKw__P34341_mk(s);
    s.tmp_11.arg0 = s.arg0;
    s.tmp_11.arg1 = "true";
    s.callLocIdx = 91; s.pc = 33; return s.tmp_11;
  case 33:
    r0 = s.retval;
  case 12:
    // jmp value (already in r0)
    s.tmp_12 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_12);
    if (!r0) { step = 13; continue; }
    r0 = true;
    { step = 27; continue; }
    { step = 22; continue; }
  case 13:
    r0 = (s.c___54057 == 102);
    s.tmp_13 = r0;
    r0 = pxsim_numops_toBool(s.tmp_13);
    if (r0) { step = 14; continue; }
    r0 = s.tmp_13;
    { step = 15; continue; }
  case 14:
    s.tmp_14 = JSON_Parser_checkKw__P34341_mk(s);
    s.tmp_14.arg0 = s.arg0;
    s.tmp_14.arg1 = "false";
    s.callLocIdx = 92; s.pc = 34; return s.tmp_14;
  case 34:
    r0 = s.retval;
  case 15:
    // jmp value (already in r0)
    s.tmp_15 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_15);
    if (!r0) { step = 16; continue; }
    r0 = false;
    { step = 27; continue; }
    { step = 21; continue; }
  case 16:
    r0 = (s.c___54057 == 110);
    s.tmp_16 = r0;
    r0 = pxsim_numops_toBool(s.tmp_16);
    if (r0) { step = 17; continue; }
    r0 = s.tmp_16;
    { step = 18; continue; }
  case 17:
    s.tmp_17 = JSON_Parser_checkKw__P34341_mk(s);
    s.tmp_17.arg0 = s.arg0;
    s.tmp_17.arg1 = "null";
    s.callLocIdx = 93; s.pc = 35; return s.tmp_17;
  case 35:
    r0 = s.retval;
  case 18:
    // jmp value (already in r0)
    s.tmp_18 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_18);
    if (!r0) { step = 19; continue; }
    r0 = null;
    { step = 27; continue; }
  case 19:
  case 20:
  case 21:
  case 22:
  case 23:
  case 24:
  case 25:
  case 26:
    s.tmp_19 = JSON_Parser_error__P34334_mk(s);
    s.tmp_19.arg0 = s.arg0;
    s.tmp_19.arg1 = "unexpected token";
    s.callLocIdx = 94; s.pc = 36; return s.tmp_19;
  case 36:
    r0 = s.retval;
    r0 = null;
  case 27:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_value__P34342.info = {"start":4976,"length":743,"line":178,"column":8,"endLine":200,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"value","argumentNames":["this"]}

function JSON_Parser_value__P34342_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_value__P34342, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  tmp_19: undefined,
  c___54057: undefined,
  arg0: undefined,
} }





function JSON_Parser_checkKw__P34341(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C34333_VT)) failedCast(r0);
    s.tmp_2 = helpers_stringSlice__P29542_mk(s);
    r0 = s.arg0.fields["s"];
    s.tmp_2.arg0 = r0;
    r0 = s.arg0.fields["ptr"];
    s.tmp_2.arg1 = r0;
    r0 = s.arg0.fields["ptr"];
    s.tmp_3 = r0;
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 + s.tmp_4);
    s.tmp_2.arg2 = r0;
    s.callLocIdx = 85; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_5 = r0 = s.arg0;
    r0 = s.tmp_5.fields["ptr"];
    s.tmp_7 = r0;
    r0 = pxsim_String_.length(s.arg1);
    s.tmp_8 = r0;
    r0 = (s.tmp_7 + s.tmp_8);
    s.tmp_6 = r0;
    r0 = (s.tmp_5).fields["ptr"] = (s.tmp_6);
    r0 = true;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = false;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_checkKw__P34341.info = {"start":4764,"length":202,"line":170,"column":8,"endLine":176,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"checkKw","argumentNames":["this","k"]}

function JSON_Parser_checkKw__P34341_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_checkKw__P34341, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function JSON_Parser_doNumber__P34340(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.beg___54283 = undefined;
    s.c___54287 = undefined;
    s.ss___54315 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C34333_VT)) failedCast(r0);
    r0 = s.arg0.fields["ptr"];
    s.beg___54283 = (r0);
  case 1:
    s.tmp_0 = JSON_Parser_nextChar__P34336_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 82; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
    s.c___54287 = (r0);
    r0 = (48 <= s.c___54287);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.c___54287 <= 57);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = s.tmp_1;
    { step = 5; continue; }
  case 4:
    r0 = (s.c___54287 == 43);
  case 5:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 6; continue; }
    r0 = s.tmp_2;
    { step = 7; continue; }
  case 6:
    r0 = (s.c___54287 == 45);
  case 7:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 8; continue; }
    r0 = s.tmp_3;
    { step = 9; continue; }
  case 8:
    r0 = (s.c___54287 == 46);
  case 9:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (!r0) { step = 10; continue; }
    r0 = s.tmp_4;
    { step = 11; continue; }
  case 10:
    r0 = (s.c___54287 == 69);
  case 11:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (!r0) { step = 12; continue; }
    r0 = s.tmp_5;
    { step = 13; continue; }
  case 12:
    r0 = (s.c___54287 == 101);
  case 13:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 14; continue; }
    { step = 15; continue; }
  case 14:
    s.tmp_7 = r0 = s.arg0;
    r0 = s.tmp_7.fields["ptr"];
    s.tmp_9 = r0;
    r0 = (s.tmp_9 - 1);
    s.tmp_8 = r0;
    r0 = (s.tmp_7).fields["ptr"] = (s.tmp_8);
    { step = 16; continue; }
  case 15:
    { step = 1; continue; }
  case 16:
    s.tmp_0 = helpers_stringSlice__P29542_mk(s);
    r0 = s.arg0.fields["s"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.beg___54283;
    r0 = s.arg0.fields["ptr"];
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 83; s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    s.ss___54315 = (r0);
    r0 = pxsim_String_.length(s.ss___54315);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 17; continue; }
    s.tmp_2 = JSON_Parser_error__P34334_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = "expecting number";
    s.callLocIdx = 84; s.pc = 22; return s.tmp_2;
  case 22:
    r0 = s.retval;
    r0 = 0;
    { step = 19; continue; }
  case 17:
  case 18:
    r0 = pxsim_String_.toNumber(s.ss___54315);
  case 19:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_doNumber__P34340.info = {"start":4169,"length":585,"line":151,"column":8,"endLine":168,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"doNumber","argumentNames":["this"]}

function JSON_Parser_doNumber__P34340_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_doNumber__P34340, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  beg___54283: undefined,
  c___54287: undefined,
  ss___54315: undefined,
  arg0: undefined,
} }





function JSON_Parser_nextChar__P34336(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C34333_VT)) failedCast(r0);
    r0 = s.arg0.fields["ptr"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["s"];
    s.tmp_3 = r0;
    r0 = pxsim_String_.length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_4 = r0 = s.arg0;
    r0 = s.tmp_4.fields["ptr"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["ptr"] = (s.tmp_5);
    r0 = s.arg0.fields["s"];
    s.tmp_7 = r0;
    r0 = pxsim_String_.charCodeAt(s.tmp_7, s.tmp_6);
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = 0;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_nextChar__P34336.info = {"start":1514,"length":138,"line":62,"column":8,"endLine":66,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"nextChar","argumentNames":["this"]}

function JSON_Parser_nextChar__P34336_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_nextChar__P34336, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
} }





function JSON_Parser_doObject__P34339(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___54366 = undefined;
    s.c___54372 = undefined;
    s.k___54384 = undefined;
    s.v___54396 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C34333_VT)) failedCast(r0);
    r0 = pxsim_pxtrt.mkMap();
    s.r___54366 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
  case 1:
    s.tmp_0 = JSON_Parser_skipWS__P34335_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 74; s.pc = 16; return s.tmp_0;
  case 16:
    r0 = s.retval;
    s.c___54372 = (r0);
    r0 = (s.c___54372 == 125);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["ptr"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["ptr"] = (s.tmp_2);
    r0 = s.r___54366;
    { step = 15; continue; }
  case 2:
  case 3:
    r0 = (s.c___54372 != 34);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_1 = JSON_Parser_error__P34334_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = "expecting key";
    s.callLocIdx = 75; s.pc = 17; return s.tmp_1;
  case 17:
    r0 = s.retval;
    r0 = s.r___54366;
    { step = 15; continue; }
  case 4:
  case 5:
    s.tmp_0 = JSON_Parser_doString__P34337_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 76; s.pc = 18; return s.tmp_0;
  case 18:
    r0 = s.retval;
    s.k___54384 = (r0);
    s.tmp_0 = JSON_Parser_skipWS__P34335_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 77; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    s.c___54372 = (r0);
    r0 = (s.c___54372 != 58);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = JSON_Parser_error__P34334_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = "expecting colon";
    s.callLocIdx = 78; s.pc = 20; return s.tmp_1;
  case 20:
    r0 = s.retval;
    r0 = s.r___54366;
    { step = 15; continue; }
  case 6:
  case 7:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
    s.tmp_0 = JSON_Parser_value__P34342_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 79; s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    s.v___54396 = (r0);
    r0 = s.arg0.fields["errorMsg"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = null;
    { step = 15; continue; }
  case 8:
  case 9:
    r0 = pxsim_pxtrt.mapSetGeneric(s.r___54366, s.k___54384, s.v___54396);
    s.tmp_0 = JSON_Parser_skipWS__P34335_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 80; s.pc = 22; return s.tmp_0;
  case 22:
    r0 = s.retval;
    s.c___54372 = (r0);
    r0 = (s.c___54372 == 44);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["ptr"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["ptr"] = (s.tmp_2);
    { step = 14; continue; }
  case 10:
  case 11:
    r0 = (s.c___54372 == 125);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    { step = 14; continue; }
  case 12:
  case 13:
    s.tmp_1 = JSON_Parser_error__P34334_mk(s);
    s.tmp_1.arg0 = s.arg0;
    r0 = pxsim_String_.fromCharCode(s.c___54372);
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 24);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 24:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("expecting comma, got ", s.tmp_2);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 81; s.pc = 23; return s.tmp_1;
  case 23:
    r0 = s.retval;
  case 14:
    { step = 1; continue; }
    r0 = undefined;
  case 15:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_doObject__P34339.info = {"start":3123,"length":1036,"line":116,"column":8,"endLine":149,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"doObject","argumentNames":["this"]}

function JSON_Parser_doObject__P34339_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_doObject__P34339, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  r___54366: undefined,
  c___54372: undefined,
  k___54384: undefined,
  v___54396: undefined,
  arg0: undefined,
} }





function JSON_Parser_doArray__P34338(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___54331 = undefined;
    s.c___54337 = undefined;
    s.v___54345 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C34333_VT)) failedCast(r0);
    r0 = pxsim_Array__mk();
    s.r___54331 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
  case 1:
    s.tmp_0 = JSON_Parser_skipWS__P34335_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 70; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    s.c___54337 = (r0);
    r0 = (s.c___54337 == 93);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["ptr"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["ptr"] = (s.tmp_2);
    r0 = s.r___54331;
    { step = 11; continue; }
  case 2:
  case 3:
    s.tmp_0 = JSON_Parser_value__P34342_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 71; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    s.v___54345 = (r0);
    r0 = s.arg0.fields["errorMsg"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = null;
    { step = 11; continue; }
  case 4:
  case 5:
    r0 = pxsim_Array__push(s.r___54331, s.v___54345);
    s.tmp_0 = JSON_Parser_skipWS__P34335_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 72; s.pc = 14; return s.tmp_0;
  case 14:
    r0 = s.retval;
    s.c___54337 = (r0);
    r0 = (s.c___54337 == 44);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.tmp_1.fields["ptr"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["ptr"] = (s.tmp_2);
    { step = 10; continue; }
  case 6:
  case 7:
    r0 = (s.c___54337 == 93);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    { step = 10; continue; }
  case 8:
  case 9:
    s.tmp_1 = JSON_Parser_error__P34334_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = "expecting comma";
    s.callLocIdx = 73; s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
  case 10:
    { step = 1; continue; }
    r0 = undefined;
  case 11:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_doArray__P34338.info = {"start":2467,"length":646,"line":92,"column":8,"endLine":114,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"doArray","argumentNames":["this"]}

function JSON_Parser_doArray__P34338_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_doArray__P34338, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  r___54331: undefined,
  c___54337: undefined,
  v___54345: undefined,
  arg0: undefined,
} }





function JSON_Parser_doString__P34337(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___54117 = undefined;
    s.c___54122 = undefined;
    s.q___54136 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C34333_VT)) failedCast(r0);
    r0 = pxsim_String_.mkEmpty();
    s.r___54117 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
  case 1:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
    r0 = s.arg0.fields["s"];
    s.tmp_3 = r0;
    r0 = pxsim_String_.charAt(s.tmp_3, s.tmp_2);
    s.c___54122 = (r0);
    r0 = (s.c___54122 == "\"");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.r___54117;
    { step = 16; continue; }
  case 2:
  case 3:
    r0 = (s.c___54122 == "\\");
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 14; continue; }
    s.tmp_2 = r0 = s.arg0;
    r0 = s.tmp_2.fields["ptr"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 1);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["ptr"] = (s.tmp_3);
    r0 = s.arg0.fields["s"];
    s.tmp_5 = r0;
    r0 = pxsim_String_.charAt(s.tmp_5, s.tmp_4);
    s.q___54136 = (r0);
    r0 = (s.q___54136 == "b");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.q___54136 = ("\b");
    { step = 13; continue; }
  case 4:
    r0 = (s.q___54136 == "n");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.q___54136 = ("\n");
    { step = 12; continue; }
  case 5:
    r0 = (s.q___54136 == "r");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.q___54136 = ("\r");
    { step = 11; continue; }
  case 6:
    r0 = (s.q___54136 == "t");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.q___54136 = ("\t");
    { step = 10; continue; }
  case 7:
    r0 = (s.q___54136 == "u");
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    s.tmp_2 = JSON_parseIntRadix__P29802_mk(s);
    s.tmp_3 = helpers_stringSlice__P29542_mk(s);
    r0 = s.arg0.fields["s"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["ptr"];
    s.tmp_3.arg1 = r0;
    r0 = s.arg0.fields["ptr"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 4);
    s.tmp_3.arg2 = r0;
    s.callLocIdx = 68; s.pc = 18; return s.tmp_3;
  case 18:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = 16;
    s.callLocIdx = 69; s.pc = 17; return s.tmp_2;
  case 17:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String_.fromCharCode(s.tmp_1);
    s.q___54136 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["ptr"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
  case 8:
  case 9:
  case 10:
  case 11:
  case 12:
  case 13:
    if ((s.r___54117) && (s.r___54117).vtable) {
    setupResume(s, 19);
    pxsim_String__stringConv(s.r___54117);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___54117) + ""; }
  case 19:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.q___54136) && (s.q___54136).vtable) {
    setupResume(s, 20);
    pxsim_String__stringConv(s.q___54136);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.q___54136) + ""; }
  case 20:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___54117 = (r0);
    { step = 15; continue; }
  case 14:
    if ((s.r___54117) && (s.r___54117).vtable) {
    setupResume(s, 21);
    pxsim_String__stringConv(s.r___54117);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.r___54117) + ""; }
  case 21:
    r0 = s.retval;
    s.tmp_0 = r0;
    if ((s.c___54122) && (s.c___54122).vtable) {
    setupResume(s, 22);
    pxsim_String__stringConv(s.c___54122);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.c___54122) + ""; }
  case 22:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.r___54117 = (r0);
  case 15:
    { step = 1; continue; }
    r0 = undefined;
  case 16:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_doString__P34337.info = {"start":1662,"length":795,"line":68,"column":8,"endLine":90,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"doString","argumentNames":["this"]}

function JSON_Parser_doString__P34337_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_doString__P34337, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  r___54117: undefined,
  c___54122: undefined,
  q___54136: undefined,
  arg0: undefined,
} }





function JSON_parseIntRadix__P29802(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.m___54200 = undefined;
    s.r___54201 = undefined;
    s.i___54202 = undefined;
    s.c___54208 = undefined;
    s.v___54233 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg1 == null);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.arg1 == 10);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_String_.toNumber(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    { step = 36; continue; }
  case 3:
  case 4:
    s.m___54200 = (false);
    s.r___54201 = (0);
    s.i___54202 = (0);
  case 5:
    s.tmp_1 = r0 = s.i___54202;
    r0 = pxsim_String_.length(s.arg0);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 33; continue; }
    r0 = pxsim_String_.charCodeAt(s.arg0, s.i___54202);
    s.c___54208 = (r0);
    r0 = (s.c___54208 == 32);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 6:
    r0 = (s.c___54208 == 10);
  case 7:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 8; continue; }
    r0 = s.tmp_1;
    { step = 9; continue; }
  case 8:
    r0 = (s.c___54208 == 13);
  case 9:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 10; continue; }
    r0 = s.tmp_2;
    { step = 11; continue; }
  case 10:
    r0 = (s.c___54208 == 9);
  case 11:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 12; continue; }
    { step = 32; continue; }
  case 12:
  case 13:
    r0 = (s.r___54201 == 0);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 14; continue; }
    r0 = s.tmp_4;
    { step = 15; continue; }
  case 14:
    r0 = pxsim_numops_toBoolDecr(s.m___54200);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
  case 15:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBool(s.tmp_6);
    if (r0) { step = 16; continue; }
    r0 = s.tmp_6;
    { step = 17; continue; }
  case 16:
    r0 = (s.c___54208 == 45);
  case 17:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 18; continue; }
    s.m___54200 = (true);
    { step = 32; continue; }
  case 18:
  case 19:
    s.v___54233 = (-1);
    r0 = (48 <= s.c___54208);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 20; continue; }
    r0 = s.tmp_0;
    { step = 21; continue; }
  case 20:
    r0 = (s.c___54208 <= 57);
  case 21:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 22; continue; }
    r0 = (s.c___54208 - 48);
    s.v___54233 = (r0);
    { step = 27; continue; }
  case 22:
    r0 = (s.c___54208 | 32);
    s.c___54208 = (r0);
    r0 = (97 <= s.c___54208);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 23; continue; }
    r0 = s.tmp_0;
    { step = 24; continue; }
  case 23:
    r0 = (s.c___54208 <= 122);
  case 24:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 25; continue; }
    r0 = (s.c___54208 - 97);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 10);
    s.v___54233 = (r0);
  case 25:
  case 26:
  case 27:
    r0 = (0 <= s.v___54233);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 28; continue; }
    r0 = s.tmp_0;
    { step = 29; continue; }
  case 28:
    r0 = (s.v___54233 < s.arg1);
  case 29:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 30; continue; }
    r0 = (s.r___54201 * s.arg1);
    s.r___54201 = (r0);
    r0 = (s.r___54201 + s.v___54233);
    s.r___54201 = (r0);
    { step = 31; continue; }
  case 30:
    r0 = undefined;
    { step = 36; continue; }
  case 31:
  case 32:
    r0 = (s.i___54202 + 1);
    s.i___54202 = (r0);
    { step = 5; continue; }
  case 33:
    r0 = pxsim_numops_toBoolDecr(s.m___54200);
    if (!r0) { step = 34; continue; }
    r0 = (0 - s.r___54201);
    { step = 35; continue; }
  case 34:
    r0 = s.r___54201;
  case 35:
    // jmp value (already in r0)
    s.tmp_0 = r0;
    r0 = s.tmp_0;
  case 36:
    return leave(s, r0)
  default: oops()
} } }
JSON_parseIntRadix__P29802.info = {"start":21,"length":894,"line":1,"column":4,"endLine":35,"endColumn":5,"fileName":"pxt_modules/base/json.ts","functionName":"parseIntRadix","argumentNames":["s","base"]}

function JSON_parseIntRadix__P29802_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_parseIntRadix__P29802, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  m___54200: undefined,
  r___54201: undefined,
  i___54202: undefined,
  c___54208: undefined,
  v___54233: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function JSON_Parser_skipWS__P34335(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.c___54021 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C34333_VT)) failedCast(r0);
  case 1:
    s.tmp_0 = JSON_Parser_nextChar__P34336_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 67; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    s.c___54021 = (r0);
    r0 = (s.c___54021 == 32);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = (s.c___54021 == 10);
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBool(s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = s.tmp_1;
    { step = 5; continue; }
  case 4:
    r0 = (s.c___54021 == 13);
  case 5:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (!r0) { step = 6; continue; }
    r0 = s.tmp_2;
    { step = 7; continue; }
  case 6:
    r0 = (s.c___54021 == 9);
  case 7:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 8; continue; }
    { step = 9; continue; }
  case 8:
    s.tmp_4 = r0 = s.arg0;
    r0 = s.tmp_4.fields["ptr"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 - 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["ptr"] = (s.tmp_5);
    r0 = s.c___54021;
    { step = 10; continue; }
  case 9:
    { step = 1; continue; }
    r0 = undefined;
  case 10:
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_skipWS__P34335.info = {"start":1203,"length":301,"line":50,"column":8,"endLine":60,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"skipWS","argumentNames":["this"]}

function JSON_Parser_skipWS__P34335_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_skipWS__P34335, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  c___54021: undefined,
  arg0: undefined,
} }





function JSON_Parser_error__P34334(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, JSON_Parser__C34333_VT)) failedCast(r0);
    r0 = s.arg0.fields["errorMsg"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = r0 = s.arg0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_7, " at position ");
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = s.arg0.fields["ptr"];
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_8);
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["errorMsg"] = (s.tmp_4);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["s"];
    s.tmp_2 = r0;
    r0 = pxsim_String_.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["ptr"] = (s.tmp_1);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
JSON_Parser_error__P34334.info = {"start":1009,"length":184,"line":43,"column":8,"endLine":48,"endColumn":9,"fileName":"pxt_modules/base/json.ts","functionName":"error","argumentNames":["this","msg"]}

function JSON_Parser_error__P34334_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: JSON_Parser_error__P34334, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function music_Melody_toString__P31068(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, music_Melody__C31059_VT)) failedCast(r0);
    r0 = s.arg0.fields["_text"];
    return leave(s, r0)
  default: oops()
} } }
music_Melody_toString__P31068.info = {"start":9640,"length":53,"line":303,"column":8,"endLine":305,"endColumn":9,"fileName":"pxt_modules/mixer/melody.ts","functionName":"toString","argumentNames":["this"]}

function music_Melody_toString__P31068_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: music_Melody_toString__P31068, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function sprites_SpriteMap_toString__P31563(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteMap__C31555_VT)) failedCast(r0);
    r0 = pxsim_String_.mkEmpty();
    s.tmp_3 = r0;
    r0 = s.arg0.fields["buckets"];
    s.tmp_6 = r0;
    r0 = pxsim_Array__length(s.tmp_6);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 1);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 1:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, " buckets, ");
    s.tmp_1 = r0;
    s.tmp_10 = helpers_arrayFilter__P29535_mk(s);
    r0 = s.arg0.fields["buckets"];
    s.tmp_10.arg0 = r0;
    s.tmp_10.arg1 = inline__P50460;
    s.callLocIdx = 520; s.pc = 2; return s.tmp_10;
  case 2:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_Array__length(s.tmp_9);
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_7);
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, " filled");
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteMap_toString__P31563.info = {"start":4109,"length":123,"line":112,"column":8,"endLine":114,"endColumn":9,"fileName":"pxt_modules/game/spritemap.ts","functionName":"toString","argumentNames":["this"]}

function sprites_SpriteMap_toString__P31563_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteMap_toString__P31563, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  arg0: undefined,
} }





function inline__P50460(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
inline__P50460.info = {"start":4196,"length":8,"line":113,"column":74,"endLine":113,"endColumn":82,"fileName":"pxt_modules/game/spritemap.ts","functionName":"inline","argumentNames":["b"]}

function inline__P50460_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P50460, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function ArcadePhysicsEngine_moveSprite__P31648(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tm___50498 = undefined;
    s.maxDist___50508 = undefined;
    s.ms___50528 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    r0 = s.arg1.fields["_x"];
    s.tmp_0 = r0;
    r0 = (s.arg1).fields["_lastX"] = (s.tmp_0);
    r0 = s.arg1.fields["_y"];
    s.tmp_0 = r0;
    r0 = (s.arg1).fields["_lastY"] = (s.tmp_0);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg1.fields["_x"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.arg2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_x"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg1.fields["_y"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.arg3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_y"] = (s.tmp_1);
    r0 = s.arg1.fields["flags"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & 515);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tmp_4 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 727; s.pc = 16; return s.tmp_4;
  case 16:
    r0 = s.retval;
    r0 = r0.fields["tileMap"];
    s.tm___50498 = (r0);
    s.tmp_0 = r0 = s.tm___50498;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.tm___50498.fields["_map"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    s.tmp_7 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 3; continue; }
    { step = 15; continue; }
  case 3:
  case 4:
    r0 = s.arg0.fields["maxSingleStep"];
    s.tmp_8 = r0;
    r0 = (s.tmp_8 + 128);
    s.tmp_9 = r0;
    r0 = (s.tmp_9 >> 8);
    s.maxDist___50508 = (r0);
    s.tmp_2 = Math_abs__P29550_mk(s);
    r0 = (s.arg2 + 128);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 8);
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 731; s.pc = 17; return s.tmp_2;
  case 17:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= s.maxDist___50508);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    s.tmp_5 = Math_abs__P29550_mk(s);
    r0 = (s.arg3 + 128);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >> 8);
    s.tmp_5.arg0 = r0;
    s.callLocIdx = 733; s.pc = 18; return s.tmp_5;
  case 18:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_4 <= s.maxDist___50508);
  case 6:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_pxtcore_mkClassInstance(MovingSprite__C31632_VT);
    s.tmp_8 = r0;
    s.tmp_9 = MovingSprite_constructor__P31633_mk(s);
    s.tmp_9.arg0 = s.tmp_8;
    s.tmp_9.arg1 = s.arg1;
    r0 = s.arg1.fields["_vx"];
    s.tmp_9.arg2 = r0;
    r0 = s.arg1.fields["_vy"];
    s.tmp_9.arg3 = r0;
    s.tmp_9.arg4 = s.arg2;
    s.tmp_9.arg5 = s.arg3;
    s.tmp_9.arg6 = s.arg2;
    s.tmp_9.arg7 = s.arg3;
    s.callLocIdx = 734; s.pc = 19; return s.tmp_9;
  case 19:
    r0 = s.retval;
    s.ms___50528 = (s.tmp_8);
    s.tmp_0 = ArcadePhysicsEngine_tilemapCollisions__P34545_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.ms___50528;
    s.tmp_0.arg2 = s.tm___50498;
    s.callLocIdx = 735; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
    { step = 12; continue; }
  case 7:
    s.tmp_1 = tiles_TileMap_isOnWall__P31799_mk(s);
    s.tmp_1.arg0 = s.tm___50498;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 736; s.pc = 21; return s.tmp_1;
  case 21:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_0;
    { step = 9; continue; }
  case 8:
    s.tmp_4 = ArcadePhysicsEngine_canResolveClipping__P34547_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = s.arg1;
    s.tmp_4.arg2 = s.tm___50498;
    s.callLocIdx = 737; s.pc = 22; return s.tmp_4;
  case 22:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 9:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 10; continue; }
    s.tmp_6 = r0 = s.arg1;
    r0 = s.tmp_6.fields["flags"];
    s.tmp_8 = r0;
    r0 = (s.tmp_8 | 256);
    s.tmp_7 = r0;
    r0 = (s.tmp_6).fields["flags"] = (s.tmp_7);
    { step = 11; continue; }
  case 10:
    s.tmp_0 = r0 = s.arg1;
    r0 = s.tmp_0.fields["flags"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & -257);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["flags"] = (s.tmp_1);
  case 11:
  case 12:
  case 13:
  case 14:
  case 15:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_moveSprite__P31648.info = {"start":21343,"length":1276,"line":622,"column":4,"endLine":655,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"moveSprite","argumentNames":["this","s","dx","dy"]}

function ArcadePhysicsEngine_moveSprite__P31648_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_moveSprite__P31648, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tm___50498: undefined,
  maxDist___50508: undefined,
  ms___50528: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function ArcadePhysicsEngine_canResolveClipping__P34547(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.hbox___50573 = undefined;
    s.sz___50576 = undefined;
    s.maxMove___50581 = undefined;
    s.origY___50583 = undefined;
    s.origX___50586 = undefined;
    s.l___50589 = undefined;
    s.r___50594 = undefined;
    s.t___50599 = undefined;
    s.b___50604 = undefined;
    s.offset___50609 = undefined;
    s.offset___50634 = undefined;
    s.offset___50665 = undefined;
    s.offset___50690 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    r0 = s.arg1.fields["_image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.isStatic(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_4 = Sprite_setHitbox__P31518_mk(s);
    s.tmp_4.arg0 = s.arg1;
    s.callLocIdx = 739; s.pc = 20; return s.tmp_4;
  case 20:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = s.arg1.fields["_hitbox"];
    s.hbox___50573 = (r0);
    r0 = s.arg2.fields["_scale"];
    s.tmp_0 = r0;
    r0 = (1 << s.tmp_0);
    s.sz___50576 = (r0);
    s.tmp_0 = ArcadePhysicsEngine_maxStep__P31640_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 741; s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
    s.maxMove___50581 = (r0);
    r0 = s.arg1.fields["_y"];
    s.origY___50583 = (r0);
    r0 = s.arg1.fields["_x"];
    s.origX___50586 = (r0);
    s.tmp_1 = game_Hitbox_left__P31427_mk(s);
    s.tmp_1.arg0 = s.hbox___50573;
    s.callLocIdx = 742; s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 128);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 8);
    s.l___50589 = (r0);
    s.tmp_1 = game_Hitbox_right__P31429_mk(s);
    s.tmp_1.arg0 = s.hbox___50573;
    s.callLocIdx = 744; s.pc = 23; return s.tmp_1;
  case 23:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 128);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 8);
    s.r___50594 = (r0);
    s.tmp_1 = game_Hitbox_top__P31428_mk(s);
    s.tmp_1.arg0 = s.hbox___50573;
    s.callLocIdx = 746; s.pc = 24; return s.tmp_1;
  case 24:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 128);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 8);
    s.t___50599 = (r0);
    s.tmp_1 = game_Hitbox_bottom__P31430_mk(s);
    s.tmp_1.arg0 = s.hbox___50573;
    s.callLocIdx = 748; s.pc = 25; return s.tmp_1;
  case 25:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 128);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 8);
    s.b___50604 = (r0);
    r0 = (s.b___50604 + 1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 % s.sz___50576);
    s.offset___50609 = (r0);
    r0 = (s.offset___50609 <= s.maxMove___50581);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_1 = r0 = s.arg1;
    r0 = s.arg1.fields["_y"];
    s.tmp_3 = r0;
    r0 = (s.offset___50609 * 256);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 | 0);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 - s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_y"] = (s.tmp_2);
    s.tmp_3 = tiles_TileMap_isOnWall__P31799_mk(s);
    s.tmp_3.arg0 = s.arg2;
    s.tmp_3.arg1 = s.arg1;
    s.callLocIdx = 752; s.pc = 26; return s.tmp_3;
  case 26:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = true;
    { step = 19; continue; }
    { step = 4; continue; }
  case 3:
    r0 = (s.arg1).fields["_y"] = (s.origY___50583);
  case 4:
  case 5:
  case 6:
    r0 = (s.t___50599 / s.sz___50576);
    s.tmp_3 = r0;
    r0 = pxsim.Math_.floor(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * s.sz___50576);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.t___50599);
    s.offset___50634 = (r0);
    r0 = (s.offset___50634 <= s.maxMove___50581);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tmp_1 = r0 = s.arg1;
    r0 = s.arg1.fields["_y"];
    s.tmp_3 = r0;
    r0 = (s.offset___50634 * 256);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 | 0);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 + s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_y"] = (s.tmp_2);
    s.tmp_3 = tiles_TileMap_isOnWall__P31799_mk(s);
    s.tmp_3.arg0 = s.arg2;
    s.tmp_3.arg1 = s.arg1;
    s.callLocIdx = 755; s.pc = 27; return s.tmp_3;
  case 27:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = true;
    { step = 19; continue; }
    { step = 8; continue; }
  case 7:
    r0 = (s.arg1).fields["_y"] = (s.origY___50583);
  case 8:
  case 9:
  case 10:
    r0 = (s.r___50594 + 1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 % s.sz___50576);
    s.offset___50665 = (r0);
    r0 = (s.offset___50665 <= s.maxMove___50581);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    s.tmp_1 = r0 = s.arg1;
    r0 = s.arg1.fields["_x"];
    s.tmp_3 = r0;
    r0 = (s.offset___50665 * 256);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 | 0);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 - s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_x"] = (s.tmp_2);
    s.tmp_3 = tiles_TileMap_isOnWall__P31799_mk(s);
    s.tmp_3.arg0 = s.arg2;
    s.tmp_3.arg1 = s.arg1;
    s.callLocIdx = 758; s.pc = 28; return s.tmp_3;
  case 28:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = true;
    { step = 19; continue; }
    { step = 12; continue; }
  case 11:
    r0 = (s.arg1).fields["_x"] = (s.origX___50586);
  case 12:
  case 13:
  case 14:
    r0 = (s.l___50589 / s.sz___50576);
    s.tmp_3 = r0;
    r0 = pxsim.Math_.floor(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * s.sz___50576);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.l___50589);
    s.offset___50690 = (r0);
    r0 = (s.offset___50690 <= s.maxMove___50581);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 17; continue; }
    s.tmp_1 = r0 = s.arg1;
    r0 = s.arg1.fields["_x"];
    s.tmp_3 = r0;
    r0 = (s.offset___50690 * 256);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 | 0);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 + s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_x"] = (s.tmp_2);
    s.tmp_3 = tiles_TileMap_isOnWall__P31799_mk(s);
    s.tmp_3.arg0 = s.arg2;
    s.tmp_3.arg1 = s.arg1;
    s.callLocIdx = 761; s.pc = 29; return s.tmp_3;
  case 29:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = true;
    { step = 19; continue; }
    { step = 16; continue; }
  case 15:
    r0 = (s.arg1).fields["_x"] = (s.origX___50586);
  case 16:
  case 17:
  case 18:
    r0 = false;
  case 19:
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_canResolveClipping__P34547.info = {"start":22715,"length":2135,"line":658,"column":4,"endLine":729,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"canResolveClipping","argumentNames":["this","s","tm"]}

function ArcadePhysicsEngine_canResolveClipping__P34547_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_canResolveClipping__P34547, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  hbox___50573: undefined,
  sz___50576: undefined,
  maxMove___50581: undefined,
  origY___50583: undefined,
  origX___50586: undefined,
  l___50589: undefined,
  r___50594: undefined,
  t___50599: undefined,
  b___50604: undefined,
  offset___50609: undefined,
  offset___50634: undefined,
  offset___50665: undefined,
  offset___50690: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Sprite_isStatic__P31519(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_image"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.isStatic(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
Sprite_isStatic__P31519.info = {"start":8266,"length":57,"line":299,"column":4,"endLine":301,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"isStatic","argumentNames":["this"]}

function Sprite_isStatic__P31519_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_isStatic__P31519, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function game_Hitbox_bottom__P31430(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_Hitbox__C31420_VT)) failedCast(r0);
    r0 = s.arg0.fields["height"];
    s.tmp_1 = r0;
    s.tmp_3 = game_Hitbox_top__P31428_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 299; s.pc = 1; return s.tmp_3;
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - 256);
    return leaveAccessor(s, r0)
  default: oops()
} } }
game_Hitbox_bottom__P31430.info = {"start":742,"length":139,"line":31,"column":8,"endLine":36,"endColumn":9,"fileName":"pxt_modules/game/hitbox.ts","functionName":"bottom","argumentNames":["this"]}
game_Hitbox_bottom__P31430.isGetter = true;

function game_Hitbox_bottom__P31430_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_Hitbox_bottom__P31430, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function game_Hitbox_right__P31429(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_Hitbox__C31420_VT)) failedCast(r0);
    r0 = s.arg0.fields["width"];
    s.tmp_1 = r0;
    s.tmp_3 = game_Hitbox_left__P31427_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 296; s.pc = 1; return s.tmp_3;
  case 1:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - 256);
    return leaveAccessor(s, r0)
  default: oops()
} } }
game_Hitbox_right__P31429.info = {"start":594,"length":138,"line":24,"column":8,"endLine":29,"endColumn":9,"fileName":"pxt_modules/game/hitbox.ts","functionName":"right","argumentNames":["this"]}
game_Hitbox_right__P31429.isGetter = true;

function game_Hitbox_right__P31429_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_Hitbox_right__P31429, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function game_Hitbox_top__P31428(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_Hitbox__C31420_VT)) failedCast(r0);
    r0 = s.arg0.fields["oy"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["parent"];
    r0 = r0.fields["_y"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    return leaveAccessor(s, r0)
  default: oops()
} } }
game_Hitbox_top__P31428.info = {"start":511,"length":73,"line":20,"column":8,"endLine":22,"endColumn":9,"fileName":"pxt_modules/game/hitbox.ts","functionName":"top","argumentNames":["this"]}
game_Hitbox_top__P31428.isGetter = true;

function game_Hitbox_top__P31428_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_Hitbox_top__P31428, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function game_Hitbox_left__P31427(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, game_Hitbox__C31420_VT)) failedCast(r0);
    r0 = s.arg0.fields["ox"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["parent"];
    r0 = r0.fields["_x"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    return leaveAccessor(s, r0)
  default: oops()
} } }
game_Hitbox_left__P31427.info = {"start":427,"length":74,"line":16,"column":8,"endLine":18,"endColumn":9,"fileName":"pxt_modules/game/hitbox.ts","functionName":"left","argumentNames":["this"]}
game_Hitbox_left__P31427.isGetter = true;

function game_Hitbox_left__P31427_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: game_Hitbox_left__P31427, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function ArcadePhysicsEngine_tilemapCollisions__P34545(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___50858 = undefined;
    s.hbox___50881 = undefined;
    s.tileScale___50884 = undefined;
    s.tileSize___50887 = undefined;
    s.xDiff___50891 = undefined;
    s.yDiff___50898 = undefined;
    s.overlappedTiles___50905 = undefined;
    s.right___50910 = undefined;
    s.x0___50914 = undefined;
    s.collidedTiles___50929 = undefined;
    s.y___50931 = undefined;
    s.y0___50945 = undefined;
    s.obstacle___50961 = undefined;
    s.collisionDirection___50995 = undefined;
    s.tile___51021 = undefined;
    s.unnamed498___U15 = undefined;
    s.unnamed499___U16 = undefined;
    s.down___51099 = undefined;
    s.y0___51103 = undefined;
    s.collidedTiles___51118 = undefined;
    s.overlappedTiles___51120 = undefined;
    s.x___51122 = undefined;
    s.x0___51132 = undefined;
    s.obstacle___51146 = undefined;
    s.collisionDirection___51180 = undefined;
    s.tile___51206 = undefined;
    s.unnamed500___U26 = undefined;
    s.unnamed501___U27 = undefined;
    s.x___51281 = undefined;
    s.x0___51291 = undefined;
    s.y___51301 = undefined;
    s.y0___51311 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    r0 = s.arg1.fields["sprite"];
    s.s___50858 = (r0);
    r0 = s.s___50858.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 256);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = tiles_TileMap_isOnWall__P31799_mk(s);
    s.tmp_3.arg0 = s.arg2;
    s.tmp_3.arg1 = s.s___50858;
    s.callLocIdx = 620; s.pc = 84; return s.tmp_3;
  case 84:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 1; continue; }
    { step = 83; continue; }
    { step = 2; continue; }
  case 1:
    s.tmp_4 = r0 = s.s___50858;
    r0 = s.tmp_4.fields["flags"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 & -257);
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["flags"] = (s.tmp_5);
  case 2:
  case 3:
  case 4:
    r0 = s.s___50858.fields["_image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.isStatic(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_4 = Sprite_setHitbox__P31518_mk(s);
    s.tmp_4.arg0 = s.s___50858;
    s.callLocIdx = 622; s.pc = 85; return s.tmp_4;
  case 85:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = s.s___50858.fields["_hitbox"];
    s.hbox___50881 = (r0);
    r0 = s.arg2.fields["_scale"];
    s.tileScale___50884 = (r0);
    r0 = (1 << s.tileScale___50884);
    s.tileSize___50887 = (r0);
    r0 = s.s___50858.fields["_x"];
    s.tmp_0 = r0;
    r0 = s.s___50858.fields["_lastX"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.xDiff___50891 = (r0);
    r0 = s.s___50858.fields["_y"];
    s.tmp_0 = r0;
    r0 = s.s___50858.fields["_lastY"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.yDiff___50898 = (r0);
    r0 = pxsim_Array__mk();
    s.overlappedTiles___50905 = (r0);
    r0 = (s.xDiff___50891 !== 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 39; continue; }
    r0 = (s.xDiff___50891 > 0);
    s.right___50910 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.right___50910);
    if (!r0) { step = 7; continue; }
    s.tmp_1 = game_Hitbox_right__P31429_mk(s);
    s.tmp_1.arg0 = s.hbox___50881;
    s.callLocIdx = 626; s.pc = 86; return s.tmp_1;
  case 86:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 256);
    { step = 8; continue; }
  case 7:
    s.tmp_3 = game_Hitbox_left__P31427_mk(s);
    s.tmp_3.arg0 = s.hbox___50881;
    s.callLocIdx = 628; s.pc = 87; return s.tmp_3;
  case 87:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 256);
  case 8:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 128);
    s.tmp_5 = r0;
    r0 = (s.tileScale___50884 + 8);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 >> s.tmp_6);
    s.x0___50914 = (r0);
    r0 = pxsim_Array__mk();
    s.collidedTiles___50929 = (r0);
    s.tmp_1 = game_Hitbox_top__P31428_mk(s);
    s.tmp_1.arg0 = s.hbox___50881;
    s.callLocIdx = 632; s.pc = 88; return s.tmp_1;
  case 88:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.yDiff___50898);
    s.y___50931 = (r0);
  case 9:
    s.tmp_1 = r0 = s.y___50931;
    s.tmp_3 = r0 = s.tileSize___50887;
    s.tmp_6 = game_Hitbox_bottom__P31430_mk(s);
    s.tmp_6.arg0 = s.hbox___50881;
    s.callLocIdx = 634; s.pc = 89; return s.tmp_6;
  case 89:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.tmp_5 - s.yDiff___50898);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 << 8);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 + s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tmp_10 = Fx_min__P29588_mk(s);
    s.tmp_10.arg0 = s.y___50931;
    s.tmp_12 = game_Hitbox_bottom__P31430_mk(s);
    s.tmp_12.arg0 = s.hbox___50881;
    s.callLocIdx = 637; s.pc = 91; return s.tmp_12;
  case 91:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = (s.tmp_11 - s.yDiff___50898);
    s.tmp_10.arg1 = r0;
    s.callLocIdx = 639; s.pc = 90; return s.tmp_10;
  case 90:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = (s.tmp_9 + 128);
    s.tmp_8 = r0;
    r0 = (s.tileScale___50884 + 8);
    s.tmp_13 = r0;
    r0 = (s.tmp_8 >> s.tmp_13);
    s.y0___50945 = (r0);
    s.tmp_1 = tiles_TileMap_isObstacle__P31797_mk(s);
    s.tmp_1.arg0 = s.arg2;
    s.tmp_1.arg1 = s.x0___50914;
    s.tmp_1.arg2 = s.y0___50945;
    s.callLocIdx = 642; s.pc = 92; return s.tmp_1;
  case 92:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 12; continue; }
    s.tmp_2 = tiles_TileMap_getObstacle__P31798_mk(s);
    s.tmp_2.arg0 = s.arg2;
    s.tmp_2.arg1 = s.x0___50914;
    s.tmp_2.arg2 = s.y0___50945;
    s.callLocIdx = 643; s.pc = 93; return s.tmp_2;
  case 93:
    r0 = s.retval;
    s.obstacle___50961 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P50969);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.obstacle___50961);
    s.tmp_4 = helpers_arraySome__P29532_mk(s);
    s.tmp_4.arg0 = s.collidedTiles___50929;
    s.tmp_4.arg1 = s.tmp_0;
    s.callLocIdx = 644; s.pc = 94; return s.tmp_4;
  case 94:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 10; continue; }
    r0 = pxsim_Array__push(s.collidedTiles___50929, s.obstacle___50961);
  case 10:
  case 11:
    { step = 13; continue; }
  case 12:
    s.tmp_0 = r0 = s.overlappedTiles___50905;
    s.tmp_2 = tiles_TileMap_getTile__P31790_mk(s);
    s.tmp_2.arg0 = s.arg2;
    s.tmp_2.arg1 = s.x0___50914;
    s.tmp_2.arg2 = s.y0___50945;
    s.callLocIdx = 645; s.pc = 95; return s.tmp_2;
  case 95:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
  case 13:
    r0 = (s.tileSize___50887 << 8);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + s.y___50931);
    s.y___50931 = (r0);
    { step = 9; continue; }
  case 14:
    r0 = pxsim_Array__length(s.collidedTiles___50929);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 37; continue; }
    r0 = pxsim_numops_toBoolDecr(s.right___50910);
    if (!r0) { step = 15; continue; }
    r0 = 2;
    { step = 16; continue; }
  case 15:
    r0 = 0;
  case 16:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.collisionDirection___50995 = (s.tmp_1);
    r0 = pxsim_numops_toBoolDecr(s.right___50910);
    if (!r0) { step = 17; continue; }
    r0 = (s.x0___50914 << s.tileScale___50884);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_0 = r0;
    r0 = s.hbox___50881.fields["width"];
    s.tmp_3 = r0;
    r0 = (s.tmp_0 - s.tmp_3);
    { step = 18; continue; }
  case 17:
    r0 = (s.x0___50914 + 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 << s.tileScale___50884);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 * 256);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 | 0);
  case 18:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    s.tmp_8 = r0 = s.s___50858;
    r0 = s.hbox___50881.fields["ox"];
    s.tmp_10 = r0;
    r0 = (s.tmp_7 - s.tmp_10);
    s.tmp_9 = r0;
    r0 = (s.tmp_8).fields["_x"] = (s.tmp_9);
    s.tile___51021 = (undefined);
    s.unnamed498___U15 = (s.collidedTiles___50929);
    s.unnamed499___U16 = (0);
  case 19:
    s.tmp_0 = r0 = s.unnamed499___U16;
    r0 = pxsim_Array__length(s.unnamed498___U15);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 20; continue; }
    r0 = pxsim_Array__getAt(s.unnamed498___U15, s.unnamed499___U16);
    s.tile___51021 = (r0);
    s.tmp_2 = Sprite_registerObstacle__P31546_mk(s);
    s.tmp_2.arg0 = s.s___50858;
    s.tmp_2.arg1 = s.collisionDirection___50995;
    s.tmp_2.arg2 = s.tile___51021;
    s.tmp_2.arg3 = s.arg2;
    s.callLocIdx = 651; s.pc = 96; return s.tmp_2;
  case 96:
    r0 = s.retval;
    r0 = (s.unnamed499___U16 + 1);
    s.unnamed499___U16 = (r0);
    { step = 19; continue; }
  case 20:
    s.unnamed498___U15 = (undefined);
    r0 = s.s___50858.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 16);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 21; continue; }
    s.tmp_2 = Sprite_destroy__P31548_mk(s);
    s.tmp_2.arg0 = s.s___50858;
    s.tmp_2.arg1 = undefined;
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 652; s.pc = 97; return s.tmp_2;
  case 97:
    r0 = s.retval;
    { step = 36; continue; }
  case 21:
    r0 = s.s___50858.fields["_vx"];
    s.tmp_1 = r0;
    r0 = s.arg1.fields["cachedVx"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 === s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 32; continue; }
    r0 = s.s___50858.fields["flags"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 32);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 30; continue; }
    r0 = pxsim_numops_toBoolDecr(s.right___50910);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (r0) { step = 22; continue; }
    r0 = s.tmp_5;
    { step = 23; continue; }
  case 22:
    s.tmp_8 = Sprite_vx__P31490_mk(s);
    s.tmp_8.arg0 = s.s___50858;
    s.callLocIdx = 653; s.pc = 98; return s.tmp_8;
  case 98:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = (s.tmp_7 < 0);
  case 23:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBool(s.tmp_9);
    if (!r0) { step = 24; continue; }
    r0 = s.tmp_9;
    { step = 27; continue; }
  case 24:
    s.tmp_10 = r0 = s.right___50910;
    r0 = pxsim_numops_toBool(s.tmp_10);
    if (r0) { step = 25; continue; }
    r0 = s.tmp_10;
    { step = 26; continue; }
  case 25:
    s.tmp_12 = Sprite_vx__P31490_mk(s);
    s.tmp_12.arg0 = s.s___50858;
    s.callLocIdx = 654; s.pc = 99; return s.tmp_12;
  case 99:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = (s.tmp_11 > 0);
  case 26:
    // jmp value (already in r0)
    s.tmp_13 = r0;
    r0 = s.tmp_13;
  case 27:
    // jmp value (already in r0)
    s.tmp_14 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_14);
    if (!r0) { step = 28; continue; }
    s.tmp_15 = r0 = s.s___50858;
    r0 = s.s___50858.fields["_vx"];
    s.tmp_17 = r0;
    r0 = (0 - s.tmp_17);
    s.tmp_16 = r0;
    r0 = (s.tmp_15).fields["_vx"] = (s.tmp_16);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg1.fields["xStep"];
    s.tmp_2 = r0;
    r0 = (0 - s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["xStep"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg1.fields["dx"];
    s.tmp_2 = r0;
    r0 = (0 - s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["dx"] = (s.tmp_1);
  case 28:
  case 29:
    { step = 31; continue; }
  case 30:
    r0 = (s.arg1).fields["dx"] = (0);
    r0 = (s.s___50858).fields["_vx"] = (0);
  case 31:
    { step = 35; continue; }
  case 32:
    s.tmp_2 = Math_sign__P29551_mk(s);
    r0 = s.s___50858.fields["_vx"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 128);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >> 8);
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 659; s.pc = 100; return s.tmp_2;
  case 100:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_6 = Math_sign__P29551_mk(s);
    r0 = s.arg1.fields["cachedVx"];
    s.tmp_7 = r0;
    r0 = (s.tmp_7 + 128);
    s.tmp_8 = r0;
    r0 = (s.tmp_8 >> 8);
    s.tmp_6.arg0 = r0;
    s.callLocIdx = 661; s.pc = 101; return s.tmp_6;
  case 101:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.tmp_1 === s.tmp_5);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 33; continue; }
    r0 = (s.arg1).fields["dx"] = (0);
  case 33:
  case 34:
  case 35:
  case 36:
  case 37:
  case 38:
  case 39:
  case 40:
    r0 = (s.yDiff___50898 !== 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 73; continue; }
    r0 = (s.yDiff___50898 > 0);
    s.down___51099 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.down___51099);
    if (!r0) { step = 41; continue; }
    s.tmp_1 = game_Hitbox_bottom__P31430_mk(s);
    s.tmp_1.arg0 = s.hbox___50881;
    s.callLocIdx = 662; s.pc = 102; return s.tmp_1;
  case 102:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 256);
    { step = 42; continue; }
  case 41:
    s.tmp_3 = game_Hitbox_top__P31428_mk(s);
    s.tmp_3.arg0 = s.hbox___50881;
    s.callLocIdx = 664; s.pc = 103; return s.tmp_3;
  case 103:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - 256);
  case 42:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + 128);
    s.tmp_5 = r0;
    r0 = (s.tileScale___50884 + 8);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 >> s.tmp_6);
    s.y0___51103 = (r0);
    r0 = pxsim_Array__mk();
    s.collidedTiles___51118 = (r0);
    r0 = pxsim_Array__mk();
    s.overlappedTiles___51120 = (r0);
    s.tmp_0 = game_Hitbox_left__P31427_mk(s);
    s.tmp_0.arg0 = s.hbox___50881;
    s.callLocIdx = 668; s.pc = 104; return s.tmp_0;
  case 104:
    r0 = s.retval;
    s.x___51122 = (r0);
  case 43:
    s.tmp_1 = r0 = s.x___51122;
    s.tmp_3 = r0 = s.tileSize___50887;
    s.tmp_5 = game_Hitbox_right__P31429_mk(s);
    s.tmp_5.arg0 = s.hbox___50881;
    s.callLocIdx = 669; s.pc = 105; return s.tmp_5;
  case 105:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_3 << 8);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 48; continue; }
    s.tmp_9 = Fx_min__P29588_mk(s);
    s.tmp_9.arg0 = s.x___51122;
    s.tmp_10 = game_Hitbox_right__P31429_mk(s);
    s.tmp_10.arg0 = s.hbox___50881;
    s.callLocIdx = 671; s.pc = 107; return s.tmp_10;
  case 107:
    r0 = s.retval;
    s.tmp_9.arg1 = r0;
    s.callLocIdx = 672; s.pc = 106; return s.tmp_9;
  case 106:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = (s.tmp_8 + 128);
    s.tmp_7 = r0;
    r0 = (s.tileScale___50884 + 8);
    s.tmp_11 = r0;
    r0 = (s.tmp_7 >> s.tmp_11);
    s.x0___51132 = (r0);
    s.tmp_1 = tiles_TileMap_isObstacle__P31797_mk(s);
    s.tmp_1.arg0 = s.arg2;
    s.tmp_1.arg1 = s.x0___51132;
    s.tmp_1.arg2 = s.y0___51103;
    s.callLocIdx = 675; s.pc = 108; return s.tmp_1;
  case 108:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 46; continue; }
    s.tmp_2 = tiles_TileMap_getObstacle__P31798_mk(s);
    s.tmp_2.arg0 = s.arg2;
    s.tmp_2.arg1 = s.x0___51132;
    s.tmp_2.arg2 = s.y0___51103;
    s.callLocIdx = 676; s.pc = 109; return s.tmp_2;
  case 109:
    r0 = s.retval;
    s.obstacle___51146 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P51154);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.obstacle___51146);
    s.tmp_4 = helpers_arraySome__P29532_mk(s);
    s.tmp_4.arg0 = s.collidedTiles___51118;
    s.tmp_4.arg1 = s.tmp_0;
    s.callLocIdx = 677; s.pc = 110; return s.tmp_4;
  case 110:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 44; continue; }
    r0 = pxsim_Array__push(s.collidedTiles___51118, s.obstacle___51146);
  case 44:
  case 45:
    { step = 47; continue; }
  case 46:
    s.tmp_0 = r0 = s.overlappedTiles___51120;
    s.tmp_2 = tiles_TileMap_getTile__P31790_mk(s);
    s.tmp_2.arg0 = s.arg2;
    s.tmp_2.arg1 = s.x0___51132;
    s.tmp_2.arg2 = s.y0___51103;
    s.callLocIdx = 678; s.pc = 111; return s.tmp_2;
  case 111:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
  case 47:
    r0 = (s.tileSize___50887 << 8);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + s.x___51122);
    s.x___51122 = (r0);
    { step = 43; continue; }
  case 48:
    r0 = pxsim_Array__length(s.collidedTiles___51118);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 71; continue; }
    r0 = pxsim_numops_toBoolDecr(s.down___51099);
    if (!r0) { step = 49; continue; }
    r0 = 3;
    { step = 50; continue; }
  case 49:
    r0 = 1;
  case 50:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.collisionDirection___51180 = (s.tmp_1);
    r0 = pxsim_numops_toBoolDecr(s.down___51099);
    if (!r0) { step = 51; continue; }
    r0 = (s.y0___51103 << s.tileScale___50884);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_0 = r0;
    r0 = s.hbox___50881.fields["height"];
    s.tmp_3 = r0;
    r0 = (s.tmp_0 - s.tmp_3);
    { step = 52; continue; }
  case 51:
    r0 = (s.y0___51103 + 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 << s.tileScale___50884);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 * 256);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 | 0);
  case 52:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    s.tmp_8 = r0 = s.s___50858;
    r0 = s.hbox___50881.fields["oy"];
    s.tmp_10 = r0;
    r0 = (s.tmp_7 - s.tmp_10);
    s.tmp_9 = r0;
    r0 = (s.tmp_8).fields["_y"] = (s.tmp_9);
    s.tile___51206 = (undefined);
    s.unnamed500___U26 = (s.collidedTiles___51118);
    s.unnamed501___U27 = (0);
  case 53:
    s.tmp_0 = r0 = s.unnamed501___U27;
    r0 = pxsim_Array__length(s.unnamed500___U26);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 54; continue; }
    r0 = pxsim_Array__getAt(s.unnamed500___U26, s.unnamed501___U27);
    s.tile___51206 = (r0);
    s.tmp_2 = Sprite_registerObstacle__P31546_mk(s);
    s.tmp_2.arg0 = s.s___50858;
    s.tmp_2.arg1 = s.collisionDirection___51180;
    s.tmp_2.arg2 = s.tile___51206;
    s.tmp_2.arg3 = s.arg2;
    s.callLocIdx = 684; s.pc = 112; return s.tmp_2;
  case 112:
    r0 = s.retval;
    r0 = (s.unnamed501___U27 + 1);
    s.unnamed501___U27 = (r0);
    { step = 53; continue; }
  case 54:
    s.unnamed500___U26 = (undefined);
    r0 = s.s___50858.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 16);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 55; continue; }
    s.tmp_2 = Sprite_destroy__P31548_mk(s);
    s.tmp_2.arg0 = s.s___50858;
    s.tmp_2.arg1 = undefined;
    s.tmp_2.arg2 = undefined;
    s.callLocIdx = 685; s.pc = 113; return s.tmp_2;
  case 113:
    r0 = s.retval;
    { step = 70; continue; }
  case 55:
    r0 = s.s___50858.fields["_vy"];
    s.tmp_1 = r0;
    r0 = s.arg1.fields["cachedVy"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 === s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 66; continue; }
    r0 = s.s___50858.fields["flags"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 32);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 64; continue; }
    r0 = pxsim_numops_toBoolDecr(s.down___51099);
    s.tmp_6 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBool(s.tmp_5);
    if (r0) { step = 56; continue; }
    r0 = s.tmp_5;
    { step = 57; continue; }
  case 56:
    s.tmp_8 = Sprite_vy__P31492_mk(s);
    s.tmp_8.arg0 = s.s___50858;
    s.callLocIdx = 686; s.pc = 114; return s.tmp_8;
  case 114:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = (s.tmp_7 < 0);
  case 57:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBool(s.tmp_9);
    if (!r0) { step = 58; continue; }
    r0 = s.tmp_9;
    { step = 61; continue; }
  case 58:
    s.tmp_10 = r0 = s.down___51099;
    r0 = pxsim_numops_toBool(s.tmp_10);
    if (r0) { step = 59; continue; }
    r0 = s.tmp_10;
    { step = 60; continue; }
  case 59:
    s.tmp_12 = Sprite_vy__P31492_mk(s);
    s.tmp_12.arg0 = s.s___50858;
    s.callLocIdx = 687; s.pc = 115; return s.tmp_12;
  case 115:
    r0 = s.retval;
    s.tmp_11 = r0;
    r0 = (s.tmp_11 > 0);
  case 60:
    // jmp value (already in r0)
    s.tmp_13 = r0;
    r0 = s.tmp_13;
  case 61:
    // jmp value (already in r0)
    s.tmp_14 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_14);
    if (!r0) { step = 62; continue; }
    s.tmp_15 = r0 = s.s___50858;
    r0 = s.s___50858.fields["_vy"];
    s.tmp_17 = r0;
    r0 = (0 - s.tmp_17);
    s.tmp_16 = r0;
    r0 = (s.tmp_15).fields["_vy"] = (s.tmp_16);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg1.fields["yStep"];
    s.tmp_2 = r0;
    r0 = (0 - s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["yStep"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg1.fields["dy"];
    s.tmp_2 = r0;
    r0 = (0 - s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["dy"] = (s.tmp_1);
  case 62:
  case 63:
    { step = 65; continue; }
  case 64:
    r0 = (s.arg1).fields["dy"] = (0);
    r0 = (s.s___50858).fields["_vy"] = (0);
  case 65:
    { step = 69; continue; }
  case 66:
    s.tmp_2 = Math_sign__P29551_mk(s);
    r0 = s.s___50858.fields["_vy"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 128);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >> 8);
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 692; s.pc = 116; return s.tmp_2;
  case 116:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_6 = Math_sign__P29551_mk(s);
    r0 = s.arg1.fields["cachedVy"];
    s.tmp_7 = r0;
    r0 = (s.tmp_7 + 128);
    s.tmp_8 = r0;
    r0 = (s.tmp_8 >> 8);
    s.tmp_6.arg0 = r0;
    s.callLocIdx = 694; s.pc = 117; return s.tmp_6;
  case 117:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.tmp_1 === s.tmp_5);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 67; continue; }
    r0 = (s.arg1).fields["dy"] = (0);
  case 67:
  case 68:
  case 69:
  case 70:
  case 71:
  case 72:
  case 73:
  case 74:
    s.tmp_0 = game_Hitbox_left__P31427_mk(s);
    s.tmp_0.arg0 = s.hbox___50881;
    s.callLocIdx = 695; s.pc = 118; return s.tmp_0;
  case 118:
    r0 = s.retval;
    s.x___51281 = (r0);
  case 75:
    s.tmp_1 = r0 = s.x___51281;
    s.tmp_3 = r0 = s.tileSize___50887;
    s.tmp_5 = game_Hitbox_right__P31429_mk(s);
    s.tmp_5.arg0 = s.hbox___50881;
    s.callLocIdx = 696; s.pc = 119; return s.tmp_5;
  case 119:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_3 << 8);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 80; continue; }
    s.tmp_9 = Fx_min__P29588_mk(s);
    s.tmp_9.arg0 = s.x___51281;
    s.tmp_10 = game_Hitbox_right__P31429_mk(s);
    s.tmp_10.arg0 = s.hbox___50881;
    s.callLocIdx = 698; s.pc = 121; return s.tmp_10;
  case 121:
    r0 = s.retval;
    s.tmp_9.arg1 = r0;
    s.callLocIdx = 699; s.pc = 120; return s.tmp_9;
  case 120:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = (s.tmp_8 + 128);
    s.tmp_7 = r0;
    r0 = (s.tileScale___50884 + 8);
    s.tmp_11 = r0;
    r0 = (s.tmp_7 >> s.tmp_11);
    s.x0___51291 = (r0);
    s.tmp_0 = game_Hitbox_top__P31428_mk(s);
    s.tmp_0.arg0 = s.hbox___50881;
    s.callLocIdx = 702; s.pc = 122; return s.tmp_0;
  case 122:
    r0 = s.retval;
    s.y___51301 = (r0);
  case 76:
    s.tmp_1 = r0 = s.y___51301;
    s.tmp_3 = r0 = s.tileSize___50887;
    s.tmp_5 = game_Hitbox_bottom__P31430_mk(s);
    s.tmp_5.arg0 = s.hbox___50881;
    s.callLocIdx = 703; s.pc = 123; return s.tmp_5;
  case 123:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_3 << 8);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 79; continue; }
    s.tmp_9 = Fx_min__P29588_mk(s);
    s.tmp_9.arg0 = s.y___51301;
    s.tmp_10 = game_Hitbox_bottom__P31430_mk(s);
    s.tmp_10.arg0 = s.hbox___50881;
    s.callLocIdx = 705; s.pc = 125; return s.tmp_10;
  case 125:
    r0 = s.retval;
    s.tmp_9.arg1 = r0;
    s.callLocIdx = 706; s.pc = 124; return s.tmp_9;
  case 124:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = (s.tmp_8 + 128);
    s.tmp_7 = r0;
    r0 = (s.tileScale___50884 + 8);
    s.tmp_11 = r0;
    r0 = (s.tmp_7 >> s.tmp_11);
    s.y0___51311 = (r0);
    s.tmp_3 = tiles_TileMap_isObstacle__P31797_mk(s);
    s.tmp_3.arg0 = s.arg2;
    s.tmp_3.arg1 = s.x0___51291;
    s.tmp_3.arg2 = s.y0___51311;
    s.callLocIdx = 709; s.pc = 126; return s.tmp_3;
  case 126:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 77; continue; }
    s.tmp_4 = r0 = s.overlappedTiles___50905;
    s.tmp_6 = tiles_TileMap_getTile__P31790_mk(s);
    s.tmp_6.arg0 = s.arg2;
    s.tmp_6.arg1 = s.x0___51291;
    s.tmp_6.arg2 = s.y0___51311;
    s.callLocIdx = 710; s.pc = 127; return s.tmp_6;
  case 127:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_Array__push(s.tmp_4, s.tmp_5);
  case 77:
  case 78:
    r0 = (s.tileSize___50887 << 8);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + s.y___51301);
    s.y___51301 = (r0);
    { step = 76; continue; }
  case 79:
    r0 = (s.tileSize___50887 << 8);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + s.x___51281);
    s.x___51281 = (r0);
    { step = 75; continue; }
  case 80:
    r0 = pxsim_Array__length(s.overlappedTiles___50905);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 81; continue; }
    s.tmp_1 = ArcadePhysicsEngine_tilemapOverlaps__P34546_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.s___50858;
    s.tmp_1.arg2 = s.overlappedTiles___50905;
    s.callLocIdx = 713; s.pc = 128; return s.tmp_1;
  case 128:
    r0 = s.retval;
  case 81:
  case 82:
  case 83:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_tilemapCollisions__P34545.info = {"start":11417,"length":8619,"line":350,"column":4,"endLine":586,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"tilemapCollisions","argumentNames":["this","movingSprite","tm"]}

function ArcadePhysicsEngine_tilemapCollisions__P34545_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_tilemapCollisions__P34545, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  s___50858: undefined,
  hbox___50881: undefined,
  tileScale___50884: undefined,
  tileSize___50887: undefined,
  xDiff___50891: undefined,
  yDiff___50898: undefined,
  overlappedTiles___50905: undefined,
  right___50910: undefined,
  x0___50914: undefined,
  collidedTiles___50929: undefined,
  y___50931: undefined,
  y0___50945: undefined,
  obstacle___50961: undefined,
  collisionDirection___50995: undefined,
  tile___51021: undefined,
  unnamed498___U15: undefined,
  unnamed499___U16: undefined,
  down___51099: undefined,
  y0___51103: undefined,
  collidedTiles___51118: undefined,
  overlappedTiles___51120: undefined,
  x___51122: undefined,
  x0___51132: undefined,
  obstacle___51146: undefined,
  collisionDirection___51180: undefined,
  tile___51206: undefined,
  unnamed500___U26: undefined,
  unnamed501___U27: undefined,
  x___51281: undefined,
  x0___51291: undefined,
  y___51301: undefined,
  y0___51311: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P50969(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["tileIndex"];
    s.tmp_0 = r0;
    r0 = s.caps[0].fields["tileIndex"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 === s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P50969.info = {"start":13538,"length":39,"line":414,"column":44,"endLine":414,"endColumn":83,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["o"]}

function inline__P50969_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P50969, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P51154(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["tileIndex"];
    s.tmp_0 = r0;
    r0 = s.caps[0].fields["tileIndex"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 === s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P51154.info = {"start":16773,"length":39,"line":496,"column":44,"endLine":496,"endColumn":83,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["o"]}

function inline__P51154_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P51154, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function ArcadePhysicsEngine_tilemapOverlaps__P34546(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.alreadyHandled___51350 = undefined;
    s.tile___51353 = undefined;
    s.unnamed502___U2 = undefined;
    s.unnamed503___U3 = undefined;
    s.tileOverlapHandlers___51374 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    r0 = pxsim_Array__mk();
    s.alreadyHandled___51350 = (r0);
    s.tile___51353 = (undefined);
    s.unnamed502___U2 = (s.arg2);
    s.unnamed503___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed503___U3;
    r0 = pxsim_Array__length(s.unnamed502___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 7; continue; }
    r0 = pxsim_Array__getAt(s.unnamed502___U2, s.unnamed503___U3);
    s.tile___51353 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P51357);
    s.tmp_2 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_2, 0, s.tile___51353);
    s.tmp_4 = helpers_arraySome__P29532_mk(s);
    s.tmp_4.arg0 = s.alreadyHandled___51350;
    s.tmp_4.arg1 = s.tmp_2;
    s.callLocIdx = 718; s.pc = 8; return s.tmp_4;
  case 8:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 2; continue; }
    { step = 6; continue; }
  case 2:
  case 3:
    r0 = pxsim_Array__push(s.alreadyHandled___51350, s.tile___51353);
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 719; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = r0.fields["tileOverlapHandlers"];
    s.tileOverlapHandlers___51374 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.tileOverlapHandlers___51374);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_pxtcore_mkAction(2, inline__P51382);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.tile___51353);
    r0 = pxsim_pxtcore_mkAction(2, inline__P51398);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg1);
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 1, s.tile___51353);
    s.tmp_2 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_3 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_3.arg0 = s.tileOverlapHandlers___51374;
    s.tmp_3.arg1 = s.tmp_0;
    s.callLocIdx = 722; s.pc = 11; return s.tmp_3;
  case 11:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.tmp_1;
    s.callLocIdx = 724; s.pc = 10; return s.tmp_2;
  case 10:
    r0 = s.retval;
  case 4:
  case 5:
  case 6:
    r0 = (s.unnamed503___U3 + 1);
    s.unnamed503___U3 = (r0);
    { step = 1; continue; }
  case 7:
    s.unnamed502___U2 = (undefined);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_tilemapOverlaps__P34546.info = {"start":20313,"length":699,"line":594,"column":4,"endLine":610,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"tilemapOverlaps","argumentNames":["this","sprite","overlappedTiles"]}

function ArcadePhysicsEngine_tilemapOverlaps__P34546_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_tilemapOverlaps__P34546, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  alreadyHandled___51350: undefined,
  tile___51353: undefined,
  unnamed502___U2: undefined,
  unnamed503___U3: undefined,
  tileOverlapHandlers___51374: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P51357(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["_col"];
    s.tmp_1 = r0;
    r0 = s.caps[0].fields["_col"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 === s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["_row"];
    s.tmp_3 = r0;
    r0 = s.caps[0].fields["_row"];
    s.tmp_4 = r0;
    r0 = (s.tmp_3 === s.tmp_4);
  case 2:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = s.tmp_5;
    return leave(s, r0)
  default: oops()
} } }
inline__P51357.info = {"start":20526,"length":45,"line":598,"column":36,"endLine":598,"endColumn":81,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["l"]}

function inline__P51357_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P51357, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
} }





function inline__P51382(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["spriteKind"];
    s.tmp_1 = r0;
    r0 = s.caps[0].fields["_kind"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 == s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["tileKind"];
    s.tmp_3 = r0;
    s.tmp_5 = tiles_getTileImage__P31806_mk(s);
    s.tmp_5.arg0 = s.caps[1];
    s.callLocIdx = 721; s.pc = 3; return s.tmp_5;
  case 3:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.equals(s.tmp_3, s.tmp_4);
  case 2:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = s.tmp_6;
    return leave(s, r0)
  default: oops()
} } }
inline__P51382.info = {"start":20840,"length":81,"line":606,"column":28,"endLine":606,"endColumn":109,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["h"]}

function inline__P51382_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P51382, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }





function inline__P51398(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = if_handler_3_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.caps[0];
    s.tmp_0.arg2 = s.caps[1];
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "handler"), 3);
      s.callLocIdx = 723; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["handler"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["handler"], 3); s.callLocIdx = 723; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 723; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 723; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P51398.info = {"start":20952,"length":28,"line":607,"column":29,"endLine":607,"endColumn":57,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["h"]}

function inline__P51398_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P51398, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function tiles_getTileImage__P31806(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.scene___51406 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 845; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.scene___51406 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.arg0);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.scene___51406.fields["tileMap"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 3; continue; }
    r0 = pxsim.image.ofBuffer(_hex51416);
    { step = 5; continue; }
  case 3:
  case 4:
    s.tmp_5 = tiles_TileMap_getTileImage__P31800_mk(s);
    r0 = s.scene___51406.fields["tileMap"];
    s.tmp_5.arg0 = r0;
    s.tmp_6 = tiles_Location_tileSet__P31756_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.callLocIdx = 846; s.pc = 8; return s.tmp_6;
  case 8:
    r0 = s.retval;
    s.tmp_5.arg1 = r0;
    s.callLocIdx = 847; s.pc = 7; return s.tmp_5;
  case 7:
    r0 = s.retval;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
tiles_getTileImage__P31806.info = {"start":16582,"length":207,"line":524,"column":4,"endLine":528,"endColumn":5,"fileName":"pxt_modules/game/tilemap.ts","functionName":"getTileImage","argumentNames":["loc"]}

function tiles_getTileImage__P31806_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_getTileImage__P31806, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  scene___51406: undefined,
  arg0: undefined,
} }

const _hex51416 = pxsim.BufferMethods.createBufferFromHex("8704000000000000")




function tiles_TileMap_getTileImage__P31800(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    s.tmp_0 = tiles_TileMapData_getTileImage__P31774_mk(s);
    r0 = s.arg0.fields["_map"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 844; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_getTileImage__P31800.info = {"start":13699,"length":96,"line":442,"column":8,"endLine":444,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"getTileImage","argumentNames":["this","index"]}

function tiles_TileMap_getTileImage__P31800_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_getTileImage__P31800, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function tiles_TileMapData_getTileImage__P31774(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.size___51469 = undefined;
    s.cachedImage___51473 = undefined;
    s.originalImage___51480 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMapData__C31765_VT)) failedCast(r0);
    r0 = s.arg0.fields["_scale"];
    s.tmp_0 = r0;
    r0 = (1 << s.tmp_0);
    s.size___51469 = (r0);
    r0 = s.arg0.fields["cachedTileView"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.arg1);
    s.cachedImage___51473 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.cachedImage___51473);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = s.arg0.fields["tileset"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_2, s.arg1);
    s.originalImage___51480 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.originalImage___51480);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_ImageMethods.width(s.originalImage___51480);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= s.size___51469);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_ImageMethods.height(s.originalImage___51480);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 <= s.size___51469);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    s.cachedImage___51473 = (s.originalImage___51480);
    { step = 4; continue; }
  case 3:
    r0 = pxsim.image.create(s.size___51469, s.size___51469);
    s.cachedImage___51473 = (r0);
    r0 = pxsim_ImageMethods.drawImage(s.cachedImage___51473, s.originalImage___51480, 0, 0);
  case 4:
    r0 = s.arg0.fields["cachedTileView"];
    s.tmp_0 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_0, s.arg1, s.cachedImage___51473);
  case 5:
  case 6:
  case 7:
  case 8:
    r0 = s.cachedImage___51473;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMapData_getTileImage__P31774.info = {"start":4599,"length":717,"line":172,"column":8,"endLine":189,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"getTileImage","argumentNames":["this","index"]}

function tiles_TileMapData_getTileImage__P31774_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMapData_getTileImage__P31774, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  size___51469: undefined,
  cachedImage___51473: undefined,
  originalImage___51480: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function tiles_TileMapData_scale__P31769(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMapData__C31765_VT)) failedCast(r0);
    r0 = s.arg0.fields["_scale"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_TileMapData_scale__P31769.info = {"start":3809,"length":66,"line":143,"column":8,"endLine":145,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"scale","argumentNames":["this"]}
tiles_TileMapData_scale__P31769.isGetter = true;

function tiles_TileMapData_scale__P31769_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMapData_scale__P31769, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function tiles_Location_tileSet__P31756(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_Location__C31750_VT)) failedCast(r0);
    s.tmp_0 = tiles_TileMap_getTileIndex__P31791_mk(s);
    r0 = s.arg0.fields["tileMap"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["_col"];
    s.tmp_0.arg1 = r0;
    r0 = s.arg0.fields["_row"];
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 776; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_Location_tileSet__P31756.info = {"start":981,"length":101,"line":43,"column":8,"endLine":45,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"tileSet","argumentNames":["this"]}
tiles_Location_tileSet__P31756.isGetter = true;

function tiles_Location_tileSet__P31756_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_Location_tileSet__P31756, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function tiles_TileMap_getTileIndex__P31791(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    s.tmp_0 = tiles_TileMapData_getTile__P31771_mk(s);
    r0 = s.arg0.fields["_map"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 799; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_getTileIndex__P31791.info = {"start":7380,"length":105,"line":273,"column":8,"endLine":275,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"getTileIndex","argumentNames":["this","col","row"]}

function tiles_TileMap_getTileIndex__P31791_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_getTileIndex__P31791, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function tiles_TileMapData_getTile__P31771(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMapData__C31765_VT)) failedCast(r0);
    s.tmp_1 = tiles_TileMapData_isOutsideMap__P31777_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.arg2;
    s.callLocIdx = 778; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 0;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["data"];
    s.tmp_2 = r0;
    r0 = (s.arg1 | 0);
    s.tmp_5 = r0;
    r0 = (4 + s.tmp_5);
    s.tmp_4 = r0;
    r0 = (s.arg2 | 0);
    s.tmp_7 = r0;
    r0 = s.arg0.fields["_width"];
    s.tmp_8 = r0;
    r0 = (s.tmp_7 * s.tmp_8);
    s.tmp_6 = r0;
    r0 = (s.tmp_4 + s.tmp_6);
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getUint8(s.tmp_2, s.tmp_3);
  case 3:
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMapData_getTile__P31771.info = {"start":3997,"length":200,"line":152,"column":8,"endLine":156,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"getTile","argumentNames":["this","col","row"]}

function tiles_TileMapData_getTile__P31771_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMapData_getTile__P31771, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function tiles_TileMapData_isOutsideMap__P31777(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMapData__C31765_VT)) failedCast(r0);
    r0 = (s.arg1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_1 = r0 = s.arg1;
    r0 = s.arg0.fields["_width"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 >= s.tmp_2);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_3;
    { step = 4; continue; }
  case 3:
    r0 = (s.arg2 < 0);
  case 4:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_4;
    { step = 6; continue; }
  case 5:
    s.tmp_5 = r0 = s.arg2;
    r0 = s.arg0.fields["_height"];
    s.tmp_6 = r0;
    r0 = (s.tmp_5 >= s.tmp_6);
  case 6:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = s.tmp_7;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMapData_isOutsideMap__P31777.info = {"start":5580,"length":132,"line":199,"column":8,"endLine":201,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"isOutsideMap","argumentNames":["this","col","row"]}

function tiles_TileMapData_isOutsideMap__P31777_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMapData_isOutsideMap__P31777, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function tiles_Location_row__P31752(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_Location__C31750_VT)) failedCast(r0);
    r0 = s.arg0.fields["_row"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_Location_row__P31752.info = {"start":467,"length":51,"line":23,"column":8,"endLine":25,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"row","argumentNames":["this"]}
tiles_Location_row__P31752.isGetter = true;

function tiles_Location_row__P31752_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_Location_row__P31752, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function tiles_Location_col__P31751(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_Location__C31750_VT)) failedCast(r0);
    r0 = s.arg0.fields["_col"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_Location_col__P31751.info = {"start":406,"length":51,"line":19,"column":8,"endLine":21,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"col","argumentNames":["this"]}
tiles_Location_col__P31751.isGetter = true;

function tiles_Location_col__P31751_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_Location_col__P31751, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function tiles_TileMap_getObstacle__P31798(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.index___51639 = undefined;
    s.tile___51651 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    s.tmp_1 = tiles_TileMapData_isOutsideMap__P31777_mk(s);
    r0 = s.arg0.fields["_map"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.arg2;
    s.callLocIdx = 823; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 0;
    { step = 2; continue; }
  case 1:
    s.tmp_2 = tiles_TileMapData_getTile__P31771_mk(s);
    r0 = s.arg0.fields["_map"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.arg1;
    s.tmp_2.arg2 = s.arg2;
    s.callLocIdx = 824; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.index___51639 = (s.tmp_3);
    s.tmp_0 = tiles_TileMapData_getTileImage__P31774_mk(s);
    r0 = s.arg0.fields["_map"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.index___51639;
    s.callLocIdx = 825; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tile___51651 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(sprites_StaticObstacle__C31607_VT);
    s.tmp_0 = r0;
    s.tmp_1 = sprites_StaticObstacle_constructor__P31613_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.tile___51651;
    s.tmp_2 = r0 = s.arg2;
    r0 = s.arg0.fields["_scale"];
    s.tmp_3 = r0;
    r0 = (s.tmp_2 << s.tmp_3);
    s.tmp_1.arg2 = r0;
    s.tmp_4 = r0 = s.arg1;
    r0 = s.arg0.fields["_scale"];
    s.tmp_5 = r0;
    r0 = (s.tmp_4 << s.tmp_5);
    s.tmp_1.arg3 = r0;
    r0 = s.arg0.fields["_layer"];
    s.tmp_1.arg4 = r0;
    s.tmp_1.arg5 = s.index___51639;
    s.callLocIdx = 829; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_getObstacle__P31798.info = {"start":12642,"length":410,"line":411,"column":8,"endLine":421,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"getObstacle","argumentNames":["this","col","row"]}

function tiles_TileMap_getObstacle__P31798_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_getObstacle__P31798, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  index___51639: undefined,
  tile___51651: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function tiles_TileMap_layer__P31786(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = s.arg0.fields["_layer"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_TileMap_layer__P31786.info = {"start":6897,"length":63,"line":251,"column":8,"endLine":253,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"layer","argumentNames":["this"]}
tiles_TileMap_layer__P31786.isGetter = true;

function tiles_TileMap_layer__P31786_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_layer__P31786, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function sprites_StaticObstacle_constructor__P31613(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_StaticObstacle__C31607_VT)) failedCast(r0);
    r0 = (s.arg0).fields["image"] = (s.arg1);
    r0 = (s.arg0).fields["layer"] = (s.arg4);
    r0 = (s.arg0).fields["top"] = (s.arg2);
    r0 = (s.arg0).fields["left"] = (s.arg3);
    r0 = (s.arg0).fields["tileIndex"] = (s.arg5);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_StaticObstacle_constructor__P31613.info = {"start":563,"length":261,"line":28,"column":8,"endLine":34,"endColumn":9,"fileName":"pxt_modules/game/obstacle.ts","functionName":"inline","argumentNames":["this","image","top","left","layer","tileIndex"]}

function sprites_StaticObstacle_constructor__P31613_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_StaticObstacle_constructor__P31613, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
} }





function tiles_TileMap_isObstacle__P31797(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = s.arg0.fields["_map"];
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = false;
    { step = 5; continue; }
  case 1:
  case 2:
    s.tmp_8 = tiles_TileMapData_isOutsideMap__P31777_mk(s);
    r0 = s.arg0.fields["_map"];
    s.tmp_8.arg0 = r0;
    s.tmp_8.arg1 = s.arg1;
    s.tmp_8.arg2 = s.arg2;
    s.callLocIdx = 821; s.pc = 6; return s.tmp_8;
  case 6:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 3; continue; }
    r0 = true;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = s.arg0.fields["_map"];
    s.tmp_9 = r0;
    r0 = s.tmp_9.fields["layers"];
    s.tmp_11 = r0;
    r0 = pxsim_ImageMethods.getPixel(s.tmp_11, s.arg1, s.arg2);
    s.tmp_10 = r0;
    r0 = (s.tmp_10 === 2);
  case 5:
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_isObstacle__P31797.info = {"start":12421,"length":211,"line":404,"column":8,"endLine":409,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"isObstacle","argumentNames":["this","col","row"]}

function tiles_TileMap_isObstacle__P31797_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_isObstacle__P31797, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function tiles_TileMapData_isWall__P31776(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMapData__C31765_VT)) failedCast(r0);
    r0 = s.arg0.fields["layers"];
    s.tmp_1 = r0;
    r0 = pxsim_ImageMethods.getPixel(s.tmp_1, s.arg1, s.arg2);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 === 2);
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMapData_isWall__P31776.info = {"start":5463,"length":107,"line":195,"column":8,"endLine":197,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"isWall","argumentNames":["this","col","row"]}

function tiles_TileMapData_isWall__P31776_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMapData_isWall__P31776, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function tiles_TileMap_getTile__P31790(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = pxsim_pxtcore_mkClassInstance(tiles_Location__C31750_VT);
    s.tmp_0 = r0;
    s.tmp_1 = tiles_Location_constructor__P31753_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg1;
    s.tmp_1.arg2 = s.arg2;
    s.tmp_1.arg3 = s.arg0;
    s.callLocIdx = 797; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_getTile__P31790.info = {"start":7259,"length":111,"line":269,"column":8,"endLine":271,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"getTile","argumentNames":["this","col","row"]}

function tiles_TileMap_getTile__P31790_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_getTile__P31790, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function tiles_Location_constructor__P31753(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_Location__C31750_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_col"] = (s.arg1);
    r0 = (s.arg0).fields["_row"] = (s.arg2);
    r0 = (s.arg0).fields["tileMap"] = (s.arg3);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
tiles_Location_constructor__P31753.info = {"start":528,"length":153,"line":27,"column":8,"endLine":31,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"inline","argumentNames":["this","col","row","map"]}

function tiles_Location_constructor__P31753_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_Location_constructor__P31753, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function Sprite_registerObstacle__P31546(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.collisionHandlers___51532 = undefined;
    s.wallCollisionHandlers___51539 = undefined;
    s.wallHandlersToRun___51564 = undefined;
    s.asTileLocation___51577 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_obstacles"];
    s.tmp_0 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_0, s.arg1, s.arg2);
    s.tmp_1 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 447; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    r0 = r0.fields["collisionHandlers"];
    s.tmp_0 = r0;
    s.tmp_3 = if_tileIndex_1_mk(s);
    s.tmp_3.arg0 = s.arg2;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "tileIndex");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["tileIndex"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["tileIndex"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 448; s.pc = 10; return s.tmp_3; }
    }
  case 10:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_2);
    s.collisionHandlers___51532 = (r0);
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 449; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    r0 = r0.fields["wallCollisionHandlers"];
    s.wallCollisionHandlers___51539 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.collisionHandlers___51532);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore_mkAction(1, inline__P51547);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P51553);
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_1, 0, s.arg0);
    s.tmp_2 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_3 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_3.arg0 = s.collisionHandlers___51532;
    s.tmp_3.arg1 = s.tmp_0;
    s.callLocIdx = 451; s.pc = 13; return s.tmp_3;
  case 13:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.tmp_1;
    s.callLocIdx = 453; s.pc = 12; return s.tmp_2;
  case 12:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = pxsim_numops_toBoolDecr(s.wallCollisionHandlers___51539);
    if (!r0) { step = 7; continue; }
    s.tmp_0 = r0 = s.arg3;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    s.tmp_1 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 454; s.pc = 14; return s.tmp_1;
  case 14:
    r0 = s.retval;
    r0 = r0.fields["tileMap"];
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.arg3 = (s.tmp_2);
    r0 = pxsim_pxtcore_mkAction(1, inline__P51566);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_1.arg0 = s.wallCollisionHandlers___51539;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 456; s.pc = 15; return s.tmp_1;
  case 15:
    r0 = s.retval;
    s.wallHandlersToRun___51564 = (r0);
    r0 = pxsim_Array__length(s.wallHandlersToRun___51564);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_1 = tiles_TileMap_getTile__P31790_mk(s);
    s.tmp_1.arg0 = s.arg3;
    s.tmp_3 = if_left_1_mk(s);
    s.tmp_3.arg0 = s.arg2;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "left");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["left"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["left"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 457; s.pc = 17; return s.tmp_3; }
    }
  case 17:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = s.arg3.fields["_scale"];
    s.tmp_4 = r0;
    r0 = (s.tmp_2 >> s.tmp_4);
    s.tmp_1.arg1 = r0;
    s.tmp_6 = if_top_1_mk(s);
    s.tmp_6.arg0 = s.arg2;
    if (!s.tmp_6.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_6.arg0, "top");
    } else {
      s.tmp_6.fn = s.tmp_6.arg0.vtable.iface["top"];
      if (s.tmp_6.fn == null) { s.retval = s.tmp_6.arg0.fields["top"]; }
      else if (!s.tmp_6.fn.isGetter) { s.retval = bind(s.tmp_6); }
     else { s.callLocIdx = 459; s.pc = 18; return s.tmp_6; }
    }
  case 18:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = s.arg3.fields["_scale"];
    s.tmp_7 = r0;
    r0 = (s.tmp_5 >> s.tmp_7);
    s.tmp_1.arg2 = r0;
    s.callLocIdx = 461; s.pc = 16; return s.tmp_1;
  case 16:
    r0 = s.retval;
    s.asTileLocation___51577 = (r0);
    r0 = pxsim_pxtcore_mkAction(2, inline__P51593);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.asTileLocation___51577);
    s.tmp_1 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_1.arg0 = s.wallHandlersToRun___51564;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 463; s.pc = 19; return s.tmp_1;
  case 19:
    r0 = s.retval;
  case 5:
  case 6:
  case 7:
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_registerObstacle__P31546.info = {"start":26843,"length":965,"line":817,"column":4,"endLine":837,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"registerObstacle","argumentNames":["this","direction","other","tm"]}

function Sprite_registerObstacle__P31546_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_registerObstacle__P31546, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  collisionHandlers___51532: undefined,
  wallCollisionHandlers___51539: undefined,
  wallHandlersToRun___51564: undefined,
  asTileLocation___51577: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function inline__P51547(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["kind"];
    s.tmp_0 = r0;
    r0 = s.caps[0].fields["_kind"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 == s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P51547.info = {"start":27241,"length":26,"line":824,"column":24,"endLine":824,"endColumn":50,"fileName":"pxt_modules/game/sprite.ts","functionName":"inline","argumentNames":["h"]}

function inline__P51547_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P51547, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P51553(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = if_handler_2_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.caps[0];
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "handler"), 2);
      s.callLocIdx = 452; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["handler"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["handler"], 2); s.callLocIdx = 452; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 452; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 452; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P51553.info = {"start":27294,"length":20,"line":825,"column":25,"endLine":825,"endColumn":45,"fileName":"pxt_modules/game/sprite.ts","functionName":"inline","argumentNames":["h"]}

function inline__P51553_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P51553, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P51566(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["spriteKind"];
    s.tmp_0 = r0;
    r0 = s.caps[0].fields["_kind"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 == s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P51566.info = {"start":27500,"length":32,"line":830,"column":24,"endLine":830,"endColumn":56,"fileName":"pxt_modules/game/sprite.ts","functionName":"inline","argumentNames":["h"]}

function inline__P51566_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P51566, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P51593(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = if_handler_3_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.caps[0];
    s.tmp_0.arg2 = s.caps[1];
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "handler"), 3);
      s.callLocIdx = 462; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["handler"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["handler"], 3); s.callLocIdx = 462; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 462; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 462; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P51593.info = {"start":27740,"length":36,"line":834,"column":29,"endLine":834,"endColumn":65,"fileName":"pxt_modules/game/sprite.ts","functionName":"inline","argumentNames":["h"]}

function inline__P51593_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P51593, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Fx_min__P29588(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 < s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
    r0 = s.arg1;
    { step = 3; continue; }
  case 2:
    r0 = undefined;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
Fx_min__P29588.info = {"start":1675,"length":117,"line":50,"column":4,"endLine":55,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"min","argumentNames":["a","b"]}

function Fx_min__P29588_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_min__P29588, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Fx_iadd__P29580(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 << 8);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + s.arg1);
    return leave(s, r0)
  default: oops()
} } }
Fx_iadd__P29580.info = {"start":634,"length":110,"line":23,"column":4,"endLine":25,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"iadd","argumentNames":["a","b"]}

function Fx_iadd__P29580_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_iadd__P29580, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Fx_toIntShifted__P29578(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = r0 = s.arg0;
    r0 = (s.arg1 + 8);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 >> s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
Fx_toIntShifted__P29578.info = {"start":404,"length":102,"line":17,"column":4,"endLine":19,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"toIntShifted","argumentNames":["a","n"]}

function Fx_toIntShifted__P29578_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_toIntShifted__P29578, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function helpers_arraySome__P29532(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.len___51621 = undefined;
    s.i___51624 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array__length(s.arg0);
    s.len___51621 = (r0);
    s.i___51624 = (0);
  case 1:
    r0 = (s.i___51624 < s.len___51621);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.tmp_2 = lambda_3_mk(s);
    s.tmp_2.argL = s.arg1;
    r0 = pxsim_Array__getAt(s.arg0, s.i___51624);
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = s.i___51624;
    setupLambda(s.tmp_2, s.tmp_2.argL);
    s.callLocIdx = 5; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = true;
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___51624 + 1);
    s.i___51624 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = false;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
helpers_arraySome__P29532.info = {"start":6833,"length":296,"line":238,"column":4,"endLine":244,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arraySome","argumentNames":["arr","callbackfn"]}

function helpers_arraySome__P29532_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arraySome__P29532, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  len___51621: undefined,
  i___51624: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function tiles_TileMap_isOnWall__P31799(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.hbox___50756 = undefined;
    s.left___50759 = undefined;
    s.right___50765 = undefined;
    s.top___50771 = undefined;
    s.bottom___50777 = undefined;
    s.col___50783 = undefined;
    s.row___50789 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = s.arg1.fields["_hitbox"];
    s.hbox___50756 = (r0);
    s.tmp_1 = game_Hitbox_left__P31427_mk(s);
    s.tmp_1.arg0 = s.hbox___50756;
    s.callLocIdx = 830; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 8);
    s.tmp_3 = r0;
    r0 = (s.tmp_0 >> s.tmp_3);
    s.left___50759 = (r0);
    s.tmp_1 = game_Hitbox_right__P31429_mk(s);
    s.tmp_1.arg0 = s.hbox___50756;
    s.callLocIdx = 833; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 8);
    s.tmp_3 = r0;
    r0 = (s.tmp_0 >> s.tmp_3);
    s.right___50765 = (r0);
    s.tmp_1 = game_Hitbox_top__P31428_mk(s);
    s.tmp_1.arg0 = s.hbox___50756;
    s.callLocIdx = 836; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 8);
    s.tmp_3 = r0;
    r0 = (s.tmp_0 >> s.tmp_3);
    s.top___50771 = (r0);
    s.tmp_1 = game_Hitbox_bottom__P31430_mk(s);
    s.tmp_1.arg0 = s.hbox___50756;
    s.callLocIdx = 839; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 8);
    s.tmp_3 = r0;
    r0 = (s.tmp_0 >> s.tmp_3);
    s.bottom___50777 = (r0);
    s.col___50783 = (s.left___50759);
  case 1:
    r0 = (s.col___50783 <= s.right___50765);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.row___50789 = (s.top___50771);
  case 2:
    r0 = (s.row___50789 <= s.bottom___50777);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = tiles_TileMap_isObstacle__P31797_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.col___50783;
    s.tmp_2.arg2 = s.row___50789;
    s.callLocIdx = 842; s.pc = 12; return s.tmp_2;
  case 12:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = true;
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = (s.row___50789 + 1);
    s.row___50789 = (r0);
    { step = 2; continue; }
  case 5:
    r0 = (s.col___50783 + 1);
    s.col___50783 = (r0);
    { step = 1; continue; }
  case 6:
    r0 = false;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_isOnWall__P31799.info = {"start":13062,"length":627,"line":423,"column":8,"endLine":440,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"isOnWall","argumentNames":["this","s"]}

function tiles_TileMap_isOnWall__P31799_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_isOnWall__P31799, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  hbox___50756: undefined,
  left___50759: undefined,
  right___50765: undefined,
  top___50771: undefined,
  bottom___50777: undefined,
  col___50783: undefined,
  row___50789: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function MovingSprite_constructor__P31633(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.arg5 = (s.lambdaArgs[5]);
      s.arg6 = (s.lambdaArgs[6]);
      s.arg7 = (s.lambdaArgs[7]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, MovingSprite__C31632_VT)) failedCast(r0);
    r0 = (s.arg0).fields["sprite"] = (s.arg1);
    r0 = (s.arg0).fields["cachedVx"] = (s.arg2);
    r0 = (s.arg0).fields["cachedVy"] = (s.arg3);
    r0 = (s.arg0).fields["dx"] = (s.arg4);
    r0 = (s.arg0).fields["dy"] = (s.arg5);
    r0 = (s.arg0).fields["xStep"] = (s.arg6);
    r0 = (s.arg0).fields["yStep"] = (s.arg7);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
MovingSprite_constructor__P31633.info = {"start":678,"length":313,"line":30,"column":4,"endLine":41,"endColumn":9,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["this","sprite","cachedVx","cachedVy","dx","dy","xStep","yStep"]}

function MovingSprite_constructor__P31633_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: MovingSprite_constructor__P31633, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
  arg5: undefined,
  arg6: undefined,
  arg7: undefined,
} }





function ArcadePhysicsEngine_move__P31646(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.dtf___51711 = undefined;
    s.dtSec___51718 = undefined;
    s.dt2___51722 = undefined;
    s.scene___51726 = undefined;
    s.tileMap___51729 = undefined;
    s.movingSprites___51732 = undefined;
    s.MAX_STEP_COUNT___51763 = undefined;
    s.overlapHandlers___51774 = undefined;
    s.selected___51781 = undefined;
    s.buffers___51782 = undefined;
    s.count___51786 = undefined;
    s.currMovers___51796 = undefined;
    s.remainingMovers___51803 = undefined;
    s.ms___51808 = undefined;
    s.unnamed492___U14 = undefined;
    s.unnamed493___U15 = undefined;
    s.s___51810 = undefined;
    s.stepX___51903 = undefined;
    s.stepY___51917 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    s.tmp_0 = Fx_min__P29588_mk(s);
    s.tmp_0.arg0 = globals.MAX_TIME_STEP___31629;
    r0 = (s.arg1 * 1000);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 * 256);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 | 0);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 547; s.pc = 47; return s.tmp_0;
  case 47:
    r0 = s.retval;
    s.dtf___51711 = (r0);
    r0 = pxsim.Math_.idiv(s.dtf___51711, 1000);
    s.dtSec___51718 = (r0);
    r0 = pxsim.Math_.idiv(s.dtf___51711, 2);
    s.dt2___51722 = (r0);
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 550; s.pc = 48; return s.tmp_0;
  case 48:
    r0 = s.retval;
    s.scene___51726 = (r0);
    r0 = s.scene___51726.fields["tileMap"];
    s.tileMap___51729 = (r0);
    r0 = pxsim_pxtcore_mkAction(3, inline__P51734);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.dtSec___51718);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.dt2___51722);
    s.tmp_1 = helpers_arrayMap__P29531_mk(s);
    r0 = s.arg0.fields["sprites"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 552; s.pc = 49; return s.tmp_1;
  case 49:
    r0 = s.retval;
    s.movingSprites___51732 = (r0);
    s.tmp_0 = helpers_arrayForEach__P29534_mk(s);
    r0 = s.arg0.fields["sprites"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = inline__P51746;
    s.callLocIdx = 556; s.pc = 50; return s.tmp_0;
  case 50:
    r0 = s.retval;
    s.tmp_0 = sprites_SpriteMap_clear__P31561_mk(s);
    r0 = s.arg0.fields["map"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 557; s.pc = 51; return s.tmp_0;
  case 51:
    r0 = s.retval;
    s.tmp_0 = sprites_SpriteMap_resizeBuckets__P31560_mk(s);
    r0 = s.arg0.fields["map"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["sprites"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 558; s.pc = 52; return s.tmp_0;
  case 52:
    r0 = s.retval;
    r0 = s.arg0.fields["maxVelocity"];
    s.tmp_2 = r0;
    r0 = s.arg0.fields["minSingleStep"];
    s.tmp_3 = r0;
    r0 = (s.tmp_2 << 8);
    s.tmp_4 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_4, s.tmp_3);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.imul(s.tmp_1, s.dtSec___51718);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >> 8);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 128);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >> 8);
    s.MAX_STEP_COUNT___51763 = (r0);
    s.tmp_0 = helpers_arraySlice__P29539_mk(s);
    r0 = s.scene___51726.fields["overlapHandlers"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = undefined;
    s.tmp_0.arg2 = undefined;
    s.callLocIdx = 562; s.pc = 53; return s.tmp_0;
  case 53:
    r0 = s.retval;
    s.overlapHandlers___51774 = (r0);
    s.selected___51781 = (0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.movingSprites___51732);
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    s.buffers___51782 = (s.tmp_0);
    s.count___51786 = (0);
  case 1:
    r0 = (s.count___51786 < s.MAX_STEP_COUNT___51763);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = pxsim_Array__getAt(s.buffers___51782, s.selected___51781);
    s.tmp_2 = r0;
    r0 = pxsim_Array__length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== 0);
  case 3:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 46; continue; }
    r0 = pxsim_Array__getAt(s.buffers___51782, s.selected___51781);
    s.currMovers___51796 = (r0);
    r0 = (s.selected___51781 ^ 1);
    s.selected___51781 = (r0);
    r0 = pxsim_Array__getAt(s.buffers___51782, s.selected___51781);
    s.remainingMovers___51803 = (r0);
    s.ms___51808 = (undefined);
    s.unnamed492___U14 = (s.currMovers___51796);
    s.unnamed493___U15 = (0);
  case 4:
    s.tmp_0 = r0 = s.unnamed493___U15;
    r0 = pxsim_Array__length(s.unnamed492___U14);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 43; continue; }
    r0 = pxsim_Array__getAt(s.unnamed492___U14, s.unnamed493___U15);
    s.ms___51808 = (r0);
    r0 = s.ms___51808.fields["sprite"];
    s.s___51810 = (r0);
    r0 = s.ms___51808.fields["cachedVx"];
    s.tmp_1 = r0;
    r0 = s.s___51810.fields["_vx"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 !== s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = s.s___51810.fields["_vx"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == 0);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 5; continue; }
    r0 = (s.ms___51808).fields["dx"] = (0);
    { step = 14; continue; }
  case 5:
    r0 = s.s___51810.fields["_vx"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 6:
    r0 = s.ms___51808.fields["cachedVx"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 0);
  case 7:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 8; continue; }
    r0 = s.tmp_3;
    { step = 11; continue; }
  case 8:
    r0 = s.s___51810.fields["_vx"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 > 0);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 9; continue; }
    r0 = s.tmp_4;
    { step = 10; continue; }
  case 9:
    r0 = s.ms___51808.fields["cachedVx"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 < 0);
  case 10:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = s.tmp_7;
  case 11:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 12; continue; }
    s.tmp_9 = r0 = s.ms___51808;
    r0 = s.ms___51808.fields["dx"];
    s.tmp_11 = r0;
    r0 = (0 - s.tmp_11);
    s.tmp_10 = r0;
    r0 = (s.tmp_9).fields["dx"] = (s.tmp_10);
    s.tmp_0 = r0 = s.ms___51808;
    r0 = s.ms___51808.fields["xStep"];
    s.tmp_2 = r0;
    r0 = (0 - s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["xStep"] = (s.tmp_1);
  case 12:
  case 13:
  case 14:
    r0 = s.s___51810.fields["_vx"];
    s.tmp_0 = r0;
    r0 = (s.ms___51808).fields["cachedVx"] = (s.tmp_0);
  case 15:
  case 16:
    r0 = s.ms___51808.fields["cachedVy"];
    s.tmp_1 = r0;
    r0 = s.s___51810.fields["_vy"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 !== s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 27; continue; }
    r0 = s.s___51810.fields["_vy"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 == 0);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 17; continue; }
    r0 = (s.ms___51808).fields["dy"] = (0);
    { step = 26; continue; }
  case 17:
    r0 = s.s___51810.fields["_vy"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 18; continue; }
    r0 = s.tmp_0;
    { step = 19; continue; }
  case 18:
    r0 = s.ms___51808.fields["cachedVy"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 > 0);
  case 19:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 20; continue; }
    r0 = s.tmp_3;
    { step = 23; continue; }
  case 20:
    r0 = s.s___51810.fields["_vy"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 > 0);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 21; continue; }
    r0 = s.tmp_4;
    { step = 22; continue; }
  case 21:
    r0 = s.ms___51808.fields["cachedVy"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 < 0);
  case 22:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = s.tmp_7;
  case 23:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 24; continue; }
    s.tmp_9 = r0 = s.ms___51808;
    r0 = s.ms___51808.fields["dy"];
    s.tmp_11 = r0;
    r0 = (0 - s.tmp_11);
    s.tmp_10 = r0;
    r0 = (s.tmp_9).fields["dy"] = (s.tmp_10);
    s.tmp_0 = r0 = s.ms___51808;
    r0 = s.ms___51808.fields["yStep"];
    s.tmp_2 = r0;
    r0 = (0 - s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["yStep"] = (s.tmp_1);
  case 24:
  case 25:
  case 26:
    r0 = s.s___51810.fields["_vy"];
    s.tmp_0 = r0;
    r0 = (s.ms___51808).fields["cachedVy"] = (s.tmp_0);
  case 27:
  case 28:
    s.tmp_2 = Fx_abs__P29587_mk(s);
    r0 = s.ms___51808.fields["xStep"];
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 567; s.pc = 54; return s.tmp_2;
  case 54:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_4 = Fx_abs__P29587_mk(s);
    r0 = s.ms___51808.fields["dx"];
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 568; s.pc = 55; return s.tmp_4;
  case 55:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_1 > s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 29; continue; }
    r0 = s.ms___51808.fields["dx"];
    { step = 30; continue; }
  case 29:
    r0 = s.ms___51808.fields["xStep"];
  case 30:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    s.stepX___51903 = (s.tmp_5);
    s.tmp_2 = Fx_abs__P29587_mk(s);
    r0 = s.ms___51808.fields["yStep"];
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 569; s.pc = 56; return s.tmp_2;
  case 56:
    r0 = s.retval;
    s.tmp_1 = r0;
    s.tmp_4 = Fx_abs__P29587_mk(s);
    r0 = s.ms___51808.fields["dy"];
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 570; s.pc = 57; return s.tmp_4;
  case 57:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_1 > s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 31; continue; }
    r0 = s.ms___51808.fields["dy"];
    { step = 32; continue; }
  case 31:
    r0 = s.ms___51808.fields["yStep"];
  case 32:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    s.stepY___51917 = (s.tmp_5);
    s.tmp_0 = r0 = s.ms___51808;
    r0 = s.ms___51808.fields["dx"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - s.stepX___51903);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["dx"] = (s.tmp_1);
    s.tmp_0 = r0 = s.ms___51808;
    r0 = s.ms___51808.fields["dy"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - s.stepY___51917);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["dy"] = (s.tmp_1);
    r0 = s.s___51810.fields["_x"];
    s.tmp_0 = r0;
    r0 = (s.s___51810).fields["_lastX"] = (s.tmp_0);
    r0 = s.s___51810.fields["_y"];
    s.tmp_0 = r0;
    r0 = (s.s___51810).fields["_lastY"] = (s.tmp_0);
    s.tmp_0 = r0 = s.s___51810;
    r0 = s.s___51810.fields["_x"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.stepX___51903);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_x"] = (s.tmp_1);
    s.tmp_0 = r0 = s.s___51810;
    r0 = s.s___51810.fields["_y"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.stepY___51917);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_y"] = (s.tmp_1);
    r0 = s.s___51810.fields["flags"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & 515);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 37; continue; }
    s.tmp_4 = sprites_SpriteMap_insertAABB__P31562_mk(s);
    r0 = s.arg0.fields["map"];
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = s.s___51810;
    s.callLocIdx = 575; s.pc = 58; return s.tmp_4;
  case 58:
    r0 = s.retval;
    s.tmp_0 = r0 = s.tileMap___51729;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 33; continue; }
    r0 = s.tmp_0;
    { step = 34; continue; }
  case 33:
    r0 = s.tileMap___51729.fields["_map"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
  case 34:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 35; continue; }
    s.tmp_6 = ArcadePhysicsEngine_tilemapCollisions__P34545_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.tmp_6.arg1 = s.ms___51808;
    s.tmp_6.arg2 = s.tileMap___51729;
    s.callLocIdx = 577; s.pc = 59; return s.tmp_6;
  case 59:
    r0 = s.retval;
  case 35:
  case 36:
  case 37:
  case 38:
    s.tmp_2 = Fx_abs__P29587_mk(s);
    r0 = s.ms___51808.fields["dx"];
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 578; s.pc = 60; return s.tmp_2;
  case 60:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > globals.MIN_MOVE_GAP___31631);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 39; continue; }
    r0 = s.tmp_0;
    { step = 40; continue; }
  case 39:
    s.tmp_4 = Fx_abs__P29587_mk(s);
    r0 = s.ms___51808.fields["dy"];
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 579; s.pc = 61; return s.tmp_4;
  case 61:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_3 > globals.MIN_MOVE_GAP___31631);
  case 40:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 41; continue; }
    r0 = pxsim_Array__push(s.remainingMovers___51803, s.ms___51808);
  case 41:
  case 42:
    r0 = (s.unnamed493___U15 + 1);
    s.unnamed493___U15 = (r0);
    { step = 4; continue; }
  case 43:
    s.unnamed492___U14 = (undefined);
    s.tmp_0 = ArcadePhysicsEngine_spriteCollisions__P34544_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.currMovers___51796;
    s.tmp_0.arg2 = s.overlapHandlers___51774;
    s.callLocIdx = 580; s.pc = 62; return s.tmp_0;
  case 62:
    r0 = s.retval;
  case 44:
    r0 = pxsim_Array__length(s.currMovers___51796);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 45; continue; }
    r0 = pxsim_Array_.pop(s.currMovers___51796);
    { step = 44; continue; }
  case 45:
    r0 = (s.count___51786 + 1);
    s.count___51786 = (r0);
    { step = 1; continue; }
  case 46:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_move__P31646.info = {"start":2551,"length":3932,"line":109,"column":4,"endLine":209,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"move","argumentNames":["this","dt"]}

function ArcadePhysicsEngine_move__P31646_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_move__P31646, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  dtf___51711: undefined,
  dtSec___51718: undefined,
  dt2___51722: undefined,
  scene___51726: undefined,
  tileMap___51729: undefined,
  movingSprites___51732: undefined,
  MAX_STEP_COUNT___51763: undefined,
  overlapHandlers___51774: undefined,
  selected___51781: undefined,
  buffers___51782: undefined,
  count___51786: undefined,
  currMovers___51796: undefined,
  remainingMovers___51803: undefined,
  ms___51808: undefined,
  unnamed492___U14: undefined,
  unnamed493___U15: undefined,
  s___51810: undefined,
  stepX___51903: undefined,
  stepY___51917: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P51734(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = ArcadePhysicsEngine_createMovingSprite__P34543_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = s.caps[1];
    s.tmp_0.arg3 = s.caps[2];
    s.callLocIdx = 551; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P51734.info = {"start":2985,"length":53,"line":122,"column":17,"endLine":122,"endColumn":70,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["sprite"]}

function inline__P51734_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P51734, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function inline__P51746(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = Sprite_vx__P31490_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 553; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_2 = Sprite_vy__P31492_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 554; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    s.tmp_4 = Sprite_clearObstacles__P31545_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.callLocIdx = 555; s.pc = 7; return s.tmp_4;
  case 7:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P51746.info = {"start":3121,"length":66,"line":125,"column":29,"endLine":127,"endColumn":9,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["s"]}

function inline__P51746_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P51746, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function ArcadePhysicsEngine_spriteCollisions__P34544(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ms___52018 = undefined;
    s.unnamed494___U1 = undefined;
    s.unnamed495___U2 = undefined;
    s.sprite___52020 = undefined;
    s.overSprites___52027 = undefined;
    s.overlapper___52035 = undefined;
    s.unnamed496___U6 = undefined;
    s.unnamed497___U7 = undefined;
    s.thisKind___52041 = undefined;
    s.otherKind___52045 = undefined;
    s.higher___52058 = undefined;
    s.lower___52067 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    r0 = pxsim_Array__length(s.arg2);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 21; continue; }
  case 1:
  case 2:
    s.ms___52018 = (undefined);
    s.unnamed494___U1 = (s.arg1);
    s.unnamed495___U2 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed495___U2;
    r0 = pxsim_Array__length(s.unnamed494___U1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 20; continue; }
    r0 = pxsim_Array__getAt(s.unnamed494___U1, s.unnamed495___U2);
    s.ms___52018 = (r0);
    r0 = s.ms___52018.fields["sprite"];
    s.sprite___52020 = (r0);
    r0 = s.sprite___52020.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 515);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    { step = 19; continue; }
  case 4:
  case 5:
    s.tmp_2 = sprites_SpriteMap_overlaps__P31558_mk(s);
    r0 = s.arg0.fields["map"];
    s.tmp_2.arg0 = r0;
    r0 = s.ms___52018.fields["sprite"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 614; s.pc = 22; return s.tmp_2;
  case 22:
    r0 = s.retval;
    s.overSprites___52027 = (r0);
    s.overlapper___52035 = (undefined);
    s.unnamed496___U6 = (s.overSprites___52027);
    s.unnamed497___U7 = (0);
  case 6:
    s.tmp_0 = r0 = s.unnamed497___U7;
    r0 = pxsim_Array__length(s.unnamed496___U6);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 18; continue; }
    r0 = pxsim_Array__getAt(s.unnamed496___U6, s.unnamed497___U7);
    s.overlapper___52035 = (r0);
    r0 = s.overlapper___52035.fields["flags"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & 515);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 7; continue; }
    { step = 17; continue; }
  case 7:
  case 8:
    r0 = s.sprite___52020.fields["_kind"];
    s.thisKind___52041 = (r0);
    r0 = s.overlapper___52035.fields["_kind"];
    s.otherKind___52045 = (r0);
    r0 = s.sprite___52020.fields["_kindsOverlappedWith"];
    s.tmp_2 = r0;
    r0 = pxsim_Array_.indexOf(s.tmp_2, s.otherKind___52045, undefined);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === -1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    { step = 17; continue; }
  case 9:
  case 10:
    r0 = s.sprite___52020.fields["id"];
    s.tmp_4 = r0;
    r0 = s.overlapper___52035.fields["id"];
    s.tmp_5 = r0;
    r0 = (s.tmp_4 > s.tmp_5);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 11; continue; }
    r0 = s.sprite___52020;
    { step = 12; continue; }
  case 11:
    r0 = s.overlapper___52035;
  case 12:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    s.higher___52058 = (s.tmp_6);
    r0 = (s.higher___52058 === s.sprite___52020);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 13; continue; }
    r0 = s.overlapper___52035;
    { step = 14; continue; }
  case 13:
    r0 = s.sprite___52020;
  case 14:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.lower___52067 = (s.tmp_1);
    r0 = s.higher___52058.fields["_overlappers"];
    s.tmp_2 = r0;
    r0 = s.lower___52067.fields["id"];
    s.tmp_3 = r0;
    r0 = pxsim_Array_.indexOf(s.tmp_2, s.tmp_3, undefined);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === -1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = pxsim_pxtcore_mkAction(2, inline__P52087);
    s.tmp_4 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_4, 0, s.thisKind___52041);
    r0 = pxsim_pxtrt_stclo(s.tmp_4, 1, s.otherKind___52045);
    r0 = pxsim_pxtcore_mkAction(5, inline__P52111);
    s.tmp_5 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_5, 0, s.higher___52058);
    r0 = pxsim_pxtrt_stclo(s.tmp_5, 1, s.lower___52067);
    r0 = pxsim_pxtrt_stclo(s.tmp_5, 2, s.sprite___52020);
    r0 = pxsim_pxtrt_stclo(s.tmp_5, 3, s.overlapper___52035);
    r0 = pxsim_pxtrt_stclo(s.tmp_5, 4, s.thisKind___52041);
    s.tmp_6 = helpers_arrayForEach__P29534_mk(s);
    s.tmp_7 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_7.arg0 = s.arg2;
    s.tmp_7.arg1 = s.tmp_4;
    s.callLocIdx = 617; s.pc = 24; return s.tmp_7;
  case 24:
    r0 = s.retval;
    s.tmp_6.arg0 = r0;
    s.tmp_6.arg1 = s.tmp_5;
    s.callLocIdx = 619; s.pc = 23; return s.tmp_6;
  case 23:
    r0 = s.retval;
  case 15:
  case 16:
  case 17:
    r0 = (s.unnamed497___U7 + 1);
    s.unnamed497___U7 = (r0);
    { step = 6; continue; }
  case 18:
    s.unnamed496___U6 = (undefined);
  case 19:
    r0 = (s.unnamed495___U2 + 1);
    s.unnamed495___U2 = (r0);
    { step = 3; continue; }
  case 20:
    s.unnamed494___U1 = (undefined);
  case 21:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_spriteCollisions__P34544.info = {"start":9157,"length":2254,"line":304,"column":4,"endLine":348,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"spriteCollisions","argumentNames":["this","movedSprites","handlers"]}

function ArcadePhysicsEngine_spriteCollisions__P34544_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_spriteCollisions__P34544, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  ms___52018: undefined,
  unnamed494___U1: undefined,
  unnamed495___U2: undefined,
  sprite___52020: undefined,
  overSprites___52027: undefined,
  overlapper___52035: undefined,
  unnamed496___U6: undefined,
  unnamed497___U7: undefined,
  thisKind___52041: undefined,
  otherKind___52045: undefined,
  higher___52058: undefined,
  lower___52067: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P52087(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["kind"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 === s.caps[0]);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["otherKind"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 === s.caps[1]);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBool(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_3;
    { step = 6; continue; }
  case 3:
    r0 = s.arg0.fields["kind"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 === s.caps[1]);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBool(s.tmp_4);
    if (r0) { step = 4; continue; }
    r0 = s.tmp_4;
    { step = 5; continue; }
  case 4:
    r0 = s.arg0.fields["otherKind"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 === s.caps[0]);
  case 5:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = s.tmp_7;
  case 6:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = s.tmp_8;
    return leave(s, r0)
  default: oops()
} } }
inline__P52087.info = {"start":10516,"length":137,"line":330,"column":32,"endLine":331,"endColumn":81,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["h"]}

function inline__P52087_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P52087, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  arg0: undefined,
} }





function inline__P52111(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.caps[0].fields["_overlappers"];
    s.tmp_0 = r0;
    r0 = s.caps[1].fields["id"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = pxsim_pxtcore_mkAction(6, inline__P52121);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.caps[2]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 1, s.caps[3]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 2, s.arg0);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 3, s.caps[4]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 4, s.caps[0]);
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 5, s.caps[1]);
    r0 = pxsim.control.runInParallel(s.tmp_0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P52111.info = {"start":10713,"length":648,"line":333,"column":33,"endLine":344,"endColumn":25,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":["h"]}

function inline__P52111_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P52111, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P52121(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["flags"];
    s.tmp_4 = r0;
    r0 = s.caps[1].fields["flags"];
    s.tmp_5 = r0;
    r0 = (s.tmp_4 | s.tmp_5);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & 515);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.caps[2].fields["kind"];
    s.tmp_7 = r0;
    r0 = (s.caps[3] === s.tmp_7);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 1; continue; }
    r0 = s.caps[0];
    { step = 2; continue; }
  case 1:
    r0 = s.caps[1];
  case 2:
    // jmp value (already in r0)
    s.tmp_8 = r0;
    r0 = s.caps[2].fields["kind"];
    s.tmp_10 = r0;
    r0 = (s.caps[3] === s.tmp_10);
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    if (!r0) { step = 3; continue; }
    r0 = s.caps[1];
    { step = 4; continue; }
  case 3:
    r0 = s.caps[0];
  case 4:
    // jmp value (already in r0)
    s.tmp_11 = r0;
    s.tmp_12 = if_handler_3_mk(s);
    s.tmp_12.arg0 = s.caps[2];
    s.tmp_12.arg1 = s.tmp_8;
    s.tmp_12.arg2 = s.tmp_11;
    if (!s.tmp_12.arg0.vtable.iface) {
      setupLambda(s.tmp_12, pxsim_pxtrt.mapGetByString(s.tmp_12.arg0, "handler"), 3);
      s.callLocIdx = 618; s.pc = 7; return s.tmp_12;
    } else {
      s.tmp_12.fn = s.tmp_12.arg0.vtable.iface["handler"];
      if (s.tmp_12.fn == null) { setupLambda(s.tmp_12, s.tmp_12.arg0.fields["handler"], 3); s.callLocIdx = 618; s.pc = 7; return s.tmp_12; }
      else if (s.tmp_12.fn.isGetter) { s.tmp_12.stage2Call = true; s.callLocIdx = 618; s.pc = 7; return s.tmp_12;; }
     else { s.callLocIdx = 618; s.pc = 7; return s.tmp_12; }
    }
  case 7:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = s.caps[4].fields["_overlappers"];
    s.tmp_0 = r0;
    r0 = s.caps[5].fields["id"];
    s.tmp_1 = r0;
    r0 = pxsim_Array_.removeElement(s.tmp_0, s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P52121.info = {"start":10834,"length":499,"line":335,"column":50,"endLine":343,"endColumn":29,"fileName":"pxt_modules/game/physics.ts","functionName":"inline","argumentNames":[]}

function inline__P52121_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P52121, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
} }





function sprites_SpriteMap_overlaps__P31558(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.n___52155 = undefined;
    s.o___52159 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteMap__C31555_VT)) failedCast(r0);
    s.tmp_0 = sprites_SpriteMap_neighbors__P31557_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 493; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.n___52155 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P52161);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg1);
    s.tmp_1 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_1.arg0 = s.n___52155;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 495; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.o___52159 = (r0);
    r0 = s.o___52159;
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteMap_overlaps__P31558.info = {"start":923,"length":189,"line":30,"column":8,"endLine":34,"endColumn":9,"fileName":"pxt_modules/game/spritemap.ts","functionName":"overlaps","argumentNames":["this","sprite"]}

function sprites_SpriteMap_overlaps__P31558_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteMap_overlaps__P31558, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  n___52155: undefined,
  o___52159: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P52161(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Sprite_overlapsWith__P31541_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 494; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
inline__P52161.info = {"start":1037,"length":41,"line":32,"column":31,"endLine":32,"endColumn":72,"fileName":"pxt_modules/game/spritemap.ts","functionName":"inline","argumentNames":["neighbor"]}

function inline__P52161_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P52161, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function sprites_SpriteMap_neighbors__P31557(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.n___52203 = undefined;
    s.layer___52205 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteMap__C31555_VT)) failedCast(r0);
    r0 = pxsim_Array__mk();
    s.n___52203 = (r0);
    r0 = s.arg1.fields["layer"];
    s.layer___52205 = (r0);
    s.tmp_0 = sprites_SpriteMap_mergeAtKey__P34522_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = Sprite_left__P31523_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 481; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_2 = Sprite_top__P31527_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 482; s.pc = 3; return s.tmp_2;
  case 3:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = s.layer___52205;
    s.tmp_0.arg4 = s.n___52203;
    s.callLocIdx = 483; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = sprites_SpriteMap_mergeAtKey__P34522_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = Sprite_left__P31523_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 484; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_2 = Sprite_bottom__P31529_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 485; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = s.layer___52205;
    s.tmp_0.arg4 = s.n___52203;
    s.callLocIdx = 486; s.pc = 4; return s.tmp_0;
  case 4:
    r0 = s.retval;
    s.tmp_0 = sprites_SpriteMap_mergeAtKey__P34522_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = Sprite_right__P31525_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 487; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_2 = Sprite_top__P31527_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 488; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = s.layer___52205;
    s.tmp_0.arg4 = s.n___52203;
    s.callLocIdx = 489; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
    s.tmp_0 = sprites_SpriteMap_mergeAtKey__P34522_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = Sprite_right__P31525_mk(s);
    s.tmp_1.arg0 = s.arg1;
    s.callLocIdx = 490; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.tmp_2 = Sprite_bottom__P31529_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 491; s.pc = 12; return s.tmp_2;
  case 12:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    s.tmp_0.arg3 = s.layer___52205;
    s.tmp_0.arg4 = s.n___52203;
    s.callLocIdx = 492; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    r0 = pxsim_Array_.removeElement(s.n___52203, s.arg1);
    r0 = s.n___52203;
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteMap_neighbors__P31557.info = {"start":376,"length":442,"line":15,"column":8,"endLine":24,"endColumn":9,"fileName":"pxt_modules/game/spritemap.ts","functionName":"neighbors","argumentNames":["this","sprite"]}

function sprites_SpriteMap_neighbors__P31557_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteMap_neighbors__P31557, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  n___52203: undefined,
  layer___52205: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_SpriteMap_mergeAtKey__P34522(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.k___52258 = undefined;
    s.bucket___52263 = undefined;
    s.sprite___52270 = undefined;
    s.unnamed490___U3 = undefined;
    s.unnamed491___U4 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteMap__C31555_VT)) failedCast(r0);
    s.tmp_0 = sprites_SpriteMap_key__P34520_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 519; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.k___52258 = (r0);
    r0 = s.arg0.fields["buckets"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.k___52258);
    s.bucket___52263 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.bucket___52263);
    if (!r0) { step = 7; continue; }
    s.sprite___52270 = (undefined);
    s.unnamed490___U3 = (s.bucket___52263);
    s.unnamed491___U4 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed491___U4;
    r0 = pxsim_Array__length(s.unnamed490___U3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed490___U3, s.unnamed491___U4);
    s.sprite___52270 = (r0);
    r0 = s.sprite___52270.fields["layer"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & s.arg3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_2;
    { step = 3; continue; }
  case 2:
    r0 = pxsim_Array_.indexOf(s.arg4, s.sprite___52270, undefined);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 < 0);
  case 3:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__push(s.arg4, s.sprite___52270);
  case 4:
  case 5:
    r0 = (s.unnamed491___U4 + 1);
    s.unnamed491___U4 = (r0);
    { step = 1; continue; }
  case 6:
    s.unnamed490___U3 = (undefined);
  case 7:
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteMap_mergeAtKey__P34522.info = {"start":3715,"length":384,"line":101,"column":8,"endLine":110,"endColumn":9,"fileName":"pxt_modules/game/spritemap.ts","functionName":"mergeAtKey","argumentNames":["this","x","y","layer","n"]}

function sprites_SpriteMap_mergeAtKey__P34522_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteMap_mergeAtKey__P34522, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  k___52258: undefined,
  bucket___52263: undefined,
  sprite___52270: undefined,
  unnamed490___U3: undefined,
  unnamed491___U4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function sprites_SpriteMap_key__P34520(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.xi___52291 = undefined;
    s.yi___52303 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteMap__C31555_VT)) failedCast(r0);
    s.tmp_0 = Math_clamp__P29549_mk(s);
    s.tmp_0.arg0 = 0;
    r0 = s.arg0.fields["columnCount"];
    s.tmp_0.arg1 = r0;
    r0 = s.arg0.fields["cellWidth"];
    s.tmp_1 = r0;
    r0 = pxsim.Math_.idiv(s.arg1, s.tmp_1);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 507; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.xi___52291 = (r0);
    s.tmp_0 = Math_clamp__P29549_mk(s);
    s.tmp_0.arg0 = 0;
    r0 = s.arg0.fields["rowCount"];
    s.tmp_0.arg1 = r0;
    r0 = s.arg0.fields["cellHeight"];
    s.tmp_1 = r0;
    r0 = pxsim.Math_.idiv(s.arg2, s.tmp_1);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 508; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    s.yi___52303 = (r0);
    s.tmp_0 = r0 = s.xi___52291;
    r0 = s.arg0.fields["columnCount"];
    s.tmp_2 = r0;
    r0 = (s.yi___52303 * s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteMap_key__P34520.info = {"start":2592,"length":270,"line":76,"column":8,"endLine":80,"endColumn":9,"fileName":"pxt_modules/game/spritemap.ts","functionName":"key","argumentNames":["this","x","y"]}

function sprites_SpriteMap_key__P34520_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteMap_key__P34520, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  xi___52291: undefined,
  yi___52303: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Sprite_bottom__P31529(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_1 = Sprite_top__P31527_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 373; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_0 + s.tmp_2);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_bottom__P31529.info = {"start":10083,"length":59,"line":369,"column":4,"endLine":371,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"bottom","argumentNames":["this"]}
Sprite_bottom__P31529.isGetter = true;

function Sprite_bottom__P31529_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_bottom__P31529, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function Sprite_height__P31522(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_image"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_height__P31522.info = {"start":8639,"length":54,"line":314,"column":4,"endLine":316,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"height","argumentNames":["this"]}
Sprite_height__P31522.isGetter = true;

function Sprite_height__P31522_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_height__P31522, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Sprite_right__P31525(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_1 = Sprite_left__P31523_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 365; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_0 + s.tmp_2);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_right__P31525.info = {"start":9279,"length":57,"line":339,"column":4,"endLine":341,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"right","argumentNames":["this"]}
Sprite_right__P31525.isGetter = true;

function Sprite_right__P31525_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_right__P31525, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function Sprite_overlapsWith__P31541(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = (s.arg1 == s.arg0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = false;
    { step = 7; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["flags"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 513);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = false;
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = s.arg1.fields["flags"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 & 513);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 5; continue; }
    r0 = false;
    { step = 7; continue; }
  case 5:
  case 6:
    r0 = s.arg1.fields["_image"];
    s.tmp_5 = r0;
    r0 = s.arg0.fields["_image"];
    s.tmp_6 = r0;
    s.tmp_9 = Sprite_left__P31523_mk(s);
    s.tmp_9.arg0 = s.arg0;
    s.callLocIdx = 443; s.pc = 8; return s.tmp_9;
  case 8:
    r0 = s.retval;
    s.tmp_8 = r0;
    s.tmp_11 = Sprite_left__P31523_mk(s);
    s.tmp_11.arg0 = s.arg1;
    s.callLocIdx = 444; s.pc = 9; return s.tmp_11;
  case 9:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = (s.tmp_8 - s.tmp_10);
    s.tmp_7 = r0;
    s.tmp_14 = Sprite_top__P31527_mk(s);
    s.tmp_14.arg0 = s.arg0;
    s.callLocIdx = 445; s.pc = 10; return s.tmp_14;
  case 10:
    r0 = s.retval;
    s.tmp_13 = r0;
    s.tmp_16 = Sprite_top__P31527_mk(s);
    s.tmp_16.arg0 = s.arg1;
    s.callLocIdx = 446; s.pc = 11; return s.tmp_16;
  case 11:
    r0 = s.retval;
    s.tmp_15 = r0;
    r0 = (s.tmp_13 - s.tmp_15);
    s.tmp_12 = r0;
    r0 = pxsim_ImageMethods.overlapsWith(s.tmp_5, s.tmp_6, s.tmp_7, s.tmp_12);
  case 7:
    return leave(s, r0)
  default: oops()
} } }
Sprite_overlapsWith__P31541.info = {"start":24387,"length":434,"line":748,"column":4,"endLine":756,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"overlapsWith","argumentNames":["this","other"]}

function Sprite_overlapsWith__P31541_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_overlapsWith__P31541, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function ArcadePhysicsEngine_createMovingSprite__P34543(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ovx___52505 = undefined;
    s.ovy___52510 = undefined;
    s.fx___52536 = undefined;
    s.c___52542 = undefined;
    s.fy___52584 = undefined;
    s.c___52590 = undefined;
    s.dx___52629 = undefined;
    s.dy___52638 = undefined;
    s.xStep___52647 = undefined;
    s.yStep___52649 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    s.tmp_0 = ArcadePhysicsEngine_constrain__P34548_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = s.arg1.fields["_vx"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 581; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    s.ovx___52505 = (r0);
    s.tmp_0 = ArcadePhysicsEngine_constrain__P34548_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = s.arg1.fields["_vy"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 582; s.pc = 26; return s.tmp_0;
  case 26:
    r0 = s.retval;
    s.ovy___52510 = (r0);
    r0 = s.arg1.fields["_x"];
    s.tmp_0 = r0;
    r0 = (s.arg1).fields["_lastX"] = (s.tmp_0);
    r0 = s.arg1.fields["_y"];
    s.tmp_0 = r0;
    r0 = (s.arg1).fields["_lastY"] = (s.tmp_0);
    r0 = s.arg1.fields["_ax"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = r0 = s.arg1;
    r0 = s.arg1.fields["_vx"];
    s.tmp_3 = r0;
    r0 = s.arg1.fields["_ax"];
    s.tmp_5 = r0;
    r0 = pxsim.Math_.imul(s.tmp_5, s.arg2);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >> 8);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 + s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_vx"] = (s.tmp_2);
    { step = 8; continue; }
  case 1:
    r0 = s.arg1.fields["_fx"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    r0 = s.arg1.fields["_fx"];
    s.tmp_1 = r0;
    r0 = pxsim.Math_.imul(s.tmp_1, s.arg2);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 8);
    s.fx___52536 = (r0);
    r0 = s.arg1.fields["_vx"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.fx___52536);
    s.c___52542 = (r0);
    r0 = (s.c___52542 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.arg1;
    s.tmp_3 = Fx_min__P29588_mk(s);
    s.tmp_3.arg0 = 0;
    r0 = s.arg1.fields["_vx"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + s.fx___52536);
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 588; s.pc = 27; return s.tmp_3;
  case 27:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_vx"] = (s.tmp_2);
    { step = 5; continue; }
  case 2:
    r0 = (s.c___52542 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = r0 = s.arg1;
    s.tmp_3 = Fx_max__P29589_mk(s);
    s.tmp_3.arg0 = 0;
    r0 = s.arg1.fields["_vx"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - s.fx___52536);
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 590; s.pc = 28; return s.tmp_3;
  case 28:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_vx"] = (s.tmp_2);
    { step = 4; continue; }
  case 3:
    r0 = (s.arg1).fields["_vx"] = (0);
  case 4:
  case 5:
  case 6:
  case 7:
  case 8:
    r0 = s.arg1.fields["_ay"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 9; continue; }
    s.tmp_1 = r0 = s.arg1;
    r0 = s.arg1.fields["_vy"];
    s.tmp_3 = r0;
    r0 = s.arg1.fields["_ay"];
    s.tmp_5 = r0;
    r0 = pxsim.Math_.imul(s.tmp_5, s.arg2);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >> 8);
    s.tmp_4 = r0;
    r0 = (s.tmp_3 + s.tmp_4);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_vy"] = (s.tmp_2);
    { step = 16; continue; }
  case 9:
    r0 = s.arg1.fields["_fy"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = s.arg1.fields["_fy"];
    s.tmp_1 = r0;
    r0 = pxsim.Math_.imul(s.tmp_1, s.arg2);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 8);
    s.fy___52584 = (r0);
    r0 = s.arg1.fields["_vy"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.fy___52584);
    s.c___52590 = (r0);
    r0 = (s.c___52590 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    s.tmp_1 = r0 = s.arg1;
    s.tmp_3 = Fx_min__P29588_mk(s);
    s.tmp_3.arg0 = 0;
    r0 = s.arg1.fields["_vy"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 + s.fy___52584);
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 596; s.pc = 29; return s.tmp_3;
  case 29:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_vy"] = (s.tmp_2);
    { step = 13; continue; }
  case 10:
    r0 = (s.c___52590 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 11; continue; }
    s.tmp_1 = r0 = s.arg1;
    s.tmp_3 = Fx_min__P29588_mk(s);
    s.tmp_3.arg0 = 0;
    r0 = s.arg1.fields["_vy"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - s.fy___52584);
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 598; s.pc = 30; return s.tmp_3;
  case 30:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["_vy"] = (s.tmp_2);
    { step = 12; continue; }
  case 11:
    r0 = (s.arg1).fields["_vy"] = (0);
  case 12:
  case 13:
  case 14:
  case 15:
  case 16:
    s.tmp_0 = r0 = s.arg1;
    s.tmp_2 = ArcadePhysicsEngine_constrain__P34548_mk(s);
    s.tmp_2.arg0 = s.arg0;
    r0 = s.arg1.fields["_vx"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 599; s.pc = 31; return s.tmp_2;
  case 31:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_vx"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg1;
    s.tmp_2 = ArcadePhysicsEngine_constrain__P34548_mk(s);
    s.tmp_2.arg0 = s.arg0;
    r0 = s.arg1.fields["_vy"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 600; s.pc = 32; return s.tmp_2;
  case 32:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_vy"] = (s.tmp_1);
    r0 = s.arg1.fields["_vx"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.ovx___52505);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.imul(s.tmp_1, s.arg3);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 8);
    s.tmp_0 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_0, 1000);
    s.dx___52629 = (r0);
    r0 = s.arg1.fields["_vy"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + s.ovy___52510);
    s.tmp_1 = r0;
    r0 = pxsim.Math_.imul(s.tmp_1, s.arg3);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 8);
    s.tmp_0 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_0, 1000);
    s.dy___52638 = (r0);
    s.xStep___52647 = (s.dx___52629);
    s.yStep___52649 = (s.dy___52638);
  case 17:
    s.tmp_2 = Fx_abs__P29587_mk(s);
    s.tmp_2.arg0 = s.xStep___52647;
    s.callLocIdx = 607; s.pc = 33; return s.tmp_2;
  case 33:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = s.arg0.fields["maxSingleStep"];
    s.tmp_3 = r0;
    r0 = (s.tmp_1 > s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 18; continue; }
    r0 = s.tmp_0;
    { step = 19; continue; }
  case 18:
    s.tmp_5 = Fx_abs__P29587_mk(s);
    s.tmp_5.arg0 = s.yStep___52649;
    s.callLocIdx = 608; s.pc = 34; return s.tmp_5;
  case 34:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = s.arg0.fields["maxSingleStep"];
    s.tmp_6 = r0;
    r0 = (s.tmp_4 > s.tmp_6);
  case 19:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_7);
    if (!r0) { step = 24; continue; }
    s.tmp_10 = Fx_abs__P29587_mk(s);
    s.tmp_10.arg0 = s.xStep___52647;
    s.callLocIdx = 609; s.pc = 35; return s.tmp_10;
  case 35:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = s.arg0.fields["minSingleStep"];
    s.tmp_11 = r0;
    r0 = (s.tmp_9 > s.tmp_11);
    s.tmp_8 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_8);
    if (!r0) { step = 20; continue; }
    r0 = pxsim.Math_.idiv(s.xStep___52647, 2);
    s.xStep___52647 = (r0);
  case 20:
  case 21:
    s.tmp_2 = Fx_abs__P29587_mk(s);
    s.tmp_2.arg0 = s.yStep___52649;
    s.callLocIdx = 611; s.pc = 36; return s.tmp_2;
  case 36:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = s.arg0.fields["minSingleStep"];
    s.tmp_3 = r0;
    r0 = (s.tmp_1 > s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 22; continue; }
    r0 = pxsim.Math_.idiv(s.yStep___52649, 2);
    s.yStep___52649 = (r0);
  case 22:
  case 23:
    { step = 17; continue; }
  case 24:
    r0 = pxsim_pxtcore_mkClassInstance(MovingSprite__C31632_VT);
    s.tmp_0 = r0;
    s.tmp_1 = MovingSprite_constructor__P31633_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg1;
    r0 = s.arg1.fields["_vx"];
    s.tmp_1.arg2 = r0;
    r0 = s.arg1.fields["_vy"];
    s.tmp_1.arg3 = r0;
    s.tmp_1.arg4 = s.dx___52629;
    s.tmp_1.arg5 = s.dy___52638;
    s.tmp_1.arg6 = s.xStep___52647;
    s.tmp_1.arg7 = s.yStep___52649;
    s.callLocIdx = 613; s.pc = 37; return s.tmp_1;
  case 37:
    r0 = s.retval;
    r0 = s.tmp_0;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_createMovingSprite__P34543.info = {"start":6489,"length":2662,"line":211,"column":4,"endLine":302,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"createMovingSprite","argumentNames":["this","sprite","dtSec","dt2"]}

function ArcadePhysicsEngine_createMovingSprite__P34543_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_createMovingSprite__P34543, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  ovx___52505: undefined,
  ovy___52510: undefined,
  fx___52536: undefined,
  c___52542: undefined,
  fy___52584: undefined,
  c___52590: undefined,
  dx___52629: undefined,
  dy___52638: undefined,
  xStep___52647: undefined,
  yStep___52649: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function ArcadePhysicsEngine_constrain__P34548(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    s.tmp_0 = Fx_max__P29589_mk(s);
    s.tmp_1 = Fx_min__P29588_mk(s);
    r0 = s.arg0.fields["maxVelocity"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 762; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["maxNegativeVelocity"];
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 763; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_constrain__P34548.info = {"start":24856,"length":191,"line":731,"column":4,"endLine":739,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"constrain","argumentNames":["this","v"]}

function ArcadePhysicsEngine_constrain__P34548_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_constrain__P34548, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Fx_max__P29589(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 > s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0;
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
    r0 = s.arg1;
    { step = 3; continue; }
  case 2:
    r0 = undefined;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
Fx_max__P29589.info = {"start":1797,"length":117,"line":56,"column":4,"endLine":61,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"max","argumentNames":["a","b"]}

function Fx_max__P29589_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_max__P29589, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Fx_compare__P29586(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 - s.arg1);
    return leave(s, r0)
  default: oops()
} } }
Fx_compare__P29586.info = {"start":1395,"length":106,"line":41,"column":4,"endLine":43,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"compare","argumentNames":["a","b"]}

function Fx_compare__P29586_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_compare__P29586, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_SpriteMap_insertAABB__P31562(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.left___52323 = undefined;
    s.top___52326 = undefined;
    s.xn___52329 = undefined;
    s.yn___52340 = undefined;
    s.x___52351 = undefined;
    s.y___52356 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteMap__C31555_VT)) failedCast(r0);
    s.tmp_0 = Sprite_left__P31523_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 510; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.left___52323 = (r0);
    s.tmp_0 = Sprite_top__P31527_mk(s);
    s.tmp_0.arg0 = s.arg1;
    s.callLocIdx = 511; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.top___52326 = (r0);
    r0 = s.arg1.fields["_image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_3);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["cellWidth"];
    s.tmp_4 = r0;
    r0 = (s.tmp_2 + s.tmp_4);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.tmp_0 = r0;
    r0 = s.arg0.fields["cellWidth"];
    s.tmp_5 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_0, s.tmp_5);
    s.xn___52329 = (r0);
    r0 = s.arg1.fields["_image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_3);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["cellHeight"];
    s.tmp_4 = r0;
    r0 = (s.tmp_2 + s.tmp_4);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - 1);
    s.tmp_0 = r0;
    r0 = s.arg0.fields["cellHeight"];
    s.tmp_5 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_0, s.tmp_5);
    s.yn___52340 = (r0);
    s.x___52351 = (0);
  case 1:
    r0 = (s.x___52351 <= s.xn___52329);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    s.y___52356 = (0);
  case 2:
    r0 = (s.y___52356 <= s.yn___52340);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = sprites_SpriteMap_insertAtKey__P34521_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_2 = r0 = s.left___52323;
    s.tmp_4 = Math_min__P29553_mk(s);
    r0 = s.arg1.fields["_image"];
    s.tmp_5 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_5);
    s.tmp_4.arg0 = r0;
    r0 = s.arg0.fields["cellWidth"];
    s.tmp_6 = r0;
    r0 = (s.x___52351 * s.tmp_6);
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 515; s.pc = 8; return s.tmp_4;
  case 8:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.tmp_1.arg1 = r0;
    s.tmp_7 = r0 = s.top___52326;
    s.tmp_9 = Math_min__P29553_mk(s);
    r0 = s.arg1.fields["_image"];
    s.tmp_10 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_10);
    s.tmp_9.arg0 = r0;
    r0 = s.arg0.fields["cellHeight"];
    s.tmp_11 = r0;
    r0 = (s.y___52356 * s.tmp_11);
    s.tmp_9.arg1 = r0;
    s.callLocIdx = 517; s.pc = 9; return s.tmp_9;
  case 9:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = (s.tmp_7 + s.tmp_8);
    s.tmp_1.arg2 = r0;
    s.tmp_1.arg3 = s.arg1;
    s.callLocIdx = 518; s.pc = 7; return s.tmp_1;
  case 7:
    r0 = s.retval;
    r0 = (s.y___52356 + 1);
    s.y___52356 = (r0);
    { step = 2; continue; }
  case 3:
    r0 = (s.x___52351 + 1);
    s.x___52351 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteMap_insertAABB__P31562.info = {"start":3184,"length":521,"line":91,"column":8,"endLine":99,"endColumn":9,"fileName":"pxt_modules/game/spritemap.ts","functionName":"insertAABB","argumentNames":["this","sprite"]}

function sprites_SpriteMap_insertAABB__P31562_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteMap_insertAABB__P31562, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  left___52323: undefined,
  top___52326: undefined,
  xn___52329: undefined,
  yn___52340: undefined,
  x___52351: undefined,
  y___52356: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_SpriteMap_insertAtKey__P34521(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.k___52391 = undefined;
    s.bucket___52396 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteMap__C31555_VT)) failedCast(r0);
    s.tmp_0 = sprites_SpriteMap_key__P34520_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = s.arg2;
    s.callLocIdx = 509; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.k___52391 = (r0);
    r0 = s.arg0.fields["buckets"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.k___52391);
    s.bucket___52396 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.bucket___52396);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["buckets"];
    s.tmp_2 = r0;
    s.tmp_3 = r0 = s.k___52391;
    r0 = pxsim_Array__mk();
    s.tmp_4 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_2, s.tmp_3, s.tmp_4);
    s.bucket___52396 = (s.tmp_4);
  case 1:
  case 2:
    r0 = pxsim_Array_.indexOf(s.bucket___52396, s.arg3, undefined);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_Array__push(s.bucket___52396, s.arg3);
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteMap_insertAtKey__P34521.info = {"start":2872,"length":302,"line":82,"column":8,"endLine":89,"endColumn":9,"fileName":"pxt_modules/game/spritemap.ts","functionName":"insertAtKey","argumentNames":["this","x","y","sprite"]}

function sprites_SpriteMap_insertAtKey__P34521_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteMap_insertAtKey__P34521, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  k___52391: undefined,
  bucket___52396: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function sprites_SpriteMap_clear__P31561(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteMap__C31555_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["buckets"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteMap_clear__P31561.info = {"start":2532,"length":50,"line":72,"column":8,"endLine":74,"endColumn":9,"fileName":"pxt_modules/game/spritemap.ts","functionName":"clear","argumentNames":["this"]}

function sprites_SpriteMap_clear__P31561_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteMap_clear__P31561, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function sprites_SpriteMap_resizeBuckets__P31560(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.maxWidth___52428 = undefined;
    s.maxHeight___52429 = undefined;
    s.sprite___52431 = undefined;
    s.unnamed488___U3 = undefined;
    s.unnamed489___U4 = undefined;
    s.tMap___52447 = undefined;
    s.areaWidth___52451 = undefined;
    s.areaHeight___52458 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteMap__C31555_VT)) failedCast(r0);
    s.maxWidth___52428 = (0);
    s.maxHeight___52429 = (0);
    s.sprite___52431 = (undefined);
    s.unnamed488___U3 = (s.arg1);
    s.unnamed489___U4 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed489___U4;
    r0 = pxsim_Array__length(s.unnamed488___U3);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed488___U3, s.unnamed489___U4);
    s.sprite___52431 = (r0);
    r0 = s.sprite___52431.fields["_image"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 > s.maxWidth___52428);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = s.sprite___52431.fields["_image"];
    s.tmp_5 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_5);
    s.maxWidth___52428 = (r0);
  case 2:
  case 3:
    r0 = s.sprite___52431.fields["_image"];
    s.tmp_2 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > s.maxHeight___52429);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = s.sprite___52431.fields["_image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_3);
    s.maxHeight___52429 = (r0);
  case 4:
  case 5:
    r0 = (s.unnamed489___U4 + 1);
    s.unnamed489___U4 = (r0);
    { step = 1; continue; }
  case 6:
    s.unnamed488___U3 = (undefined);
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 502; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    r0 = r0.fields["tileMap"];
    s.tMap___52447 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.tMap___52447);
    if (!r0) { step = 7; continue; }
    s.tmp_0 = tiles_TileMap_areaWidth__P31784_mk(s);
    s.tmp_0.arg0 = s.tMap___52447;
    s.callLocIdx = 503; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    { step = 8; continue; }
  case 7:
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
  case 8:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.areaWidth___52451 = (s.tmp_1);
    r0 = pxsim_numops_toBoolDecr(s.tMap___52447);
    if (!r0) { step = 9; continue; }
    s.tmp_0 = tiles_TileMap_areaHeight__P31785_mk(s);
    s.tmp_0.arg0 = s.tMap___52447;
    s.callLocIdx = 504; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    { step = 10; continue; }
  case 9:
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
  case 10:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    s.areaHeight___52458 = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = Math_clamp__P29549_mk(s);
    s.tmp_2.arg0 = 8;
    r0 = (s.areaWidth___52451 >> 2);
    s.tmp_2.arg1 = r0;
    r0 = (s.maxWidth___52428 * 2);
    s.tmp_2.arg2 = r0;
    s.callLocIdx = 505; s.pc = 14; return s.tmp_2;
  case 14:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["cellWidth"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = Math_clamp__P29549_mk(s);
    s.tmp_2.arg0 = 8;
    r0 = (s.areaHeight___52458 >> 2);
    s.tmp_2.arg1 = r0;
    r0 = (s.maxHeight___52429 * 2);
    s.tmp_2.arg2 = r0;
    s.callLocIdx = 506; s.pc = 15; return s.tmp_2;
  case 15:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["cellHeight"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["cellHeight"];
    s.tmp_2 = r0;
    r0 = pxsim.Math_.idiv(s.areaHeight___52458, s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["rowCount"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["cellWidth"];
    s.tmp_2 = r0;
    r0 = pxsim.Math_.idiv(s.areaWidth___52451, s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["columnCount"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteMap_resizeBuckets__P31560.info = {"start":1696,"length":826,"line":52,"column":8,"endLine":70,"endColumn":9,"fileName":"pxt_modules/game/spritemap.ts","functionName":"resizeBuckets","argumentNames":["this","sprites"]}

function sprites_SpriteMap_resizeBuckets__P31560_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteMap_resizeBuckets__P31560, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  maxWidth___52428: undefined,
  maxHeight___52429: undefined,
  sprite___52431: undefined,
  unnamed488___U3: undefined,
  unnamed489___U4: undefined,
  tMap___52447: undefined,
  areaWidth___52451: undefined,
  areaHeight___52458: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_clearObstacles__P31545(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_obstacles"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_clearObstacles__P31545.info = {"start":26783,"length":54,"line":813,"column":4,"endLine":815,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"clearObstacles","argumentNames":["this"]}

function Sprite_clearObstacles__P31545_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_clearObstacles__P31545, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function Fx_idiv__P29585(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim.Math_.idiv(s.arg0, s.arg1);
    return leave(s, r0)
  default: oops()
} } }
Fx_idiv__P29585.info = {"start":1279,"length":111,"line":38,"column":4,"endLine":40,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"idiv","argumentNames":["a","b"]}

function Fx_idiv__P29585_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_idiv__P29585, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function Fx_div__P29584(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = (s.arg0 << 8);
    s.tmp_0 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_0, s.arg1);
    return leave(s, r0)
  default: oops()
} } }
Fx_div__P29584.info = {"start":1145,"length":129,"line":35,"column":4,"endLine":37,"endColumn":5,"fileName":"pxt_modules/base/fixed.ts","functionName":"div","argumentNames":["a","b"]}

function Fx_div__P29584_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Fx_div__P29584, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function ArcadePhysicsEngine_draw__P31645(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    s.tmp_0 = sprites_SpriteMap_draw__P31559_mk(s);
    r0 = s.arg0.fields["map"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 545; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_draw__P31645.info = {"start":2506,"length":39,"line":105,"column":4,"endLine":107,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"draw","argumentNames":["this"]}

function ArcadePhysicsEngine_draw__P31645_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_draw__P31645, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function sprites_SpriteMap_draw__P31559(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.x___52727 = undefined;
    s.y___52733 = undefined;
    s.left___52739 = undefined;
    s.top___52744 = undefined;
    s.k___52749 = undefined;
    s.b___52754 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_SpriteMap__C31555_VT)) failedCast(r0);
    s.x___52727 = (0);
  case 1:
    r0 = s.arg0.fields["columnCount"];
    s.tmp_1 = r0;
    r0 = (s.x___52727 < s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    s.y___52733 = (0);
  case 2:
    r0 = s.arg0.fields["rowCount"];
    s.tmp_1 = r0;
    r0 = (s.y___52733 < s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = s.arg0.fields["cellWidth"];
    s.tmp_2 = r0;
    r0 = (s.x___52727 * s.tmp_2);
    s.left___52739 = (r0);
    r0 = s.arg0.fields["cellHeight"];
    s.tmp_0 = r0;
    r0 = (s.y___52733 * s.tmp_0);
    s.top___52744 = (r0);
    s.tmp_0 = sprites_SpriteMap_key__P34520_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.left___52739;
    s.tmp_0.arg2 = s.top___52744;
    s.callLocIdx = 496; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.k___52749 = (r0);
    r0 = s.arg0.fields["buckets"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.k___52749);
    s.b___52754 = (r0);
    s.tmp_0 = r0 = s.b___52754;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = pxsim_Array__length(s.b___52754);
  case 4:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 5; continue; }
    s.tmp_2 = helpers_imageDrawRect__P31192_mk(s);
    s.tmp_2.arg0 = globals.screen___31263;
    s.tmp_2.arg1 = s.left___52739;
    s.tmp_2.arg2 = s.top___52744;
    r0 = s.arg0.fields["cellWidth"];
    s.tmp_2.arg3 = r0;
    r0 = s.arg0.fields["cellHeight"];
    s.tmp_2.arg4 = r0;
    s.tmp_2.arg5 = 5;
    s.callLocIdx = 497; s.pc = 10; return s.tmp_2;
  case 10:
    r0 = s.retval;
  case 5:
  case 6:
    r0 = (s.y___52733 + 1);
    s.y___52733 = (r0);
    { step = 2; continue; }
  case 7:
    r0 = (s.x___52727 + 1);
    s.x___52727 = (r0);
    { step = 1; continue; }
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_SpriteMap_draw__P31559.info = {"start":1122,"length":496,"line":36,"column":8,"endLine":47,"endColumn":9,"fileName":"pxt_modules/game/spritemap.ts","functionName":"draw","argumentNames":["this"]}

function sprites_SpriteMap_draw__P31559_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_SpriteMap_draw__P31559, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  x___52727: undefined,
  y___52733: undefined,
  left___52739: undefined,
  top___52744: undefined,
  k___52749: undefined,
  b___52754: undefined,
  arg0: undefined,
} }





function ArcadePhysicsEngine_removeSprite__P31644(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    r0 = s.arg0.fields["sprites"];
    s.tmp_0 = r0;
    r0 = pxsim_Array_.removeElement(s.tmp_0, s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_removeSprite__P31644.info = {"start":2420,"length":80,"line":101,"column":4,"endLine":103,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"removeSprite","argumentNames":["this","sprite"]}

function ArcadePhysicsEngine_removeSprite__P31644_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_removeSprite__P31644, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function ArcadePhysicsEngine_addSprite__P31643(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tm___52791 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, ArcadePhysicsEngine__C31634_VT)) failedCast(r0);
    r0 = s.arg0.fields["sprites"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.arg1);
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 543; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = r0.fields["tileMap"];
    s.tm___52791 = (r0);
    s.tmp_0 = r0 = s.tm___52791;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    s.tmp_1 = tiles_TileMap_isOnWall__P31799_mk(s);
    s.tmp_1.arg0 = s.tm___52791;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 544; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    s.tmp_3 = r0 = s.arg1;
    r0 = s.tmp_3.fields["flags"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 | 256);
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["flags"] = (s.tmp_4);
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
ArcadePhysicsEngine_addSprite__P31643.info = {"start":2194,"length":220,"line":93,"column":4,"endLine":99,"endColumn":5,"fileName":"pxt_modules/game/physics.ts","functionName":"addSprite","argumentNames":["this","sprite"]}

function ArcadePhysicsEngine_addSprite__P31643_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: ArcadePhysicsEngine_addSprite__P31643, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tm___52791: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function tiles_TileMapData_constructor__P31766(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMapData__C31765_VT)) failedCast(r0);
    r0 = (s.arg0).fields["data"] = (s.arg1);
    r0 = (s.arg0).fields["layers"] = (s.arg2);
    r0 = (s.arg0).fields["tileset"] = (s.arg3);
    s.tmp_0 = tiles_TileMapData_scale__P31770_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg4;
    s.callLocIdx = 777; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.BufferMethods.getNumber(s.arg1, 4, 0);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_width"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.BufferMethods.getNumber(s.arg1, 4, 2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_height"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMapData_constructor__P31766.info = {"start":3293,"length":358,"line":125,"column":8,"endLine":133,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"inline","argumentNames":["this","data","layers","tileset","scale"]}

function tiles_TileMapData_constructor__P31766_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMapData_constructor__P31766, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function tiles_TileMapData_scale__P31770(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMapData__C31765_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_scale"] = (s.arg1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["cachedTileView"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMapData_scale__P31770.info = {"start":3885,"length":102,"line":147,"column":8,"endLine":150,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"scale","argumentNames":["this","s"]}

function tiles_TileMapData_scale__P31770_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMapData_scale__P31770, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function tiles_TileMap_constructor__P31779(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_layer"] = (1);
    s.tmp_0 = tiles_TileMap_scale__P31781_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 783; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P52850);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = scene_createRenderable__P31841_mk(s);
    s.tmp_1.arg0 = -1;
    s.tmp_1.arg1 = s.tmp_0;
    s.tmp_1.arg2 = undefined;
    s.callLocIdx = 785; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_constructor__P31779.info = {"start":5865,"length":250,"line":210,"column":8,"endLine":218,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"inline","argumentNames":["this","scale"]}

function tiles_TileMap_constructor__P31779_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_constructor__P31779, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P52850(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = tiles_TileMap_draw__P34616_mk(s);
    s.tmp_0.arg0 = s.caps[0];
    s.tmp_0.arg1 = s.arg0;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 784; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
inline__P52850.info = {"start":6065,"length":25,"line":216,"column":16,"endLine":216,"endColumn":41,"fileName":"pxt_modules/game/tilemap.ts","functionName":"inline","argumentNames":["t","c"]}

function inline__P52850_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P52850, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function tiles_TileMap_draw__P34616(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.bitmask___52861 = undefined;
    s.offsetX___52867 = undefined;
    s.offsetY___52872 = undefined;
    s.x0___52877 = undefined;
    s.xn___52884 = undefined;
    s.y0___52901 = undefined;
    s.yn___52908 = undefined;
    s.x___52925 = undefined;
    s.y___52931 = undefined;
    s.index___52937 = undefined;
    s.tile___52944 = undefined;
    s.x___52980 = undefined;
    s.xLine___52986 = undefined;
    s.y___53012 = undefined;
    s.yLine___53018 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = s.arg0.fields["_map"];
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 23; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["_scale"];
    s.tmp_8 = r0;
    r0 = (1 << s.tmp_8);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 - 1);
    s.bitmask___52861 = (r0);
    r0 = s.arg2.fields["drawOffsetX"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & s.bitmask___52861);
    s.offsetX___52867 = (r0);
    r0 = s.arg2.fields["drawOffsetY"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & s.bitmask___52861);
    s.offsetY___52872 = (r0);
    s.tmp_0 = Math_max__P29552_mk(s);
    s.tmp_0.arg0 = 0;
    r0 = s.arg2.fields["drawOffsetX"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 >> s.tmp_2);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 803; s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.x0___52877 = (r0);
    s.tmp_0 = Math_min__P29553_mk(s);
    r0 = s.arg0.fields["_map"];
    s.tmp_1 = r0;
    r0 = s.tmp_1.fields["_width"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg2.fields["drawOffsetX"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.width(s.arg1);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 + s.tmp_5);
    s.tmp_3 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_6 = r0;
    r0 = (s.tmp_3 >> s.tmp_6);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 806; s.pc = 25; return s.tmp_0;
  case 25:
    r0 = s.retval;
    s.xn___52884 = (r0);
    s.tmp_0 = Math_max__P29552_mk(s);
    s.tmp_0.arg0 = 0;
    r0 = s.arg2.fields["drawOffsetY"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 >> s.tmp_2);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 808; s.pc = 26; return s.tmp_0;
  case 26:
    r0 = s.retval;
    s.y0___52901 = (r0);
    s.tmp_0 = Math_min__P29553_mk(s);
    r0 = s.arg0.fields["_map"];
    s.tmp_1 = r0;
    r0 = s.tmp_1.fields["_height"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg2.fields["drawOffsetY"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.height(s.arg1);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 + s.tmp_5);
    s.tmp_3 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_6 = r0;
    r0 = (s.tmp_3 >> s.tmp_6);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 811; s.pc = 27; return s.tmp_0;
  case 27:
    r0 = s.retval;
    s.yn___52908 = (r0);
    s.x___52925 = (s.x0___52877);
  case 3:
    r0 = (s.x___52925 <= s.xn___52884);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    s.y___52931 = (s.y0___52901);
  case 4:
    r0 = (s.y___52931 <= s.yn___52908);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 7; continue; }
    s.tmp_1 = tiles_TileMapData_getTile__P31771_mk(s);
    r0 = s.arg0.fields["_map"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.x___52925;
    s.tmp_1.arg2 = s.y___52931;
    s.callLocIdx = 812; s.pc = 28; return s.tmp_1;
  case 28:
    r0 = s.retval;
    s.index___52937 = (r0);
    s.tmp_0 = tiles_TileMapData_getTileImage__P31774_mk(s);
    r0 = s.arg0.fields["_map"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.index___52937;
    s.callLocIdx = 813; s.pc = 29; return s.tmp_0;
  case 29:
    r0 = s.retval;
    s.tile___52944 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.tile___52944);
    if (!r0) { step = 5; continue; }
    s.tmp_0 = r0 = s.arg1;
    s.tmp_1 = r0 = s.tile___52944;
    r0 = (s.x___52925 - s.x0___52877);
    s.tmp_4 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_5 = r0;
    r0 = (s.tmp_4 << s.tmp_5);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - s.offsetX___52867);
    s.tmp_2 = r0;
    r0 = (s.y___52931 - s.y0___52901);
    s.tmp_8 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_9 = r0;
    r0 = (s.tmp_8 << s.tmp_9);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 - s.offsetY___52872);
    s.tmp_6 = r0;
    r0 = pxsim_ImageMethods.drawTransparentImage(s.tmp_0, s.tmp_1, s.tmp_2, s.tmp_6);
  case 5:
  case 6:
    r0 = (s.y___52931 + 1);
    s.y___52931 = (r0);
    { step = 4; continue; }
  case 7:
    r0 = (s.x___52925 + 1);
    s.x___52925 = (r0);
    { step = 3; continue; }
  case 8:
    r0 = pxsim_numops_toBoolDecr(globals.debug___31986);
    if (!r0) { step = 21; continue; }
    s.x___52980 = (s.x0___52877);
  case 9:
    r0 = (s.x___52980 <= s.xn___52884);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    r0 = (s.x___52980 - s.x0___52877);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_3 = r0;
    r0 = (s.tmp_2 << s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - s.offsetX___52867);
    s.xLine___52986 = (r0);
    r0 = (s.xLine___52986 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = s.tmp_0;
    { step = 11; continue; }
  case 10:
    s.tmp_1 = r0 = s.xLine___52986;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 <= s.tmp_2);
  case 11:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 12; continue; }
    s.tmp_4 = helpers_imageDrawLine__P31191_mk(s);
    s.tmp_4.arg0 = s.arg1;
    s.tmp_4.arg1 = s.xLine___52986;
    s.tmp_4.arg2 = 0;
    s.tmp_4.arg3 = s.xLine___52986;
    r0 = pxsim_ImageMethods.height(s.arg1);
    s.tmp_4.arg4 = r0;
    s.tmp_4.arg5 = 1;
    s.callLocIdx = 817; s.pc = 30; return s.tmp_4;
  case 30:
    r0 = s.retval;
  case 12:
  case 13:
    r0 = (s.x___52980 + 1);
    s.x___52980 = (r0);
    { step = 9; continue; }
  case 14:
    s.y___53012 = (s.y0___52901);
  case 15:
    r0 = (s.y___53012 <= s.yn___52908);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 20; continue; }
    r0 = (s.y___53012 - s.y0___52901);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["_scale"];
    s.tmp_3 = r0;
    r0 = (s.tmp_2 << s.tmp_3);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - s.offsetY___52872);
    s.yLine___53018 = (r0);
    r0 = (s.yLine___53018 >= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 16; continue; }
    r0 = s.tmp_0;
    { step = 17; continue; }
  case 16:
    s.tmp_1 = r0 = s.yLine___53018;
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 <= s.tmp_2);
  case 17:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 18; continue; }
    s.tmp_4 = helpers_imageDrawLine__P31191_mk(s);
    s.tmp_4.arg0 = s.arg1;
    s.tmp_4.arg1 = 0;
    s.tmp_4.arg2 = s.yLine___53018;
    r0 = pxsim_ImageMethods.width(s.arg1);
    s.tmp_4.arg3 = r0;
    s.tmp_4.arg4 = s.yLine___53018;
    s.tmp_4.arg5 = 1;
    s.callLocIdx = 819; s.pc = 31; return s.tmp_4;
  case 31:
    r0 = s.retval;
  case 18:
  case 19:
    r0 = (s.y___53012 + 1);
    s.y___53012 = (r0);
    { step = 15; continue; }
  case 20:
  case 21:
  case 22:
  case 23:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_draw__P34616.info = {"start":10187,"length":2224,"line":347,"column":8,"endLine":402,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"draw","argumentNames":["this","target","camera"]}

function tiles_TileMap_draw__P34616_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_draw__P34616, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  bitmask___52861: undefined,
  offsetX___52867: undefined,
  offsetY___52872: undefined,
  x0___52877: undefined,
  xn___52884: undefined,
  y0___52901: undefined,
  yn___52908: undefined,
  x___52925: undefined,
  y___52931: undefined,
  index___52937: undefined,
  tile___52944: undefined,
  x___52980: undefined,
  xLine___52986: undefined,
  y___53012: undefined,
  yLine___53018: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function tiles_TileMap_scale__P31781(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_scale"] = (s.arg1);
    r0 = s.arg0.fields["_map"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = tiles_TileMapData_scale__P31770_mk(s);
    r0 = s.arg0.fields["_map"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 786; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
tiles_TileMap_scale__P31781.info = {"start":6190,"length":144,"line":224,"column":8,"endLine":229,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"scale","argumentNames":["this","s"]}

function tiles_TileMap_scale__P31781_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_scale__P31781, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function tiles_TileMap_data__P34614(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_TileMap__C31778_VT)) failedCast(r0);
    r0 = s.arg0.fields["_map"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_TileMap_data__P34614.info = {"start":6344,"length":75,"line":231,"column":8,"endLine":233,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"data","argumentNames":["this"]}
tiles_TileMap_data__P34614.isGetter = true;

function tiles_TileMap_data__P34614_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_TileMap_data__P34614, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function Sprite_toString__P31551(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = pxsim_String_.mkEmpty();
    s.tmp_9 = r0;
    r0 = s.arg0.fields["id"];
    s.tmp_11 = r0;
    if ((s.tmp_11) && (s.tmp_11).vtable) {
    setupResume(s, 1);
    pxsim_String__stringConv(s.tmp_11);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_11) + ""; }
  case 1:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = pxsim_String__concat(s.tmp_9, s.tmp_10);
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_8, "(");
    s.tmp_7 = r0;
    s.tmp_14 = Sprite_x__P31486_mk(s);
    s.tmp_14.arg0 = s.arg0;
    s.callLocIdx = 477; s.pc = 2; return s.tmp_14;
  case 2:
    r0 = s.retval;
    s.tmp_13 = r0;
    if ((s.tmp_13) && (s.tmp_13).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_13);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_13) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_12 = r0;
    r0 = pxsim_String__concat(s.tmp_7, s.tmp_12);
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_6, ",");
    s.tmp_5 = r0;
    s.tmp_17 = Sprite_y__P31488_mk(s);
    s.tmp_17.arg0 = s.arg0;
    s.callLocIdx = 478; s.pc = 4; return s.tmp_17;
  case 4:
    r0 = s.retval;
    s.tmp_16 = r0;
    if ((s.tmp_16) && (s.tmp_16).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_16);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_16) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_15 = r0;
    r0 = pxsim_String__concat(s.tmp_5, s.tmp_15);
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, ")->(");
    s.tmp_3 = r0;
    s.tmp_20 = Sprite_vx__P31490_mk(s);
    s.tmp_20.arg0 = s.arg0;
    s.callLocIdx = 479; s.pc = 6; return s.tmp_20;
  case 6:
    r0 = s.retval;
    s.tmp_19 = r0;
    if ((s.tmp_19) && (s.tmp_19).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_19);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_19) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_18 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_18);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ",");
    s.tmp_1 = r0;
    s.tmp_23 = Sprite_vy__P31492_mk(s);
    s.tmp_23.arg0 = s.arg0;
    s.callLocIdx = 480; s.pc = 8; return s.tmp_23;
  case 8:
    r0 = s.retval;
    s.tmp_22 = r0;
    if ((s.tmp_22) && (s.tmp_22).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.tmp_22);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_22) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_21 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_21);
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, ")");
    return leave(s, r0)
  default: oops()
} } }
Sprite_toString__P31551.info = {"start":33106,"length":93,"line":980,"column":4,"endLine":982,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"toString","argumentNames":["this"]}

function Sprite_toString__P31551_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_toString__P31551, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  tmp_19: undefined,
  tmp_20: undefined,
  tmp_21: undefined,
  tmp_22: undefined,
  tmp_23: undefined,
  arg0: undefined,
} }





function Sprite___update__P31539(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.bounce___53117 = undefined;
    s.tm___53122 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["lifespan"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 !== undefined);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = r0 = s.arg0;
    r0 = s.tmp_2.fields["lifespan"];
    s.tmp_4 = r0;
    r0 = (s.arg2 * 1000);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 - s.tmp_5);
    s.tmp_3 = r0;
    r0 = (s.tmp_2).fields["lifespan"] = (s.tmp_3);
    r0 = s.arg0.fields["lifespan"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 <= 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.arg0).fields["lifespan"] = (undefined);
    s.tmp_0 = Sprite__destroyCore__P31549_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 413; s.pc = 33; return s.tmp_0;
  case 33:
    r0 = s.retval;
  case 1:
  case 2:
  case 3:
  case 4:
    r0 = s.arg0.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    s.tmp_2 = Sprite_isOutOfScreen__P31537_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.arg1;
    s.callLocIdx = 414; s.pc = 34; return s.tmp_2;
  case 34:
    r0 = s.retval;
  case 6:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 7; continue; }
    s.tmp_4 = Sprite_destroy__P31548_mk(s);
    s.tmp_4.arg0 = s.arg0;
    s.tmp_4.arg1 = undefined;
    s.tmp_4.arg2 = undefined;
    s.callLocIdx = 415; s.pc = 35; return s.tmp_4;
  case 35:
    r0 = s.retval;
  case 7:
  case 8:
    r0 = s.arg0.fields["flags"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 & 32);
    s.bounce___53117 = (r0);
    s.tmp_0 = game_currentScene__P31990_mk(s);
    s.callLocIdx = 416; s.pc = 36; return s.tmp_0;
  case 36:
    r0 = s.retval;
    r0 = r0.fields["tileMap"];
    s.tm___53122 = (r0);
    r0 = s.arg0.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 8);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 9; continue; }
    r0 = s.tmp_0;
    { step = 12; continue; }
  case 9:
    s.tmp_2 = r0 = s.bounce___53117;
    r0 = pxsim_numops_toBool(s.tmp_2);
    if (r0) { step = 10; continue; }
    r0 = s.tmp_2;
    { step = 11; continue; }
  case 10:
    r0 = pxsim_numops_toBoolDecr(s.tm___53122);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
  case 11:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
  case 12:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 29; continue; }
    s.tmp_8 = Sprite_left__P31523_mk(s);
    s.tmp_8.arg0 = s.arg0;
    s.callLocIdx = 417; s.pc = 37; return s.tmp_8;
  case 37:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = s.arg1.fields["_offsetX"];
    s.tmp_9 = r0;
    r0 = (s.tmp_7 < s.tmp_9);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 15; continue; }
    s.tmp_10 = Sprite_left__P31524_mk(s);
    s.tmp_10.arg0 = s.arg0;
    r0 = s.arg1.fields["_offsetX"];
    s.tmp_10.arg1 = r0;
    s.callLocIdx = 420; s.pc = 38; return s.tmp_10;
  case 38:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.bounce___53117);
    if (!r0) { step = 13; continue; }
    s.tmp_0 = Sprite_vx__P31491_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_2 = Sprite_vx__P31490_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 421; s.pc = 40; return s.tmp_2;
  case 40:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (0 - s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 422; s.pc = 39; return s.tmp_0;
  case 39:
    r0 = s.retval;
  case 13:
  case 14:
    { step = 20; continue; }
  case 15:
    s.tmp_2 = Sprite_right__P31525_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 423; s.pc = 41; return s.tmp_2;
  case 41:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = s.arg1.fields["_offsetX"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 + s.tmp_5);
    s.tmp_3 = r0;
    r0 = (s.tmp_1 > s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 18; continue; }
    s.tmp_6 = Sprite_right__P31526_mk(s);
    s.tmp_6.arg0 = s.arg0;
    r0 = s.arg1.fields["_offsetX"];
    s.tmp_7 = r0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_8 = r0;
    r0 = (s.tmp_7 + s.tmp_8);
    s.tmp_6.arg1 = r0;
    s.callLocIdx = 426; s.pc = 42; return s.tmp_6;
  case 42:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.bounce___53117);
    if (!r0) { step = 16; continue; }
    s.tmp_0 = Sprite_vx__P31491_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_2 = Sprite_vx__P31490_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 427; s.pc = 44; return s.tmp_2;
  case 44:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (0 - s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 428; s.pc = 43; return s.tmp_0;
  case 43:
    r0 = s.retval;
  case 16:
  case 17:
  case 18:
  case 19:
  case 20:
    s.tmp_2 = Sprite_top__P31527_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 429; s.pc = 45; return s.tmp_2;
  case 45:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = s.arg1.fields["_offsetY"];
    s.tmp_3 = r0;
    r0 = (s.tmp_1 < s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 23; continue; }
    s.tmp_4 = Sprite_top__P31528_mk(s);
    s.tmp_4.arg0 = s.arg0;
    r0 = s.arg1.fields["_offsetY"];
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 432; s.pc = 46; return s.tmp_4;
  case 46:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.bounce___53117);
    if (!r0) { step = 21; continue; }
    s.tmp_0 = Sprite_vy__P31493_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_2 = Sprite_vy__P31492_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 433; s.pc = 48; return s.tmp_2;
  case 48:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (0 - s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 434; s.pc = 47; return s.tmp_0;
  case 47:
    r0 = s.retval;
  case 21:
  case 22:
    { step = 28; continue; }
  case 23:
    s.tmp_2 = Sprite_bottom__P31529_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 435; s.pc = 49; return s.tmp_2;
  case 49:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = s.arg1.fields["_offsetY"];
    s.tmp_4 = r0;
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 + s.tmp_5);
    s.tmp_3 = r0;
    r0 = (s.tmp_1 > s.tmp_3);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 26; continue; }
    s.tmp_6 = Sprite_bottom__P31530_mk(s);
    s.tmp_6.arg0 = s.arg0;
    r0 = s.arg1.fields["_offsetY"];
    s.tmp_7 = r0;
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.tmp_8 = r0;
    r0 = (s.tmp_7 + s.tmp_8);
    s.tmp_6.arg1 = r0;
    s.callLocIdx = 438; s.pc = 50; return s.tmp_6;
  case 50:
    r0 = s.retval;
    r0 = pxsim_numops_toBoolDecr(s.bounce___53117);
    if (!r0) { step = 24; continue; }
    s.tmp_0 = Sprite_vy__P31493_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_2 = Sprite_vy__P31492_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 439; s.pc = 52; return s.tmp_2;
  case 52:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (0 - s.tmp_1);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 440; s.pc = 51; return s.tmp_0;
  case 51:
    r0 = s.retval;
  case 24:
  case 25:
  case 26:
  case 27:
  case 28:
  case 29:
  case 30:
    r0 = s.arg0.fields["updateSay"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 31; continue; }
    s.tmp_1 = if_updateSay_3_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg2;
    s.tmp_1.arg2 = s.arg1;
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "updateSay"), 3);
      s.callLocIdx = 441; s.pc = 53; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["updateSay"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["updateSay"], 3); s.callLocIdx = 441; s.pc = 53; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 441; s.pc = 53; return s.tmp_1;; }
     else { s.callLocIdx = 441; s.pc = 53; return s.tmp_1; }
    }
  case 53:
    r0 = s.retval;
  case 31:
  case 32:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite___update__P31539.info = {"start":22164,"length":1390,"line":682,"column":4,"endLine":721,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"__update","argumentNames":["this","camera","dt"]}

function Sprite___update__P31539_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite___update__P31539, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  bounce___53117: undefined,
  tm___53122: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function Sprite_isOutOfScreen__P31537(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ox___53211 = undefined;
    s.oy___53219 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 512);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg1.fields["drawOffsetX"];
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.ox___53211 = (s.tmp_2);
    r0 = s.arg0.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 512);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = 0;
    { step = 4; continue; }
  case 3:
    r0 = s.arg1.fields["drawOffsetY"];
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.oy___53219 = (s.tmp_2);
    s.tmp_3 = Sprite_right__P31525_mk(s);
    s.tmp_3.arg0 = s.arg0;
    s.callLocIdx = 382; s.pc = 11; return s.tmp_3;
  case 11:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - s.ox___53211);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 5:
    s.tmp_6 = Sprite_bottom__P31529_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.callLocIdx = 383; s.pc = 12; return s.tmp_6;
  case 12:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.tmp_5 - s.oy___53219);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 < 0);
  case 6:
    // jmp value (already in r0)
    s.tmp_7 = r0;
    r0 = pxsim_numops_toBool(s.tmp_7);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_7;
    { step = 8; continue; }
  case 7:
    s.tmp_10 = Sprite_left__P31523_mk(s);
    s.tmp_10.arg0 = s.arg0;
    s.callLocIdx = 384; s.pc = 13; return s.tmp_10;
  case 13:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = (s.tmp_9 - s.ox___53211);
    s.tmp_8 = r0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_11 = r0;
    r0 = (s.tmp_8 > s.tmp_11);
  case 8:
    // jmp value (already in r0)
    s.tmp_12 = r0;
    r0 = pxsim_numops_toBool(s.tmp_12);
    if (!r0) { step = 9; continue; }
    r0 = s.tmp_12;
    { step = 10; continue; }
  case 9:
    s.tmp_15 = Sprite_top__P31527_mk(s);
    s.tmp_15.arg0 = s.arg0;
    s.callLocIdx = 385; s.pc = 14; return s.tmp_15;
  case 14:
    r0 = s.retval;
    s.tmp_14 = r0;
    r0 = (s.tmp_14 - s.oy___53219);
    s.tmp_13 = r0;
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.tmp_16 = r0;
    r0 = (s.tmp_13 > s.tmp_16);
  case 10:
    // jmp value (already in r0)
    s.tmp_17 = r0;
    r0 = s.tmp_17;
    return leave(s, r0)
  default: oops()
} } }
Sprite_isOutOfScreen__P31537.info = {"start":20411,"length":358,"line":636,"column":4,"endLine":640,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"isOutOfScreen","argumentNames":["this","camera"]}

function Sprite_isOutOfScreen__P31537_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_isOutOfScreen__P31537, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  ox___53211: undefined,
  oy___53219: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_bottom__P31530(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = Sprite_top__P31528_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = r0 = s.arg1;
    r0 = s.arg0.fields["_image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 - s.tmp_2);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 376; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_bottom__P31530.info = {"start":10235,"length":73,"line":374,"column":4,"endLine":376,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"bottom","argumentNames":["this","value"]}

function Sprite_bottom__P31530_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_bottom__P31530, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_right__P31526(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_0 = Sprite_left__P31524_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = r0 = s.arg1;
    r0 = s.arg0.fields["_image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 - s.tmp_2);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 368; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_right__P31526.info = {"start":9428,"length":71,"line":344,"column":4,"endLine":346,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"right","argumentNames":["this","value"]}

function Sprite_right__P31526_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_right__P31526, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_width__P31521(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_image"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_width__P31521.info = {"start":8494,"length":52,"line":309,"column":4,"endLine":311,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"width","argumentNames":["this"]}
Sprite_width__P31521.isGetter = true;

function Sprite_width__P31521_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_width__P31521, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function Sprite_data__P31503(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_data"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite_data__P31503.info = {"start":4292,"length":56,"line":165,"column":4,"endLine":167,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"data","argumentNames":["this","value"]}

function Sprite_data__P31503_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_data__P31503, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite_data__P31502(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["_data"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = r0 = s.arg0;
    r0 = pxsim_pxtrt.mkMap();
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["_data"] = (s.tmp_4);
  case 1:
  case 2:
    r0 = s.arg0.fields["_data"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
Sprite_data__P31502.info = {"start":4194,"length":92,"line":160,"column":4,"endLine":163,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"data","argumentNames":["this"]}
Sprite_data__P31502.isGetter = true;

function Sprite_data__P31502_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite_data__P31502, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function scene_BackgroundLayer_constructor__P31743(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_BackgroundLayer__C31736_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = Math_max__P29552_mk(s);
    s.tmp_2.arg0 = 1;
    s.tmp_2.arg1 = s.arg1;
    s.callLocIdx = 771; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["distance"] = (s.tmp_1);
    r0 = (s.arg0).fields["img"] = (s.arg3);
    s.tmp_0 = r0 = s.arg2;
    r0 = pxsim_pxtcore.switch_eq(5, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 4; continue; }
    r0 = pxsim_pxtcore.switch_eq(4, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = s.tmp_0;
    { step = 6; continue; }
  case 1:
    r0 = (s.arg0).fields["repeatX"] = (true);
    r0 = (s.arg0).fields["repeatY"] = (true);
    r0 = (s.arg0).fields["alignX"] = (5);
    r0 = (s.arg0).fields["alignY"] = (5);
    { step = 6; continue; }
  case 2:
  case 3:
    r0 = (s.arg0).fields["repeatX"] = (false);
    r0 = (s.arg0).fields["repeatY"] = (true);
    r0 = (s.arg0).fields["alignX"] = (s.arg2);
    r0 = (s.arg0).fields["alignY"] = (5);
    { step = 6; continue; }
  case 4:
  case 5:
    r0 = (s.arg0).fields["repeatX"] = (true);
    r0 = (s.arg0).fields["repeatY"] = (false);
    r0 = (s.arg0).fields["alignX"] = (5);
    r0 = (s.arg0).fields["alignY"] = (s.arg2);
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_BackgroundLayer_constructor__P31743.info = {"start":1936,"length":1117,"line":72,"column":8,"endLine":97,"endColumn":9,"fileName":"pxt_modules/game/background.ts","functionName":"inline","argumentNames":["this","distance","alignment","img"]}

function scene_BackgroundLayer_constructor__P31743_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_BackgroundLayer_constructor__P31743, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function scene_Camera_y__P31828(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Camera__C31818_VT)) failedCast(r0);
    r0 = s.arg0.fields["drawOffsetY"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.height(globals.screen___31263);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    return leaveAccessor(s, r0)
  default: oops()
} } }
scene_Camera_y__P31828.info = {"start":1398,"length":79,"line":49,"column":8,"endLine":51,"endColumn":9,"fileName":"pxt_modules/game/camera.ts","functionName":"y","argumentNames":["this"]}
scene_Camera_y__P31828.isGetter = true;

function scene_Camera_y__P31828_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Camera_y__P31828, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function scene_Camera_x__P31827(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Camera__C31818_VT)) failedCast(r0);
    r0 = s.arg0.fields["drawOffsetX"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.width(globals.screen___31263);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    return leaveAccessor(s, r0)
  default: oops()
} } }
scene_Camera_x__P31827.info = {"start":1311,"length":78,"line":46,"column":8,"endLine":48,"endColumn":9,"fileName":"pxt_modules/game/camera.ts","functionName":"x","argumentNames":["this"]}
scene_Camera_x__P31827.isGetter = true;

function scene_Camera_x__P31827_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Camera_x__P31827, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function particles_ShapeFactory_createParticle__P32202(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___53412 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ShapeFactory__C32198_VT)) failedCast(r0);
    s.tmp_0 = particles_AreaFactory_createParticle__P32188_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1253; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.p___53412 = (r0);
    s.tmp_0 = r0 = s.p___53412;
    s.tmp_2 = Math_FastRandom_randomRange__P32048_mk(s);
    r0 = s.arg0.fields["galois"];
    s.tmp_2.arg0 = r0;
    s.tmp_2.arg1 = 1;
    s.tmp_2.arg2 = 14;
    s.callLocIdx = 1254; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["color"] = (s.tmp_1);
    r0 = s.p___53412;
    return leave(s, r0)
  default: oops()
} } }
particles_ShapeFactory_createParticle__P32202.info = {"start":7505,"length":178,"line":239,"column":8,"endLine":243,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"createParticle","argumentNames":["this","anchor"]}

function particles_ShapeFactory_createParticle__P32202_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ShapeFactory_createParticle__P32202, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  p___53412: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_AreaFactory_createParticle__P32188(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___53424 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_AreaFactory__C32182_VT)) failedCast(r0);
    s.tmp_0 = particles_SprayFactory_createParticle__P32178_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1235; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    s.p___53424 = (r0);
    s.tmp_0 = r0 = s.p___53424;
    s.tmp_2 = Math_FastRandom_randomRange__P32048_mk(s);
    r0 = s.arg0.fields["galois"];
    s.tmp_2.arg0 = r0;
    r0 = s.arg0.fields["minLifespan"];
    s.tmp_2.arg1 = r0;
    r0 = s.arg0.fields["maxLifespan"];
    s.tmp_2.arg2 = r0;
    s.callLocIdx = 1236; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["lifespan"] = (s.tmp_1);
    s.tmp_0 = r0 = s.p___53424;
    s.tmp_4 = Math_FastRandom_randomRange__P32048_mk(s);
    r0 = s.arg0.fields["galois"];
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = 0;
    r0 = s.arg0.fields["xRange"];
    s.tmp_4.arg2 = r0;
    s.callLocIdx = 1237; s.pc = 5; return s.tmp_4;
  case 5:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.arg0.fields["xRange"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >> 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_3 - s.tmp_5);
    s.tmp_2 = r0;
    r0 = s.p___53424.fields["_x"];
    s.tmp_7 = r0;
    r0 = (s.tmp_2 << 8);
    s.tmp_8 = r0;
    r0 = (s.tmp_8 + s.tmp_7);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_x"] = (s.tmp_1);
    s.tmp_1 = if_height_1_mk(s);
    s.tmp_1.arg0 = s.arg1;
    if (!s.tmp_1.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "height");
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["height"];
      if (s.tmp_1.fn == null) { s.retval = s.tmp_1.arg0.fields["height"]; }
      else if (!s.tmp_1.fn.isGetter) { s.retval = bind(s.tmp_1); }
     else { s.callLocIdx = 1240; s.pc = 6; return s.tmp_1; }
    }
  case 6:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = if_height_1_mk(s);
    s.tmp_3.arg0 = s.arg1;
    if (!s.tmp_3.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_3.arg0, "height");
    } else {
      s.tmp_3.fn = s.tmp_3.arg0.vtable.iface["height"];
      if (s.tmp_3.fn == null) { s.retval = s.tmp_3.arg0.fields["height"]; }
      else if (!s.tmp_3.fn.isGetter) { s.retval = bind(s.tmp_3); }
     else { s.callLocIdx = 1241; s.pc = 7; return s.tmp_3; }
    }
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 1);
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    s.tmp_5 = r0 = s.p___53424;
    s.tmp_9 = Math_FastRandom_randomRange__P32048_mk(s);
    r0 = s.arg0.fields["galois"];
    s.tmp_9.arg0 = r0;
    s.tmp_9.arg1 = 0;
    r0 = s.arg0.fields["yRange"];
    s.tmp_9.arg2 = r0;
    s.callLocIdx = 1239; s.pc = 8; return s.tmp_9;
  case 8:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = (s.tmp_8 - s.tmp_4);
    s.tmp_7 = r0;
    r0 = s.p___53424.fields["_y"];
    s.tmp_10 = r0;
    r0 = (s.tmp_7 << 8);
    s.tmp_11 = r0;
    r0 = (s.tmp_11 + s.tmp_10);
    s.tmp_6 = r0;
    r0 = (s.tmp_5).fields["_y"] = (s.tmp_6);
    r0 = s.p___53424;
    return leave(s, r0)
  default: oops()
} } }
particles_AreaFactory_createParticle__P32188.info = {"start":4334,"length":426,"line":148,"column":8,"endLine":156,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"createParticle","argumentNames":["this","anchor"]}

function particles_AreaFactory_createParticle__P32188_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_AreaFactory_createParticle__P32188, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  p___53424: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_SprayFactory_createParticle__P32178(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___53472 = undefined;
    s.angle___53476 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_SprayFactory__C32176_VT)) failedCast(r0);
    s.tmp_0 = particles_ParticleFactory_createParticle__P32174_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1224; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.p___53472 = (r0);
    r0 = s.arg0.fields["minAngle"];
    s.tmp_1 = r0;
    s.tmp_3 = Math_FastRandom_randomRange__P32048_mk(s);
    s.tmp_3.arg0 = globals.galois___35040;
    s.tmp_3.arg1 = 0;
    r0 = s.arg0.fields["spread"];
    s.tmp_3.arg2 = r0;
    s.callLocIdx = 1225; s.pc = 2; return s.tmp_3;
  case 2:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 % 100);
    s.angle___53476 = (r0);
    s.tmp_0 = r0 = s.p___53472;
    r0 = pxsim_Array__getAt(globals.cachedSin___35035, s.angle___53476);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["speed"];
    s.tmp_3 = r0;
    r0 = pxsim.Math_.imul(s.tmp_2, s.tmp_3);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >> 8);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["vx"] = (s.tmp_1);
    s.tmp_0 = r0 = s.p___53472;
    r0 = pxsim_Array__getAt(globals.cachedCos___35036, s.angle___53476);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["speed"];
    s.tmp_3 = r0;
    r0 = pxsim.Math_.imul(s.tmp_2, s.tmp_3);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >> 8);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["vy"] = (s.tmp_1);
    r0 = s.p___53472;
    return leave(s, r0)
  default: oops()
} } }
particles_SprayFactory_createParticle__P32178.info = {"start":2851,"length":333,"line":105,"column":8,"endLine":113,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"createParticle","argumentNames":["this","anchor"]}

function particles_SprayFactory_createParticle__P32178_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_SprayFactory_createParticle__P32178, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  p___53472: undefined,
  angle___53476: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ParticleSource_factory__P32154(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    r0 = s.arg0.fields["_factory"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
particles_ParticleSource_factory__P32154.info = {"start":7934,"length":76,"line":263,"column":8,"endLine":265,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"factory","argumentNames":["this"]}
particles_ParticleSource_factory__P32154.isGetter = true;

function particles_ParticleSource_factory__P32154_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_factory__P32154, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function particles_ParticleSource___draw__P32142(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.current___53337 = undefined;
    s.left___53340 = undefined;
    s.top___53350 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    r0 = s.arg0.fields["head"];
    s.current___53337 = (r0);
    r0 = s.arg0.fields["pFlags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg1.fields["drawOffsetX"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 256);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 | 0);
  case 2:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    s.left___53340 = (s.tmp_4);
    r0 = s.arg0.fields["pFlags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 4);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = 0;
    { step = 4; continue; }
  case 3:
    r0 = s.arg1.fields["drawOffsetY"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 * 256);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 | 0);
  case 4:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    s.top___53350 = (s.tmp_4);
  case 5:
    r0 = pxsim_numops_toBoolDecr(s.current___53337);
    if (!r0) { step = 8; continue; }
    r0 = s.current___53337.fields["lifespan"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 6; continue; }
    s.tmp_2 = particles_ParticleSource_drawParticle__P35026_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.current___53337;
    s.tmp_2.arg2 = s.left___53340;
    s.tmp_2.arg3 = s.top___53350;
    s.callLocIdx = 1159; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
  case 6:
  case 7:
    r0 = s.current___53337.fields["next"];
    s.current___53337 = (r0);
    { step = 5; continue; }
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource___draw__P32142.info = {"start":3199,"length":468,"line":111,"column":8,"endLine":121,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"__draw","argumentNames":["this","camera"]}

function particles_ParticleSource___draw__P32142_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource___draw__P32142, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  current___53337: undefined,
  left___53340: undefined,
  top___53350: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_ParticleSource_drawParticle__P35026(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleSource__C32136_VT)) failedCast(r0);
    s.tmp_0 = particles_ParticleFactory__C32172_v1_4_mk(s);
    r0 = s.arg0.fields["_factory"];
    s.tmp_0.arg0 = r0;
    s.tmp_0.arg1 = s.arg1;
    r0 = s.arg1.fields["_x"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - s.arg2);
    s.tmp_0.arg2 = r0;
    r0 = s.arg1.fields["_y"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 - s.arg3);
    s.tmp_0.arg3 = r0;
    if (!checkSubtype(s.tmp_0.arg0, particles_ParticleFactory__C32172_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.drawParticle;
    s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleSource_drawParticle__P35026.info = {"start":8598,"length":174,"line":286,"column":8,"endLine":288,"endColumn":9,"fileName":"pxt_modules/game/particles.ts","functionName":"drawParticle","argumentNames":["this","p","screenLeft","screenTop"]}

function particles_ParticleSource_drawParticle__P35026_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleSource_drawParticle__P35026, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function particles_ParticleFactory_drawParticle__P32175(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ParticleFactory__C32172_VT)) failedCast(r0);
    s.tmp_0 = r0 = globals.screen___31263;
    r0 = (s.arg2 + 128);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 8);
    s.tmp_1 = r0;
    r0 = (s.arg3 + 128);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >> 8);
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, s.tmp_1, s.tmp_3, 1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ParticleFactory_drawParticle__P32175.info = {"start":2265,"length":118,"line":85,"column":8,"endLine":87,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"drawParticle","argumentNames":["this","particle","x","y"]}

function particles_ParticleFactory_drawParticle__P32175_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ParticleFactory_drawParticle__P32175, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function sprites_BaseSprite___update__P31327(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_BaseSprite__C31319_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_BaseSprite___update__P31327.info = {"start":1027,"length":46,"line":45,"column":8,"endLine":45,"endColumn":54,"fileName":"pxt_modules/game/basesprite.ts","functionName":"__update","argumentNames":["this","camera","dt"]}

function sprites_BaseSprite___update__P31327_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_BaseSprite___update__P31327, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function sprites_BaseSprite___draw__P31325(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_BaseSprite__C31319_VT)) failedCast(r0);
    s.tmp_1 = sprites_BaseSprite__C31319_v0_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!checkSubtype(s.tmp_1.arg0, sprites_BaseSprite__C31319_VT)) failedCast(s.tmp_1.arg0);
    s.tmp_1.fn = s.tmp_1.arg0.vtable.methods.__visible;
    s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_2 = sprites_BaseSprite__C31319_v2_2_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.tmp_2.arg1 = s.arg1;
    if (!checkSubtype(s.tmp_2.arg0, sprites_BaseSprite__C31319_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.__drawCore;
    s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_BaseSprite___draw__P31325.info = {"start":840,"length":131,"line":37,"column":8,"endLine":41,"endColumn":9,"fileName":"pxt_modules/game/basesprite.ts","functionName":"__draw","argumentNames":["this","camera"]}

function sprites_BaseSprite___draw__P31325_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_BaseSprite___draw__P31325, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_BaseSprite___drawCore__P31326(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_BaseSprite__C31319_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
sprites_BaseSprite___drawCore__P31326.info = {"start":981,"length":36,"line":43,"column":8,"endLine":43,"endColumn":44,"fileName":"pxt_modules/game/basesprite.ts","functionName":"__drawCore","argumentNames":["this","camera"]}

function sprites_BaseSprite___drawCore__P31326_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_BaseSprite___drawCore__P31326, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_BaseSprite___visible__P31322(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_BaseSprite__C31319_VT)) failedCast(r0);
    r0 = true;
    return leave(s, r0)
  default: oops()
} } }
sprites_BaseSprite___visible__P31322.info = {"start":524,"length":57,"line":22,"column":8,"endLine":24,"endColumn":9,"fileName":"pxt_modules/game/basesprite.ts","functionName":"__visible","argumentNames":["this"]}

function sprites_BaseSprite___visible__P31322_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_BaseSprite___visible__P31322, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_ConsoleClient_handlePacket__P33782(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pri___54425 = undefined;
    s.deviceName___54441 = undefined;
    s.innerMsg___54446 = undefined;
    s.msg___54451 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_ConsoleClient__C33778_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, 14);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - 128);
    s.pri___54425 = (r0);
    r0 = (0 <= s.pri___54425);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = (s.pri___54425 <= 4);
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 12; continue; }
    r0 = s.arg0.fields["minPriority"];
    s.tmp_3 = r0;
    r0 = (s.pri___54425 < s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    { step = 14; continue; }
  case 3:
  case 4:
    s.tmp_4 = jacdac_Device_toString__P33562_mk(s);
    r0 = s.arg0.fields["currentDevice"];
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 1617; s.pc = 15; return s.tmp_4;
  case 15:
    r0 = s.retval;
    s.deviceName___54441 = (r0);
    r0 = s.arg1.fields["_data"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.toString(s.tmp_0);
    s.innerMsg___54446 = (r0);
    if ((s.deviceName___54441) && (s.deviceName___54441).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.deviceName___54441);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.deviceName___54441) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(":", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "> ");
    s.tmp_0 = r0;
    if ((s.innerMsg___54446) && (s.innerMsg___54446).vtable) {
    setupResume(s, 17);
    pxsim_String__stringConv(s.innerMsg___54446);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.innerMsg___54446) + ""; }
  case 17:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_3);
    s.msg___54451 = (r0);
    s.tmp_0 = r0 = s.pri___54425;
    r0 = pxsim_pxtcore.switch_eq(0, s.tmp_0);
    if (r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_0);
    if (r0) { step = 7; continue; }
    r0 = pxsim_pxtcore.switch_eq(3, s.tmp_0);
    if (r0) { step = 8; continue; }
    r0 = s.tmp_0;
    { step = 9; continue; }
  case 5:
    s.tmp_1 = console_debug__P29793_mk(s);
    s.tmp_1.arg0 = s.msg___54451;
    s.callLocIdx = 1619; s.pc = 18; return s.tmp_1;
  case 18:
    r0 = s.retval;
    { step = 9; continue; }
  case 6:
    s.tmp_0 = console_log__P29796_mk(s);
    s.tmp_0.arg0 = s.msg___54451;
    s.callLocIdx = 1620; s.pc = 19; return s.tmp_0;
  case 19:
    r0 = s.retval;
    { step = 9; continue; }
  case 7:
    s.tmp_0 = console_warn__P29794_mk(s);
    s.tmp_0.arg0 = s.msg___54451;
    s.callLocIdx = 1621; s.pc = 20; return s.tmp_0;
  case 20:
    r0 = s.retval;
    { step = 9; continue; }
  case 8:
    s.tmp_0 = console_error__P29795_mk(s);
    s.tmp_0.arg0 = s.msg___54451;
    s.callLocIdx = 1622; s.pc = 21; return s.tmp_0;
  case 21:
    r0 = s.retval;
  case 9:
    r0 = s.arg0.fields["onMessageReceived"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 10; continue; }
    s.tmp_1 = if_onMessageReceived_4_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.pri___54425;
    r0 = s.arg0.fields["currentDevice"];
    s.tmp_1.arg2 = r0;
    s.tmp_1.arg3 = s.innerMsg___54446;
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "onMessageReceived"), 4);
      s.callLocIdx = 1623; s.pc = 22; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["onMessageReceived"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["onMessageReceived"], 4); s.callLocIdx = 1623; s.pc = 22; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 1623; s.pc = 22; return s.tmp_1;; }
     else { s.callLocIdx = 1623; s.pc = 22; return s.tmp_1; }
    }
  case 22:
    r0 = s.retval;
  case 10:
  case 11:
  case 12:
  case 13:
  case 14:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_ConsoleClient_handlePacket__P33782.info = {"start":738,"length":1055,"line":18,"column":8,"endLine":39,"endColumn":9,"fileName":"pxt_modules/jacdac-services/consoleclient.ts","functionName":"handlePacket","argumentNames":["this","packet"]}

function jacdac_ConsoleClient_handlePacket__P33782_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_ConsoleClient_handlePacket__P33782, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  pri___54425: undefined,
  deviceName___54441: undefined,
  innerMsg___54446: undefined,
  msg___54451: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function console_error__P29795(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P29792_mk(s);
    s.tmp_0.arg0 = 3;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 60; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_error__P29795.info = {"start":1132,"length":82,"line":46,"column":4,"endLine":48,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"error","argumentNames":["text"]}

function console_error__P29795_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_error__P29795, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function console_warn__P29794(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P29792_mk(s);
    s.tmp_0.arg0 = 2;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 59; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_warn__P29794.info = {"start":1043,"length":83,"line":42,"column":4,"endLine":44,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"warn","argumentNames":["text"]}

function console_warn__P29794_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_warn__P29794, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function console_debug__P29793(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = console_add__P29792_mk(s);
    s.tmp_0.arg0 = 0;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 58; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
console_debug__P29793.info = {"start":955,"length":82,"line":38,"column":4,"endLine":40,"endColumn":5,"fileName":"pxt_modules/base/console.ts","functionName":"debug","argumentNames":["text"]}

function console_debug__P29793_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: console_debug__P29793, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_toString__P33631(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.msg___54568 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = pxsim_String_.mkEmpty();
    s.tmp_8 = r0;
    s.tmp_11 = jacdac_shortDeviceId__P33553_mk(s);
    r0 = s.arg0.fields["_header"];
    s.tmp_13 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_13, 4, 8);
    s.tmp_12 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_12);
    s.tmp_11.arg0 = r0;
    s.callLocIdx = 1493; s.pc = 3; return s.tmp_11;
  case 3:
    r0 = s.retval;
    s.tmp_10 = r0;
    if ((s.tmp_10) && (s.tmp_10).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_10);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_10) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = pxsim_String__concat(s.tmp_8, s.tmp_9);
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_7, "/");
    s.tmp_6 = r0;
    r0 = s.arg0.fields["_header"];
    s.tmp_17 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_17, 13);
    s.tmp_16 = r0;
    r0 = (s.tmp_16 & 63);
    s.tmp_15 = r0;
    if ((s.tmp_15) && (s.tmp_15).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.tmp_15);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_15) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_14 = r0;
    r0 = pxsim_String__concat(s.tmp_6, s.tmp_14);
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_5, "[");
    s.tmp_4 = r0;
    r0 = s.arg0.fields["_header"];
    s.tmp_20 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_20, 3);
    s.tmp_19 = r0;
    if ((s.tmp_19) && (s.tmp_19).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.tmp_19);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_19) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_18 = r0;
    r0 = pxsim_String__concat(s.tmp_4, s.tmp_18);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "]: ");
    s.tmp_2 = r0;
    r0 = s.arg0.fields["_header"];
    s.tmp_23 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_23, 4, 14);
    s.tmp_22 = r0;
    if ((s.tmp_22) && (s.tmp_22).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_22);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_22) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_21 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_21);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, " sz=");
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_header"];
    s.tmp_26 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_26, 12);
    s.tmp_25 = r0;
    if ((s.tmp_25) && (s.tmp_25).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_25);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_25) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_24 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_24);
    s.msg___54568 = (r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_2, 12);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 < 20);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    if ((s.msg___54568) && (s.msg___54568).vtable) {
    setupResume(s, 9);
    pxsim_String__stringConv(s.msg___54568);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.msg___54568) + ""; }
  case 9:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_8 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_8);
    s.tmp_7 = r0;
    if ((s.tmp_7) && (s.tmp_7).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.tmp_7);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_7) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(": ", s.tmp_6);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.msg___54568 = (r0);
    { step = 2; continue; }
  case 1:
    if ((s.msg___54568) && (s.msg___54568).vtable) {
    setupResume(s, 12);
    pxsim_String__stringConv(s.msg___54568);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.msg___54568) + ""; }
  case 12:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = s.arg0.fields["_data"];
    s.tmp_8 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_8, 0, 20);
    s.tmp_7 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_7);
    s.tmp_6 = r0;
    if ((s.tmp_6) && (s.tmp_6).vtable) {
    setupResume(s, 13);
    pxsim_String__stringConv(s.tmp_6);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_6) + ""; }
  case 13:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(": ", s.tmp_5);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, "...");
    s.tmp_2 = r0;
    if ((s.tmp_2) && (s.tmp_2).vtable) {
    setupResume(s, 15);
    pxsim_String__stringConv(s.tmp_2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_2) + ""; }
  case 15:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_0, s.tmp_1);
    s.msg___54568 = (r0);
  case 2:
    r0 = s.msg___54568;
    return leave(s, r0)
  default: oops()
} } }
jacdac_JDPacket_toString__P33631.info = {"start":5270,"length":345,"line":167,"column":8,"endLine":172,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"toString","argumentNames":["this"]}

function jacdac_JDPacket_toString__P33631_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_toString__P33631, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  tmp_13: undefined,
  tmp_14: undefined,
  tmp_15: undefined,
  tmp_16: undefined,
  tmp_17: undefined,
  tmp_18: undefined,
  tmp_19: undefined,
  tmp_20: undefined,
  tmp_21: undefined,
  tmp_22: undefined,
  tmp_23: undefined,
  tmp_24: undefined,
  tmp_25: undefined,
  tmp_26: undefined,
  msg___54568: undefined,
  arg0: undefined,
} }





function jacdac_JDPacket_size__P33612(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_JDPacket__C33601_VT)) failedCast(r0);
    r0 = s.arg0.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_0, 12);
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_JDPacket_size__P33612.info = {"start":2544,"length":67,"line":74,"column":8,"endLine":76,"endColumn":9,"fileName":"pxt_modules/jacdac-services/packet.ts","functionName":"size","argumentNames":["this"]}
jacdac_JDPacket_size__P33612.isGetter = true;

function jacdac_JDPacket_size__P33612_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_JDPacket_size__P33612, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_ColorWipe_nextFrame__P33879(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.col___54631 = undefined;
    s.idx___54640 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_ColorWipe__C33877_VT)) failedCast(r0);
    r0 = s.arg0.fields["step"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["length"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.arg0.fields["color"];
    { step = 2; continue; }
  case 1:
    r0 = 0;
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    s.col___54631 = (s.tmp_3);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["step"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["step"] = (s.tmp_1);
    s.idx___54640 = (s.tmp_2);
    r0 = s.arg0.fields["length"];
    s.tmp_1 = r0;
    r0 = (s.idx___54640 >= s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["length"];
    s.tmp_2 = r0;
    r0 = (s.idx___54640 - s.tmp_2);
    s.idx___54640 = (r0);
  case 3:
  case 4:
    r0 = s.arg0.fields["length"];
    s.tmp_1 = r0;
    r0 = (s.idx___54640 >= s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = null;
    { step = 7; continue; }
  case 5:
  case 6:
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.idx___54640);
    r0 = pxsim_Array__push(s.tmp_2, s.col___54631);
    s.tmp_3 = jacdac_lightEncode__P36534_mk(s);
    s.tmp_3.arg0 = "setone % #";
    s.tmp_3.arg1 = s.tmp_2;
    s.callLocIdx = 1677; s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_ColorWipe_nextFrame__P33879.info = {"start":12171,"length":326,"line":351,"column":12,"endLine":358,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"nextFrame","argumentNames":["this"]}

function jacdac_lightanimation_ColorWipe_nextFrame__P33879_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_ColorWipe_nextFrame__P33879, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  col___54631: undefined,
  idx___54640: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_TheaterChase_nextFrame__P33882(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.idx___54671 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_TheaterChase__C33880_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["step"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["step"] = (s.tmp_1);
    r0 = s.arg0.fields["length"];
    s.tmp_4 = r0;
    r0 = (s.tmp_2 >= s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 1; continue; }
    r0 = null;
    { step = 9; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["step"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 % 3);
    s.idx___54671 = (r0);
    r0 = (s.idx___54671 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.arg0.fields["color"];
    { step = 4; continue; }
  case 3:
    r0 = 0;
  case 4:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_1);
    r0 = (s.idx___54671 == 1);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 5; continue; }
    r0 = s.arg0.fields["color"];
    { step = 6; continue; }
  case 5:
    r0 = 0;
  case 6:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_4);
    r0 = (s.idx___54671 == 2);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 7; continue; }
    r0 = s.arg0.fields["color"];
    { step = 8; continue; }
  case 7:
    r0 = 0;
  case 8:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.tmp_6);
    s.tmp_7 = jacdac_lightEncode__P36534_mk(s);
    s.tmp_7.arg0 = "setall # # #";
    s.tmp_7.arg1 = s.tmp_2;
    s.callLocIdx = 1679; s.pc = 10; return s.tmp_7;
  case 10:
    r0 = s.retval;
  case 9:
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_TheaterChase_nextFrame__P33882.info = {"start":12675,"length":359,"line":367,"column":12,"endLine":376,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"nextFrame","argumentNames":["this"]}

function jacdac_lightanimation_TheaterChase_nextFrame__P33882_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_TheaterChase_nextFrame__P33882, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  idx___54671: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_Sparkle_nextFrame__P33876(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.p___54701 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_Sparkle__C33874_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["step"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["step"] = (s.tmp_1);
    r0 = (s.tmp_2 == 0);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 1; continue; }
    s.tmp_4 = jacdac_lightEncode__P36534_mk(s);
    s.tmp_4.arg0 = "setall #000000";
    r0 = pxsim_Array__mk();
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 1673; s.pc = 8; return s.tmp_4;
  case 8:
    r0 = s.retval;
    { step = 7; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["step"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >= 50);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 3; continue; }
    r0 = null;
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = s.arg0.fields["lastpix"];
    s.p___54701 = (r0);
    r0 = (s.p___54701 < 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_1 = r0 = s.arg0;
    r0 = s.arg0.fields["length"];
    s.tmp_4 = r0;
    r0 = (s.tmp_4 - 1);
    s.tmp_3 = r0;
    r0 = pxsim.Math_.randomRange(0, s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1).fields["lastpix"] = (s.tmp_2);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = s.arg0.fields["lastpix"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = s.arg0.fields["color"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_2);
    s.tmp_3 = jacdac_lightEncode__P36534_mk(s);
    s.tmp_3.arg0 = "setone % #";
    s.tmp_3.arg1 = s.tmp_0;
    s.callLocIdx = 1674; s.pc = 9; return s.tmp_3;
  case 9:
    r0 = s.retval;
    { step = 7; continue; }
    { step = 6; continue; }
  case 5:
    r0 = (s.arg0).fields["lastpix"] = (-1);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.p___54701);
    s.tmp_1 = jacdac_lightEncode__P36534_mk(s);
    s.tmp_1.arg0 = "setone % #000000";
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1675; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    { step = 7; continue; }
  case 6:
    r0 = undefined;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_Sparkle_nextFrame__P33876.info = {"start":11434,"length":562,"line":328,"column":12,"endLine":342,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"nextFrame","argumentNames":["this"]}

function jacdac_lightanimation_Sparkle_nextFrame__P33876_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_Sparkle_nextFrame__P33876, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  p___54701: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_RunningLights_nextFrame__P33870(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.stops___54727 = undefined;
    s.stopVals___54733 = undefined;
    s.i___54735 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_RunningLights__C33868_VT)) failedCast(r0);
    s.tmp_0 = Math_clamp__P29549_mk(s);
    s.tmp_0.arg0 = 2;
    s.tmp_0.arg1 = 70;
    r0 = s.arg0.fields["length"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 4);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1666; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.stops___54727 = (r0);
    r0 = pxsim_Array__mk();
    s.stopVals___54733 = (r0);
    s.i___54735 = (0);
  case 1:
    r0 = (s.i___54735 < s.stops___54727);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    s.tmp_1 = r0 = s.stopVals___54733;
    s.tmp_3 = jacdac_lightanimation_scale__P36537_mk(s);
    r0 = s.arg0.fields["color"];
    s.tmp_3.arg0 = r0;
    s.tmp_4 = Math_isin__P29700_mk(s);
    r0 = s.arg0.fields["step"];
    s.tmp_5 = r0;
    r0 = s.arg0.fields["length"];
    s.tmp_8 = r0;
    r0 = (s.i___54735 * s.tmp_8);
    s.tmp_7 = r0;
    r0 = pxsim.Math_.idiv(s.tmp_7, s.stops___54727);
    s.tmp_6 = r0;
    r0 = (s.tmp_5 + s.tmp_6);
    s.tmp_4.arg0 = r0;
    s.callLocIdx = 1667; s.pc = 8; return s.tmp_4;
  case 8:
    r0 = s.retval;
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 1668; s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_1, s.tmp_2);
    r0 = (s.i___54735 + 1);
    s.i___54735 = (r0);
    { step = 1; continue; }
  case 2:
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["step"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["step"] = (s.tmp_1);
    r0 = s.arg0.fields["step"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >= 256);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = null;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = pxsim_Array__mk();
    s.tmp_2 = r0;
    r0 = pxsim_Array__push(s.tmp_2, s.stopVals___54733);
    s.tmp_3 = jacdac_lightEncode__P36534_mk(s);
    s.tmp_3.arg0 = "fade #";
    s.tmp_3.arg1 = s.tmp_2;
    s.callLocIdx = 1669; s.pc = 9; return s.tmp_3;
  case 9:
    r0 = s.retval;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_RunningLights_nextFrame__P33870.info = {"start":10337,"length":455,"line":291,"column":12,"endLine":302,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"nextFrame","argumentNames":["this"]}

function jacdac_lightanimation_RunningLights_nextFrame__P33870_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_RunningLights_nextFrame__P33870, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  stops___54727: undefined,
  stopVals___54733: undefined,
  i___54735: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_scale__P36537(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Math_clamp__P29549_mk(s);
    s.tmp_0.arg0 = 0;
    s.tmp_0.arg1 = 255;
    s.tmp_0.arg2 = s.arg1;
    s.callLocIdx = 1664; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.arg1 = (r0);
    r0 = (s.arg0 >> 16);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 * s.arg1);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 >> 8);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 << 16);
    s.tmp_1 = r0;
    r0 = (s.arg0 >> 8);
    s.tmp_9 = r0;
    r0 = (s.tmp_9 & 255);
    s.tmp_8 = r0;
    r0 = (s.tmp_8 * s.arg1);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 >> 8);
    s.tmp_6 = r0;
    r0 = (s.tmp_6 << 8);
    s.tmp_5 = r0;
    r0 = (s.tmp_1 | s.tmp_5);
    s.tmp_0 = r0;
    r0 = (s.arg0 & 255);
    s.tmp_12 = r0;
    r0 = (s.tmp_12 * s.arg1);
    s.tmp_11 = r0;
    r0 = (s.tmp_11 >> 8);
    s.tmp_10 = r0;
    r0 = (s.tmp_0 | s.tmp_10);
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_scale__P36537.info = {"start":9850,"length":263,"line":277,"column":8,"endLine":282,"endColumn":9,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"scale","argumentNames":["col","level"]}

function jacdac_lightanimation_scale__P36537_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_scale__P36537, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Math_isin__P29700(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.offset___54771 = undefined;
    s.secoffset___54782 = undefined;
    s.section___54789 = undefined;
    s.s2___54792 = undefined;
    s.b___54795 = undefined;
    s.m16___54799 = undefined;
    s.mx___54804 = undefined;
    s.y___54810 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.offset___54771 = (s.arg0);
    r0 = (s.arg0 & 64);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (255 - s.offset___54771);
    s.offset___54771 = (r0);
  case 1:
  case 2:
    r0 = (s.offset___54771 & 63);
    s.offset___54771 = (r0);
    r0 = (s.offset___54771 & 15);
    s.secoffset___54782 = (r0);
    r0 = (s.arg0 & 64);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = (s.secoffset___54782 + 1);
    s.secoffset___54782 = (r0);
  case 3:
  case 4:
    r0 = (s.offset___54771 >> 4);
    s.section___54789 = (r0);
    r0 = (s.section___54789 * 2);
    s.s2___54792 = (r0);
    r0 = pxsim_Array__getAt(globals.b_m16___34315, s.s2___54792);
    s.b___54795 = (r0);
    s.tmp_0 = r0 = globals.b_m16___34315;
    r0 = (s.s2___54792 + 1);
    s.tmp_1 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.tmp_1);
    s.m16___54799 = (r0);
    r0 = (s.m16___54799 * s.secoffset___54782);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 >> 4);
    s.mx___54804 = (r0);
    r0 = (s.mx___54804 + s.b___54795);
    s.y___54810 = (r0);
    r0 = (s.arg0 & 128);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = (0 - s.y___54810);
    s.y___54810 = (r0);
  case 5:
  case 6:
    r0 = (s.y___54810 + 128);
    s.y___54810 = (r0);
    r0 = s.y___54810;
    return leave(s, r0)
  default: oops()
} } }
Math_isin__P29700.info = {"start":2085,"length":655,"line":44,"column":4,"endLine":68,"endColumn":5,"fileName":"pxt_modules/base/math.ts","functionName":"isin","argumentNames":["theta"]}

function Math_isin__P29700_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_isin__P29700, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  offset___54771: undefined,
  secoffset___54782: undefined,
  section___54789: undefined,
  s2___54792: undefined,
  b___54795: undefined,
  m16___54799: undefined,
  mx___54804: undefined,
  y___54810: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_RainbowCycle_nextFrame__P33867(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.off___54859 = undefined;
    s.c0___54865 = undefined;
    s.c1___54866 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_RainbowCycle__C33866_VT)) failedCast(r0);
    r0 = s.arg0.fields["length"];
    s.tmp_1 = r0;
    r0 = pxsim.Math_.idiv(128, s.tmp_1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 << 16);
    s.off___54859 = (r0);
    s.c0___54865 = (65535);
    s.c1___54866 = (16777215);
    r0 = s.arg0.fields["step"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = (s.c0___54865 + s.off___54859);
    s.c0___54865 = (r0);
    { step = 2; continue; }
  case 1:
    r0 = (s.c1___54866 - s.off___54859);
    s.c1___54866 = (r0);
  case 2:
    r0 = s.arg0.fields["step"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["length"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 << 1);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 > s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = null;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = pxsim_Array__mk();
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_4, s.c0___54865);
    r0 = pxsim_Array__push(s.tmp_4, s.c1___54866);
    s.tmp_5 = r0 = s.arg0;
    r0 = s.tmp_5.fields["step"];
    s.tmp_7 = r0;
    r0 = (s.tmp_7 + 1);
    s.tmp_6 = r0;
    r0 = (s.tmp_5).fields["step"] = (s.tmp_6);
    r0 = (s.tmp_7 >> 1);
    s.tmp_8 = r0;
    r0 = pxsim_Array__push(s.tmp_4, s.tmp_8);
    s.tmp_9 = jacdac_lightEncode__P36534_mk(s);
    s.tmp_9.arg0 = "fadehsv # # rotback %";
    s.tmp_9.arg1 = s.tmp_4;
    s.callLocIdx = 1663; s.pc = 6; return s.tmp_9;
  case 6:
    r0 = s.retval;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_RainbowCycle_nextFrame__P33867.info = {"start":9315,"length":515,"line":264,"column":12,"endLine":274,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"nextFrame","argumentNames":["this"]}

function jacdac_lightanimation_RainbowCycle_nextFrame__P33867_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_RainbowCycle_nextFrame__P33867, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  off___54859: undefined,
  c0___54865: undefined,
  c1___54866: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_Fireflys_nextFrame__P33887(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.num___54910 = undefined;
    s.i___54917 = undefined;
    s.cmd___54934 = undefined;
    s.args___54935 = undefined;
    s.i___54937 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_Fireflys__C33883_VT)) failedCast(r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["step"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["step"] = (s.tmp_1);
    r0 = s.arg0.fields["length"];
    s.tmp_4 = r0;
    r0 = (s.tmp_2 >= s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 1; continue; }
    r0 = null;
    { step = 9; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["positions"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 == null);
    s.tmp_5 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_5);
    if (!r0) { step = 5; continue; }
    s.tmp_7 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_8 = r0;
    r0 = (s.tmp_7).fields["positions"] = (s.tmp_8);
    r0 = s.arg0.fields["length"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 >> 4);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 2);
    s.num___54910 = (r0);
    s.i___54917 = (0);
  case 3:
    r0 = (s.i___54917 < s.num___54910);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = s.arg0.fields["positions"];
    s.tmp_1 = r0;
    s.tmp_2 = r0 = s.i___54917;
    r0 = s.arg0.fields["length"];
    s.tmp_5 = r0;
    r0 = (s.tmp_5 - 1);
    s.tmp_4 = r0;
    r0 = pxsim.Math_.randomRange(0, s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_1, s.tmp_2, s.tmp_3);
    r0 = (s.i___54917 + 1);
    s.i___54917 = (r0);
    { step = 3; continue; }
  case 4:
  case 5:
  case 6:
    s.cmd___54934 = ("mult 0.8 ");
    r0 = pxsim_Array__mk();
    s.args___54935 = (r0);
    s.i___54937 = (0);
  case 7:
    s.tmp_1 = r0 = s.i___54937;
    r0 = s.arg0.fields["positions"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 8; continue; }
    r0 = s.arg0.fields["positions"];
    s.tmp_4 = r0;
    s.tmp_5 = r0 = s.i___54937;
    s.tmp_7 = Math_clamp__P29549_mk(s);
    s.tmp_7.arg0 = 0;
    r0 = s.arg0.fields["length"];
    s.tmp_8 = r0;
    r0 = (s.tmp_8 - 1);
    s.tmp_7.arg1 = r0;
    r0 = s.arg0.fields["positions"];
    s.tmp_10 = r0;
    r0 = pxsim_Array__getAt(s.tmp_10, s.i___54937);
    s.tmp_9 = r0;
    r0 = pxsim.Math_.randomRange(-1, 1);
    s.tmp_11 = r0;
    r0 = (s.tmp_9 + s.tmp_11);
    s.tmp_7.arg2 = r0;
    s.callLocIdx = 1681; s.pc = 10; return s.tmp_7;
  case 10:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_4, s.tmp_5, s.tmp_6);
    if ((s.cmd___54934) && (s.cmd___54934).vtable) {
    setupResume(s, 11);
    pxsim_String__stringConv(s.cmd___54934);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.cmd___54934) + ""; }
  case 11:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "setone % # ");
    s.cmd___54934 = (r0);
    s.tmp_0 = r0 = s.args___54935;
    r0 = s.arg0.fields["positions"];
    s.tmp_2 = r0;
    r0 = pxsim_Array__getAt(s.tmp_2, s.i___54937);
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = s.arg0.fields["color"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.args___54935, s.tmp_0);
    r0 = (s.i___54937 + 1);
    s.i___54937 = (r0);
    { step = 7; continue; }
  case 8:
    s.tmp_0 = jacdac_lightEncode__P36534_mk(s);
    s.tmp_0.arg0 = s.cmd___54934;
    s.tmp_0.arg1 = s.args___54935;
    s.callLocIdx = 1682; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
  case 9:
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_Fireflys_nextFrame__P33887.info = {"start":13315,"length":878,"line":390,"column":12,"endLine":409,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"nextFrame","argumentNames":["this"]}

function jacdac_lightanimation_Fireflys_nextFrame__P33887_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_Fireflys_nextFrame__P33887, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  num___54910: undefined,
  i___54917: undefined,
  cmd___54934: undefined,
  args___54935: undefined,
  i___54937: undefined,
  arg0: undefined,
} }





function jacdac_lightanimation_Fireflys_clear__P33886(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_Fireflys__C33883_VT)) failedCast(r0);
    r0 = (s.arg0).fields["positions"] = (null);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_Fireflys_clear__P33886.info = {"start":13240,"length":61,"line":386,"column":12,"endLine":388,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"clear","argumentNames":["this"]}

function jacdac_lightanimation_Fireflys_clear__P33886_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_Fireflys_clear__P33886, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_lightanimation_Comet_nextFrame__P33873(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.off___54989 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_lightanimation_Comet__C33871_VT)) failedCast(r0);
    r0 = s.arg0.fields["step"];
    s.tmp_1 = r0;
    r0 = s.arg0.fields["step"];
    s.tmp_2 = r0;
    r0 = (s.tmp_1 * s.tmp_2);
    s.tmp_0 = r0;
    r0 = s.arg0.fields["length"];
    s.tmp_3 = r0;
    r0 = (s.tmp_0 % s.tmp_3);
    s.off___54989 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["step"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["step"] = (s.tmp_1);
    r0 = (s.tmp_2 >= 20);
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 1; continue; }
    r0 = null;
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = pxsim_Array__mk();
    s.tmp_4 = r0;
    r0 = s.arg0.fields["color"];
    s.tmp_5 = r0;
    r0 = pxsim_Array__push(s.tmp_4, s.tmp_5);
    r0 = s.arg0.fields["color"];
    s.tmp_7 = r0;
    r0 = (s.tmp_7 & 65535);
    s.tmp_6 = r0;
    r0 = pxsim_Array__push(s.tmp_4, s.tmp_6);
    r0 = pxsim_Array__push(s.tmp_4, s.off___54989);
    s.tmp_8 = jacdac_lightEncode__P36534_mk(s);
    s.tmp_8.arg0 = "fade # # rotback %";
    s.tmp_8.arg1 = s.tmp_4;
    s.callLocIdx = 1671; s.pc = 4; return s.tmp_8;
  case 4:
    r0 = s.retval;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
jacdac_lightanimation_Comet_nextFrame__P33873.info = {"start":10963,"length":263,"line":311,"column":12,"endLine":316,"endColumn":13,"fileName":"pxt_modules/jacdac-services/lightclient.ts","functionName":"nextFrame","argumentNames":["this"]}

function jacdac_lightanimation_Comet_nextFrame__P33873_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_lightanimation_Comet_nextFrame__P33873, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  off___54989: undefined,
  arg0: undefined,
} }





function jacdac_WifiController_MACaddress__P34087(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    r0 = s.arg0.fields["wifiClient"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["wifiClient"];
    r0 = r0.fields["device"];
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.tmp_2 = Buffer_fromHex__P29623_mk(s);
    s.tmp_3 = helpers_stringSlice__P29542_mk(s);
    r0 = s.arg0.fields["wifiClient"];
    r0 = r0.fields["device"];
    r0 = r0.fields["deviceId"];
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = 2;
    s.tmp_3.arg2 = 14;
    s.callLocIdx = 1773; s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 1774; s.pc = 6; return s.tmp_2;
  case 6:
    r0 = s.retval;
    { step = 5; continue; }
  case 3:
  case 4:
    r0 = undefined;
  case 5:
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_WifiController_MACaddress__P34087.info = {"start":7459,"length":208,"line":248,"column":8,"endLine":252,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"MACaddress","argumentNames":["this"]}
jacdac_WifiController_MACaddress__P34087.isGetter = true;

function jacdac_WifiController_MACaddress__P34087_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_MACaddress__P34087, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function jacdac_WifiController_connect__P34085(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.wifis___55178 = undefined;
    s.ssids___55181 = undefined;
    s.networks___55185 = undefined;
    s.network___55202 = undefined;
    s.unnamed544___U4 = undefined;
    s.unnamed545___U5 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    s.tmp_1 = jacdac_WifiController__C34070_v8_1_mk(s);
    s.tmp_1.arg0 = s.arg0;
    if (!checkSubtype(s.tmp_1.arg0, jacdac_WifiController__C34070_VT)) failedCast(s.tmp_1.arg0);
    s.tmp_1.fn = s.tmp_1.arg0.vtable.methods.isConnected;
    s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = true;
    { step = 7; continue; }
  case 1:
  case 2:
    s.tmp_2 = net_knownAccessPoints__P34175_mk(s);
    s.callLocIdx = 1767; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    s.wifis___55178 = (r0);
    r0 = pxsim_pxtrt.keysOf(s.wifis___55178);
    s.ssids___55181 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P55187);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.ssids___55181);
    s.tmp_1 = helpers_arrayFilter__P29535_mk(s);
    s.tmp_2 = jacdac_WifiController__C34070_v0_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!checkSubtype(s.tmp_2.arg0, jacdac_WifiController__C34070_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.scanNetworks;
    s.pc = 11; return s.tmp_2;
  case 11:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1768; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    s.networks___55185 = (r0);
    s.network___55202 = (undefined);
    s.unnamed544___U4 = (s.networks___55185);
    s.unnamed545___U5 = (0);
  case 3:
    s.tmp_0 = r0 = s.unnamed545___U5;
    r0 = pxsim_Array__length(s.unnamed544___U4);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 6; continue; }
    r0 = pxsim_Array__getAt(s.unnamed544___U4, s.unnamed545___U5);
    s.network___55202 = (r0);
    r0 = pxsim_pxtcore.beginTry(4);
    s.tmp_0 = jacdac_WifiClient_connect__P34056_mk(s);
    r0 = s.arg0.fields["wifiClient"];
    s.tmp_0.arg0 = r0;
    r0 = s.network___55202.fields["ssid"];
    s.tmp_0.arg1 = r0;
    r0 = s.network___55202.fields["ssid"];
    s.tmp_1 = r0;
    r0 = pxsim_pxtrt.mapGetGeneric(s.wifis___55178, s.tmp_1);
    s.tmp_0.arg2 = r0;
    s.callLocIdx = 1769; s.pc = 12; return s.tmp_0;
  case 12:
    r0 = s.retval;
    r0 = s.network___55202.fields["ssid"];
    s.tmp_0 = r0;
    r0 = (s.arg0).fields["_ssid"] = (s.tmp_0);
    s.tmp_0 = net_log__P34148_mk(s);
    r0 = s.network___55202.fields["ssid"];
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 14);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 14:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("connected to '", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "'");
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1770; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
    r0 = true;
    { step = 7; continue; }
    r0 = pxsim_pxtcore.endTry();
    { step = 5; continue; }
  case 4:
    s.tmp_0 = net_log__P34148_mk(s);
    r0 = s.network___55202.fields["ssid"];
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 16);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 16:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_String__concat("can't connect to '", s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_String__concat(s.tmp_1, "'");
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1771; s.pc = 15; return s.tmp_0;
  case 15:
    r0 = s.retval;
  case 5:
    r0 = (s.unnamed545___U5 + 1);
    s.unnamed545___U5 = (r0);
    { step = 3; continue; }
  case 6:
    s.unnamed544___U4 = (undefined);
    s.tmp_0 = net_log__P34148_mk(s);
    s.tmp_0.arg0 = "connection failed";
    s.callLocIdx = 1772; s.pc = 17; return s.tmp_0;
  case 17:
    r0 = s.retval;
    r0 = false;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiController_connect__P34085.info = {"start":6537,"length":863,"line":223,"column":8,"endLine":245,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"connect","argumentNames":["this"]}

function jacdac_WifiController_connect__P34085_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_connect__P34085, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  wifis___55178: undefined,
  ssids___55181: undefined,
  networks___55185: undefined,
  network___55202: undefined,
  unnamed544___U4: undefined,
  unnamed545___U5: undefined,
  arg0: undefined,
} }





function inline__P55187(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["ssid"];
    s.tmp_1 = r0;
    r0 = pxsim_Array_.indexOf(s.caps[0], s.tmp_1, undefined);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 > -1);
    return leave(s, r0)
  default: oops()
} } }
inline__P55187.info = {"start":6783,"length":43,"line":229,"column":24,"endLine":229,"endColumn":67,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"inline","argumentNames":["network"]}

function inline__P55187_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P55187, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function net_knownAccessPoints__P34175(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.tmp_1 = settings_SecretStore_readSecret__P31303_mk(s);
    s.tmp_1.arg0 = globals.deviceSecrets___31306;
    s.tmp_1.arg1 = globals.AP_SECRETS_KEY___36624;
    s.tmp_1.arg2 = false;
    s.callLocIdx = 1816; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_pxtrt.mkMap();
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
    return leave(s, r0)
  default: oops()
} } }
net_knownAccessPoints__P34175.info = {"start":3044,"length":126,"line":107,"column":4,"endLine":109,"endColumn":5,"fileName":"pxt_modules/net/net.ts","functionName":"knownAccessPoints","argumentNames":[]}

function net_knownAccessPoints__P34175_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_knownAccessPoints__P34175, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
} }





function settings_SecretStore_constructor__P31300(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, settings_SecretStore__C31299_VT)) failedCast(r0);
    r0 = (s.arg0).fields["key"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
settings_SecretStore_constructor__P31300.info = {"start":4521,"length":36,"line":182,"column":8,"endLine":182,"endColumn":44,"fileName":"pxt_modules/settings/settings.ts","functionName":"inline","argumentNames":["this","key"]}

function settings_SecretStore_constructor__P31300_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_SecretStore_constructor__P31300, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function settings_SecretStore_readSecret__P31303(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.secrets___55552 = undefined;
    s.secret___55555 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, settings_SecretStore__C31299_VT)) failedCast(r0);
    s.tmp_0 = settings_SecretStore_readSecrets__P31305_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 219; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.secrets___55552 = (r0);
    r0 = pxsim_pxtrt.mapGetGeneric(s.secrets___55552, s.arg1);
    s.secret___55555 = (r0);
    s.tmp_0 = r0 = s.arg2;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_numops_toBoolDecr(s.secret___55555);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat("missing secret ", s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim.control.dmesg(s.tmp_3);
    r0 = pxsim_pxtrt.panic(922);
  case 3:
  case 4:
    r0 = s.secret___55555;
    return leave(s, r0)
  default: oops()
} } }
settings_SecretStore_readSecret__P31303.info = {"start":5135,"length":365,"line":200,"column":8,"endLine":208,"endColumn":9,"fileName":"pxt_modules/settings/settings.ts","functionName":"readSecret","argumentNames":["this","name","ensure"]}

function settings_SecretStore_readSecret__P31303_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_SecretStore_readSecret__P31303, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  secrets___55552: undefined,
  secret___55555: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function settings_SecretStore_readSecrets__P31305(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.src___55576 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, settings_SecretStore__C31299_VT)) failedCast(r0);
    r0 = pxsim_pxtcore.beginTry(5);
    s.tmp_1 = settings_readString__P31293_mk(s);
    r0 = s.arg0.fields["key"];
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 220; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = "{}";
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.src___55576 = (s.tmp_2);
    s.tmp_1 = JSON_parse__P29804_mk(s);
    s.tmp_1.arg0 = s.src___55576;
    s.callLocIdx = 221; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = pxsim_pxtrt.mkMap();
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
    { step = 7; continue; }
    r0 = pxsim_pxtcore.endTry();
    { step = 6; continue; }
  case 5:
    r0 = pxsim.control.dmesg("invalid secret format");
    r0 = pxsim_pxtrt.mkMap();
    { step = 7; continue; }
  case 6:
    r0 = undefined;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
settings_SecretStore_readSecrets__P31305.info = {"start":5587,"length":270,"line":214,"column":8,"endLine":222,"endColumn":9,"fileName":"pxt_modules/settings/settings.ts","functionName":"readSecrets","argumentNames":["this"]}

function settings_SecretStore_readSecrets__P31305_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: settings_SecretStore_readSecrets__P31305, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  src___55576: undefined,
  arg0: undefined,
} }





function jacdac_WifiController_scanNetworks__P34075(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    s.tmp_0 = jacdac_WifiController_start__P34074_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1756; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P55272);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = pauseUntil__P29783_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = undefined;
    s.callLocIdx = 1758; s.pc = 2; return s.tmp_1;
  case 2:
    r0 = s.retval;
    s.tmp_0 = jacdac_WifiClient_scan__P34055_mk(s);
    r0 = s.arg0.fields["wifiClient"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1759; s.pc = 3; return s.tmp_0;
  case 3:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiController_scanNetworks__P34075.info = {"start":4256,"length":179,"line":148,"column":8,"endLine":152,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"scanNetworks","argumentNames":["this"]}

function jacdac_WifiController_scanNetworks__P34075_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_scanNetworks__P34075, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function inline__P55272(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["wifiClient"];
    s.tmp_0 = r0;
    r0 = s.tmp_0.fields["device"];
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P55272.info = {"start":4347,"length":35,"line":150,"column":23,"endLine":150,"endColumn":58,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"inline","argumentNames":[]}

function inline__P55272_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P55272, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
} }





function jacdac_WifiController_start__P34074(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    r0 = s.arg0.fields["wifiClient"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_WifiClient__C34051_VT);
    s.tmp_1 = r0;
    s.tmp_2 = jacdac_WifiClient_constructor__P34052_mk(s);
    s.tmp_2.arg0 = s.tmp_1;
    s.tmp_2.arg1 = null;
    s.callLocIdx = 1752; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    r0 = (s.arg0).fields["wifiClient"] = (s.tmp_1);
    s.tmp_0 = jacdac_Client_start__P33551_mk(s);
    r0 = s.arg0.fields["wifiClient"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1753; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_TcpClient__C34065_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_TcpClient_constructor__P34067_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = null;
    s.callLocIdx = 1754; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = (s.arg0).fields["tcpClient"] = (s.tmp_0);
    s.tmp_0 = jacdac_Client_start__P33551_mk(s);
    r0 = s.arg0.fields["tcpClient"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1755; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiController_start__P34074.info = {"start":4007,"length":239,"line":138,"column":8,"endLine":146,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"start","argumentNames":["this"]}

function jacdac_WifiController_start__P34074_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_start__P34074, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function jacdac_TcpClient_constructor__P34067(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_TcpClient__C34065_VT)) failedCast(r0);
    r0 = (s.arg0).fields["_retPort"] = (null);
    s.tmp_0 = jacdac_Client_constructor__P33538_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "tcp";
    s.tmp_0.arg2 = 457422603;
    s.tmp_0.arg3 = s.arg1;
    s.callLocIdx = 1747; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_TcpClient_constructor__P34067.info = {"start":3364,"length":110,"line":111,"column":8,"endLine":113,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"inline","argumentNames":["this","requiredDevice"]}

function jacdac_TcpClient_constructor__P34067_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_TcpClient_constructor__P34067, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_WifiClient_constructor__P34052(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiClient__C34051_VT)) failedCast(r0);
    r0 = (s.arg0).fields["gotIP"] = (false);
    s.tmp_0 = jacdac_Client_constructor__P33538_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = "wifi";
    s.tmp_0.arg2 = 413852154;
    s.tmp_0.arg3 = s.arg1;
    s.callLocIdx = 1721; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiClient_constructor__P34052.info = {"start":606,"length":112,"line":22,"column":8,"endLine":24,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"inline","argumentNames":["this","requiredDevice"]}

function jacdac_WifiClient_constructor__P34052_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiClient_constructor__P34052, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_WifiClient_scan__P34055(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___55284 = undefined;
    s.elts___55294 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiClient__C34051_VT)) failedCast(r0);
    r0 = s.arg0.fields["device"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    { step = 3; continue; }
  case 1:
  case 2:
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_InStream__C33659_VT);
    s.tmp_3 = r0;
    s.tmp_4 = jacdac_InStream_constructor__P33661_mk(s);
    s.tmp_4.arg0 = s.tmp_3;
    r0 = s.arg0.fields["device"];
    s.tmp_4.arg1 = r0;
    s.callLocIdx = 1724; s.pc = 4; return s.tmp_4;
  case 4:
    r0 = s.retval;
    s.s___55284 = (s.tmp_3);
    s.tmp_0 = jacdac_Client_sendCommandWithAck__P33547_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_1.arg0 = 128;
    s.tmp_2 = jacdac_InStream_openInfo__P33662_mk(s);
    s.tmp_2.arg0 = s.s___55284;
    s.callLocIdx = 1725; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1726; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1727; s.pc = 5; return s.tmp_0;
  case 5:
    r0 = s.retval;
    s.tmp_0 = jacdac_InStream_readList__P33668_mk(s);
    s.tmp_0.arg0 = s.s___55284;
    s.tmp_0.arg1 = jacdac_decodeAP__P36599;
    s.callLocIdx = 1728; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.elts___55294 = (r0);
    s.tmp_0 = helpers_arraySort__P29530_mk(s);
    s.tmp_0.arg0 = s.elts___55294;
    s.tmp_0.arg1 = inline__P55301;
    s.callLocIdx = 1729; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = s.elts___55294;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiClient_scan__P34055.info = {"start":1175,"length":300,"line":43,"column":8,"endLine":50,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"scan","argumentNames":["this"]}

function jacdac_WifiClient_scan__P34055_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiClient_scan__P34055, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  s___55284: undefined,
  elts___55294: undefined,
  arg0: undefined,
} }





function inline__P55301(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg1.fields["rssi"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["rssi"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P55301.info = {"start":1415,"length":25,"line":48,"column":22,"endLine":48,"endColumn":47,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"inline","argumentNames":["x","y"]}

function inline__P55301_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P55301, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_decodeAP__P36599(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.flags___55315 = undefined;
    s.reserved___55316 = undefined;
    s.rssi___55317 = undefined;
    s.channel___55318 = undefined;
    s.p___55319 = undefined;
    s.ssid___55325 = undefined;
    s.r___55333 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_1 = helpers_bufferUnpack__P29609_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = "IIbB";
    s.tmp_1.arg2 = undefined;
    s.callLocIdx = 1719; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, 0);
    s.flags___55315 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 1);
    s.reserved___55316 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 2);
    s.rssi___55317 = (r0);
    r0 = pxsim_Array__getAt(s.tmp_0, 3);
    s.channel___55318 = (r0);
    s.p___55319 = (16);
  case 1:
    r0 = pxsim.BufferMethods.getByte(s.arg0, s.p___55319);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = (s.p___55319 + 1);
    s.p___55319 = (r0);
    { step = 1; continue; }
  case 2:
    s.tmp_1 = r0 = s.arg0;
    r0 = (s.p___55319 - 16);
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_1, 16, s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.toString(s.tmp_0);
    s.ssid___55325 = (r0);
    r0 = pxsim_pxtcore_mkClassInstance(net_AccessPoint__C34152_VT);
    s.tmp_0 = r0;
    s.tmp_1 = net_AccessPoint_constructor__P34155_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.ssid___55325;
    s.callLocIdx = 1720; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    s.r___55333 = (s.tmp_0);
    r0 = (s.flags___55315 & 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = 4;
    { step = 4; continue; }
  case 3:
    r0 = 7;
  case 4:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = (s.r___55333).fields["encryption"] = (s.tmp_1);
    r0 = (s.r___55333).fields["rssi"] = (s.rssi___55317);
    r0 = s.r___55333;
    return leave(s, r0)
  default: oops()
} } }
jacdac_decodeAP__P36599.info = {"start":167,"length":353,"line":8,"column":4,"endLine":17,"endColumn":5,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"decodeAP","argumentNames":["buf"]}

function jacdac_decodeAP__P36599_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_decodeAP__P36599, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  flags___55315: undefined,
  reserved___55316: undefined,
  rssi___55317: undefined,
  channel___55318: undefined,
  p___55319: undefined,
  ssid___55325: undefined,
  r___55333: undefined,
  arg0: undefined,
} }





function net_AccessPoint_constructor__P34155(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_AccessPoint__C34152_VT)) failedCast(r0);
    r0 = (s.arg0).fields["ssid"] = (s.arg1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_AccessPoint_constructor__P34155.info = {"start":774,"length":36,"line":30,"column":8,"endLine":30,"endColumn":44,"fileName":"pxt_modules/net/net.ts","functionName":"inline","argumentNames":["this","ssid"]}

function net_AccessPoint_constructor__P34155_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_AccessPoint_constructor__P34155, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_InStream_readList__P33668(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.r___55348 = undefined;
    s.buf___55351 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_InStream__C33659_VT)) failedCast(r0);
    r0 = pxsim_Array__mk();
    s.r___55348 = (r0);
  case 1:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 6; continue; }
    s.tmp_0 = jacdac_InStream_read__P33664_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1546; s.pc = 8; return s.tmp_0;
  case 8:
    r0 = s.retval;
    s.buf___55351 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.buf___55351);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.r___55348;
    { step = 7; continue; }
  case 2:
  case 3:
    r0 = pxsim.BufferMethods.length(s.buf___55351);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 4; continue; }
    s.tmp_3 = r0 = s.r___55348;
    s.tmp_5 = lambda_2_mk(s);
    s.tmp_5.argL = s.arg1;
    s.tmp_5.arg0 = s.buf___55351;
    setupLambda(s.tmp_5, s.tmp_5.argL);
    s.callLocIdx = 1547; s.pc = 9; return s.tmp_5;
  case 9:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_Array__push(s.tmp_3, s.tmp_4);
  case 4:
  case 5:
    { step = 1; continue; }
  case 6:
    r0 = undefined;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_InStream_readList__P33668.info = {"start":2485,"length":257,"line":89,"column":8,"endLine":97,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"readList","argumentNames":["this","f"]}

function jacdac_InStream_readList__P33668_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_InStream_readList__P33668, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  r___55348: undefined,
  buf___55351: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_InStream_read__P33664(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_InStream__C33659_VT)) failedCast(r0);
  case 1:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 6; continue; }
    r0 = s.arg0.fields["inQ"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__length(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 2; continue; }
    r0 = s.arg0.fields["inQ"];
    s.tmp_2 = r0;
    r0 = pxsim_Array_.removeAt(s.tmp_2, 0);
    { step = 7; continue; }
  case 2:
  case 3:
    r0 = s.arg0.fields["closed"];
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 4; continue; }
    r0 = null;
    { step = 7; continue; }
  case 4:
  case 5:
    r0 = s.arg0.fields["eventId"];
    s.tmp_4 = r0;
    setupResume(s, 8);
    pxsim.control.waitForEvent(1023, s.tmp_4);
    checkResumeConsumed();
    return;
  case 8:
    r0 = s.retval;
    { step = 1; continue; }
  case 6:
    r0 = undefined;
  case 7:
    return leave(s, r0)
  default: oops()
} } }
jacdac_InStream_read__P33664.info = {"start":1476,"length":281,"line":50,"column":8,"endLine":60,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"read","argumentNames":["this"]}

function jacdac_InStream_read__P33664_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_InStream_read__P33664, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }





function jacdac_InStream_openInfo__P33662(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.b___55384 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_InStream__C33659_VT)) failedCast(r0);
    r0 = pxsim_Array__mk();
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, 0);
    r0 = pxsim_Array__push(s.tmp_0, 0);
    r0 = s.arg0.fields["port"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = pxsim_Array__push(s.tmp_0, 0);
    s.tmp_2 = Buffer_pack__P29629_mk(s);
    s.tmp_2.arg0 = "IIHH";
    s.tmp_2.arg1 = s.tmp_0;
    s.callLocIdx = 1536; s.pc = 1; return s.tmp_2;
  case 1:
    r0 = s.retval;
    s.b___55384 = (r0);
    s.tmp_0 = r0 = s.b___55384;
    s.tmp_2 = Buffer_fromHex__P29623_mk(s);
    s.tmp_3 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 1537; s.pc = 3; return s.tmp_3;
  case 3:
    r0 = s.retval;
    r0 = r0.fields["deviceId"];
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 1538; s.pc = 2; return s.tmp_2;
  case 2:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.write(s.tmp_0, 0, s.tmp_1);
    r0 = s.b___55384;
    return leave(s, r0)
  default: oops()
} } }
jacdac_InStream_openInfo__P33662.info = {"start":1142,"length":169,"line":37,"column":8,"endLine":41,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"openInfo","argumentNames":["this"]}

function jacdac_InStream_openInfo__P33662_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_InStream_openInfo__P33662, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  b___55384: undefined,
  arg0: undefined,
} }





function jacdac_InStream_constructor__P33661(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_InStream__C33659_VT)) failedCast(r0);
    r0 = (s.arg0).fields["remote"] = (s.arg1);
    r0 = (s.arg0).fields["nextCnt"] = (0);
    r0 = (s.arg0).fields["closed"] = (false);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.allocateNotifyEvent();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["eventId"] = (s.tmp_1);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["inQ"] = (s.tmp_1);
    r0 = pxsim_numops_toBoolDecr(globals.streams___36467);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_Array__mk();
    globals.streams___36467 = (r0);
    s.tmp_0 = jacdac_onRawPacket__P33577_mk(s);
    s.tmp_0.arg0 = jacdac_handleStreamData__P36468;
    s.callLocIdx = 1534; s.pc = 7; return s.tmp_0;
  case 7:
    r0 = s.retval;
  case 1:
  case 2:
  case 3:
    r0 = pxsim_numops_toBoolDecr(true);
    if (!r0) { step = 6; continue; }
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.Math_.randomRange(1, 511);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["port"] = (s.tmp_1);
    r0 = pxsim_pxtcore_mkAction(1, inline__P55421);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_2 = helpers_arrayEvery__P29533_mk(s);
    s.tmp_2.arg0 = globals.streams___36467;
    s.tmp_2.arg1 = s.tmp_0;
    s.callLocIdx = 1535; s.pc = 8; return s.tmp_2;
  case 8:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    { step = 6; continue; }
  case 4:
  case 5:
    { step = 3; continue; }
  case 6:
    r0 = pxsim_Array__push(globals.streams___36467, s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_InStream_constructor__P33661.info = {"start":667,"length":465,"line":22,"column":8,"endLine":35,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"inline","argumentNames":["this","remote"]}

function jacdac_InStream_constructor__P33661_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_InStream_constructor__P33661, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P55421(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["port"];
    s.tmp_0 = r0;
    r0 = s.caps[0].fields["port"];
    s.tmp_1 = r0;
    r0 = (s.tmp_0 != s.tmp_1);
    return leave(s, r0)
  default: oops()
} } }
inline__P55421.info = {"start":1025,"length":24,"line":31,"column":34,"endLine":31,"endColumn":58,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"inline","argumentNames":["s"]}

function inline__P55421_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P55421, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_handleStreamData__P36468(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.port___55443 = undefined;
    s.s___55448 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["_header"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_3, 13);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 63);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 != 62);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["_header"];
    s.tmp_6 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_6, 4, 8);
    s.tmp_5 = r0;
    r0 = pxsim.BufferMethods.toHex(s.tmp_5);
    s.tmp_4 = r0;
    s.tmp_8 = jacdac_selfDevice__P33574_mk(s);
    s.callLocIdx = 1530; s.pc = 8; return s.tmp_8;
  case 8:
    r0 = s.retval;
    r0 = r0.fields["deviceId"];
    s.tmp_7 = r0;
    r0 = (s.tmp_4 != s.tmp_7);
  case 2:
    // jmp value (already in r0)
    s.tmp_9 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_9);
    if (!r0) { step = 3; continue; }
    { step = 7; continue; }
  case 3:
  case 4:
    r0 = s.arg0.fields["_header"];
    s.tmp_11 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_11, 4, 14);
    s.tmp_10 = r0;
    r0 = (s.tmp_10 >> 7);
    s.port___55443 = (r0);
    r0 = pxsim_pxtcore_mkAction(1, inline__P55450);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.port___55443);
    s.tmp_1 = helpers_arrayFind__P29536_mk(s);
    s.tmp_1.arg0 = globals.streams___36467;
    s.tmp_1.arg1 = s.tmp_0;
    s.callLocIdx = 1532; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    s.s___55448 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.s___55448);
    if (!r0) { step = 5; continue; }
    s.tmp_0 = jacdac_InStream__handle__P33667_mk(s);
    s.tmp_0.arg0 = s.s___55448;
    s.tmp_0.arg1 = s.arg0;
    s.callLocIdx = 1533; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
  case 5:
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_handleStreamData__P36468.info = {"start":172,"length":314,"line":7,"column":4,"endLine":13,"endColumn":5,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"handleStreamData","argumentNames":["pkt"]}

function jacdac_handleStreamData__P36468_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_handleStreamData__P36468, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  port___55443: undefined,
  s___55448: undefined,
  arg0: undefined,
} }





function inline__P55450(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0.fields["port"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 == s.caps[0]);
    return leave(s, r0)
  default: oops()
} } }
inline__P55450.info = {"start":430,"length":19,"line":11,"column":31,"endLine":11,"endColumn":50,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"inline","argumentNames":["s"]}

function inline__P55450_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P55450, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_InStream__handle__P33667(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.cmd___55464 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_InStream__C33659_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_0, 4, 14);
    s.cmd___55464 = (r0);
    r0 = (s.cmd___55464 & 31);
    s.tmp_1 = r0;
    r0 = s.arg0.fields["nextCnt"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & 31);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 != s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    s.tmp_4 = r0 = s.arg0;
    r0 = s.tmp_4.fields["nextCnt"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + 1);
    s.tmp_5 = r0;
    r0 = (s.tmp_4).fields["nextCnt"] = (s.tmp_5);
    r0 = (s.cmd___55464 & 32);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    s.tmp_1 = jacdac_InStream__close__P36469_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 1542; s.pc = 8; return s.tmp_1;
  case 8:
    r0 = s.retval;
  case 3:
  case 4:
    r0 = (s.cmd___55464 & 64);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    s.tmp_1 = jacdac_InStream_meta__P33666_mk(s);
    s.tmp_1.arg0 = s.arg0;
    r0 = s.arg1.fields["_data"];
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1544; s.pc = 9; return s.tmp_1;
  case 9:
    r0 = s.retval;
    { step = 6; continue; }
  case 5:
    r0 = s.arg0.fields["inQ"];
    s.tmp_0 = r0;
    r0 = s.arg1.fields["_data"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.tmp_1);
    r0 = s.arg0.fields["eventId"];
    s.tmp_0 = r0;
    r0 = pxsim.control.raiseEvent(1022, s.tmp_0);
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_InStream__handle__P33667.info = {"start":1988,"length":487,"line":74,"column":8,"endLine":87,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"_handle","argumentNames":["this","pkt"]}

function jacdac_InStream__handle__P33667_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_InStream__handle__P33667, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  cmd___55464: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_InStream__close__P36469(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_InStream__C33659_VT)) failedCast(r0);
    r0 = (s.arg0).fields["closed"] = (true);
    r0 = pxsim_Array_.removeElement(globals.streams___36467, s.arg0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_InStream__close__P36469.info = {"start":1767,"length":99,"line":62,"column":8,"endLine":65,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"_close","argumentNames":["this"]}

function jacdac_InStream__close__P36469_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_InStream__close__P36469, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_InStream_meta__P33666(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_InStream__C33659_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_InStream_meta__P33666.info = {"start":1957,"length":21,"line":72,"column":8,"endLine":72,"endColumn":29,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"meta","argumentNames":["this","buf"]}

function jacdac_InStream_meta__P33666_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_InStream_meta__P33666, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_WifiClient_connect__P34056(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.data___55238 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiClient__C34051_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg2);
    if (!r0) { step = 1; continue; }
    if ((s.arg2) && (s.arg2).vtable) {
    setupResume(s, 5);
    pxsim_String__stringConv(s.arg2);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg2) + ""; }
  case 5:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_String__concat(s.tmp_0, "\u0000");
    { step = 2; continue; }
  case 1:
    r0 = pxsim_String_.mkEmpty();
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 6);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 6:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_4, "\u0000");
    s.tmp_3 = r0;
    if ((s.tmp_3) && (s.tmp_3).vtable) {
    setupResume(s, 7);
    pxsim_String__stringConv(s.tmp_3);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_3) + ""; }
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 8);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 8:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_5);
    s.data___55238 = (r0);
    s.tmp_0 = jacdac_Client_sendCommandWithAck__P33547_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_1 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_1.arg0 = 129;
    r0 = pxsim.control.createBufferFromUTF8(s.data___55238);
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1730; s.pc = 10; return s.tmp_1;
  case 10:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1731; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P55261);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = pauseUntil__P29783_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = 15000;
    s.callLocIdx = 1732; s.pc = 11; return s.tmp_1;
  case 11:
    r0 = s.retval;
    r0 = s.arg0.fields["gotIP"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.throwValue("Can't connect");
  case 3:
  case 4:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiClient_connect__P34056.info = {"start":1485,"length":335,"line":52,"column":8,"endLine":58,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"connect","argumentNames":["this","ssid","password"]}

function jacdac_WifiClient_connect__P34056_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiClient_connect__P34056, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  data___55238: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function inline__P55261(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["gotIP"];
    return leave(s, r0)
  default: oops()
} } }
inline__P55261.info = {"start":1719,"length":16,"line":55,"column":23,"endLine":55,"endColumn":39,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"inline","argumentNames":[]}

function inline__P55261_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P55261, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
} }





function jacdac_WifiController_isConnected__P34084(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    r0 = s.arg0.fields["wifiClient"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = s.arg0.fields["wifiClient"];
    s.tmp_1 = r0;
    r0 = s.tmp_1.fields["gotIP"];
  case 2:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = s.tmp_2;
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_WifiController_isConnected__P34084.info = {"start":6328,"length":98,"line":216,"column":8,"endLine":218,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"isConnected","argumentNames":["this"]}
jacdac_WifiController_isConnected__P34084.isGetter = true;

function jacdac_WifiController_isConnected__P34084_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_isConnected__P34084, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function jacdac_WifiClient_hasIP__P34053(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiClient__C34051_VT)) failedCast(r0);
    r0 = s.arg0.fields["gotIP"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
jacdac_WifiClient_hasIP__P34053.info = {"start":728,"length":53,"line":26,"column":8,"endLine":28,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"hasIP","argumentNames":["this"]}
jacdac_WifiClient_hasIP__P34053.isGetter = true;

function jacdac_WifiClient_hasIP__P34053_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiClient_hasIP__P34053, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function jacdac_WifiController_hostbyName__P34082(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiController_hostbyName__P34082.info = {"start":6122,"length":85,"line":208,"column":8,"endLine":210,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"hostbyName","argumentNames":["this","hostname"]}

function jacdac_WifiController_hostbyName__P34082_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_hostbyName__P34082, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_WifiController_socket__P34076(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___55602 = undefined;
    s.i___55607 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    s.tmp_0 = jacdac_TcpClient_mkSocket__P34069_mk(s);
    r0 = s.arg0.fields["tcpClient"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1760; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.s___55602 = (r0);
    s.i___55607 = (0);
  case 1:
    s.tmp_1 = r0 = s.i___55607;
    r0 = s.arg0.fields["sockets"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 < s.tmp_2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = s.arg0.fields["sockets"];
    s.tmp_7 = r0;
    r0 = pxsim_Array__getAt(s.tmp_7, s.i___55607);
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    s.tmp_5 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_5);
    s.tmp_4 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_4);
    if (!r0) { step = 2; continue; }
    r0 = s.arg0.fields["sockets"];
    s.tmp_8 = r0;
    r0 = pxsim_Array_.setAt(s.tmp_8, s.i___55607, s.s___55602);
    r0 = s.i___55607;
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.i___55607 + 1);
    s.i___55607 = (r0);
    { step = 1; continue; }
  case 4:
    r0 = s.arg0.fields["sockets"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__push(s.tmp_0, s.s___55602);
    r0 = s.arg0.fields["sockets"];
    s.tmp_1 = r0;
    r0 = pxsim_Array__length(s.tmp_1);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - 1);
  case 5:
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiController_socket__P34076.info = {"start":4445,"length":361,"line":154,"column":8,"endLine":164,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"socket","argumentNames":["this"]}

function jacdac_WifiController_socket__P34076_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_socket__P34076, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  s___55602: undefined,
  i___55607: undefined,
  arg0: undefined,
} }





function jacdac_TcpClient_mkSocket__P34069(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___55638 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_TcpClient__C34065_VT)) failedCast(r0);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_Socket__C34057_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_Socket_constructor__P34064_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = s.arg0;
    s.callLocIdx = 1750; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.s___55638 = (s.tmp_0);
    r0 = s.s___55638;
    return leave(s, r0)
  default: oops()
} } }
jacdac_TcpClient_mkSocket__P34069.info = {"start":3642,"length":82,"line":121,"column":8,"endLine":124,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"mkSocket","argumentNames":["this"]}

function jacdac_TcpClient_mkSocket__P34069_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_TcpClient_mkSocket__P34069, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  s___55638: undefined,
  arg0: undefined,
} }





function jacdac_Socket_constructor__P34064(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.port___55668 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Socket__C34057_VT)) failedCast(r0);
    r0 = (s.arg0).fields["parent"] = (s.arg1);
    r0 = (s.arg0).fields["isConnected"] = (false);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_InStream__C33659_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_InStream_constructor__P33661_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = s.arg0.fields["parent"];
    r0 = r0.fields["device"];
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1741; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    r0 = (s.arg0).fields["inp"] = (s.tmp_0);
    s.tmp_0 = jacdac_Client_sendCommandWithAck__P33547_mk(s);
    r0 = s.arg0.fields["parent"];
    s.tmp_0.arg0 = r0;
    s.tmp_1 = jacdac_JDPacket_from__P33605_mk(s);
    s.tmp_1.arg0 = 128;
    s.tmp_2 = jacdac_InStream_openInfo__P33662_mk(s);
    r0 = s.arg0.fields["inp"];
    s.tmp_2.arg0 = r0;
    s.callLocIdx = 1742; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1743; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1744; s.pc = 2; return s.tmp_0;
  case 2:
    r0 = s.retval;
    r0 = pxsim_pxtcore_mkAction(1, inline__P55662);
    s.tmp_0 = r0;
    r0 = pxsim_pxtrt_stclo(s.tmp_0, 0, s.arg0);
    s.tmp_1 = pauseUntil__P29783_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    s.tmp_1.arg1 = undefined;
    s.callLocIdx = 1745; s.pc = 5; return s.tmp_1;
  case 5:
    r0 = s.retval;
    r0 = s.arg0.fields["parent"];
    r0 = r0.fields["_retPort"];
    s.port___55668 = (r0);
    r0 = s.arg0.fields["parent"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0).fields["_retPort"] = (null);
    r0 = pxsim_pxtcore_mkClassInstance(jacdac_OutStream__C33669_VT);
    s.tmp_0 = r0;
    s.tmp_1 = jacdac_OutStream_constructor__P33670_mk(s);
    s.tmp_1.arg0 = s.tmp_0;
    r0 = s.arg0.fields["parent"];
    r0 = r0.fields["device"];
    s.tmp_1.arg1 = r0;
    s.tmp_1.arg2 = s.port___55668;
    s.callLocIdx = 1746; s.pc = 6; return s.tmp_1;
  case 6:
    r0 = s.retval;
    r0 = (s.arg0).fields["outp"] = (s.tmp_0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Socket_constructor__P34064.info = {"start":2834,"length":437,"line":97,"column":8,"endLine":105,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"inline","argumentNames":["this","parent"]}

function jacdac_Socket_constructor__P34064_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Socket_constructor__P34064, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  port___55668: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function inline__P55662(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    r0 = s.caps[0].fields["parent"];
    r0 = r0.fields["_retPort"];
    s.tmp_0 = r0;
    r0 = (s.tmp_0 != null);
    return leave(s, r0)
  default: oops()
} } }
inline__P55662.info = {"start":3076,"length":34,"line":101,"column":23,"endLine":101,"endColumn":57,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"inline","argumentNames":[]}

function inline__P55662_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: inline__P55662, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
} }





function jacdac_OutStream_constructor__P33670(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_OutStream__C33669_VT)) failedCast(r0);
    r0 = (s.arg0).fields["device"] = (s.arg1);
    r0 = (s.arg0).fields["port"] = (s.arg2);
    r0 = (s.arg0).fields["nextCnt"] = (0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutStream_constructor__P33670.info = {"start":2816,"length":59,"line":103,"column":8,"endLine":103,"endColumn":67,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"inline","argumentNames":["this","device","port"]}

function jacdac_OutStream_constructor__P33670_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutStream_constructor__P33670, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_SensorClient_handlePacket__P33776(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.state___55698 = undefined;
    s.changed___55701 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C33769_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_1 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_1, 4, 14);
    s.tmp_0 = r0;
    r0 = pxsim_pxtcore.switch_eq(4353, s.tmp_0);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_0);
    if (r0) { step = 6; continue; }
    r0 = s.tmp_0;
    { step = 7; continue; }
  case 1:
    r0 = s.arg1.fields["_data"];
    s.state___55698 = (r0);
    s.tmp_2 = helpers_bufferEquals__P29607_mk(s);
    s.tmp_2.arg0 = s.state___55698;
    r0 = s.arg0.fields["_lastState"];
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 1607; s.pc = 9; return s.tmp_2;
  case 9:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    s.changed___55701 = (r0);
    s.tmp_0 = jacdac_SensorClient_handleVirtualState__P36509_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.state___55698;
    s.callLocIdx = 1608; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    r0 = (s.arg0).fields["_lastState"] = (s.state___55698);
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim.control.millis();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_localTime"] = (s.tmp_1);
    s.tmp_0 = r0 = s.changed___55701;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_0;
    { step = 3; continue; }
  case 2:
    r0 = s.arg0.fields["_stateChangedHandler"];
  case 3:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 4; continue; }
    s.tmp_2 = if__stateChangedHandler_1_mk(s);
    s.tmp_2.arg0 = s.arg0;
    if (!s.tmp_2.arg0.vtable.iface) {
      setupLambda(s.tmp_2, pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "_stateChangedHandler"), 1);
      s.callLocIdx = 1609; s.pc = 11; return s.tmp_2;
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["_stateChangedHandler"];
      if (s.tmp_2.fn == null) { setupLambda(s.tmp_2, s.tmp_2.arg0.fields["_stateChangedHandler"], 1); s.callLocIdx = 1609; s.pc = 11; return s.tmp_2; }
      else if (s.tmp_2.fn.isGetter) { s.tmp_2.stage2Call = true; s.callLocIdx = 1609; s.pc = 11; return s.tmp_2;; }
     else { s.callLocIdx = 1609; s.pc = 11; return s.tmp_2; }
    }
  case 11:
    r0 = s.retval;
  case 4:
  case 5:
    { step = 8; continue; }
  case 6:
    r0 = s.arg0.fields["eventId"];
    s.tmp_0 = r0;
    s.tmp_2 = jacdac_JDPacket_intData__P33624_mk(s);
    s.tmp_2.arg0 = s.arg1;
    s.callLocIdx = 1610; s.pc = 12; return s.tmp_2;
  case 12:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = pxsim.control.raiseEvent(s.tmp_0, s.tmp_1);
    { step = 8; continue; }
  case 7:
    s.tmp_0 = jacdac_SensorClient_handleCustomCommand__P36508_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.callLocIdx = 1611; s.pc = 13; return s.tmp_0;
  case 13:
    r0 = s.retval;
  case 8:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_handlePacket__P33776.info = {"start":1390,"length":869,"line":46,"column":8,"endLine":66,"endColumn":9,"fileName":"pxt_modules/jacdac-services/sensorclient.ts","functionName":"handlePacket","argumentNames":["this","packet"]}

function jacdac_SensorClient_handlePacket__P33776_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_handlePacket__P33776, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  state___55698: undefined,
  changed___55701: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_SensorClient_handleVirtualState__P36509(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C33769_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_handleVirtualState__P36509.info = {"start":2335,"length":55,"line":71,"column":8,"endLine":72,"endColumn":9,"fileName":"pxt_modules/jacdac-services/sensorclient.ts","functionName":"handleVirtualState","argumentNames":["this","state"]}

function jacdac_SensorClient_handleVirtualState__P36509_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_handleVirtualState__P36509, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_SensorClient_handleCustomCommand__P36508(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_SensorClient__C33769_VT)) failedCast(r0);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_SensorClient_handleCustomCommand__P36508.info = {"start":2269,"length":56,"line":68,"column":8,"endLine":69,"endColumn":9,"fileName":"pxt_modules/jacdac-services/sensorclient.ts","functionName":"handleCustomCommand","argumentNames":["this","pkt"]}

function jacdac_SensorClient_handleCustomCommand__P36508_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_SensorClient_handleCustomCommand__P36508, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function controller_AnyButton_isPressed__P34511(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ctrl___55736 = undefined;
    s.b___55740 = undefined;
    s.unnamed486___U2 = undefined;
    s.unnamed487___U3 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_AnyButton__C34509_VT)) failedCast(r0);
    s.tmp_0 = controller__player1__P31378_mk(s);
    s.callLocIdx = 243; s.pc = 6; return s.tmp_0;
  case 6:
    r0 = s.retval;
    s.ctrl___55736 = (r0);
    s.b___55740 = (undefined);
    r0 = s.ctrl___55736.fields["buttons"];
    s.unnamed486___U2 = (r0);
    s.unnamed487___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed487___U3;
    r0 = pxsim_Array__length(s.unnamed486___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 4; continue; }
    r0 = pxsim_Array__getAt(s.unnamed486___U2, s.unnamed487___U3);
    s.b___55740 = (r0);
    s.tmp_3 = controller_Button__C31364_v0_1_mk(s);
    s.tmp_3.arg0 = s.b___55740;
    if (!checkSubtype(s.tmp_3.arg0, controller_Button__C31364_VT)) failedCast(s.tmp_3.arg0);
    s.tmp_3.fn = s.tmp_3.arg0.vtable.methods.isPressed;
    s.pc = 7; return s.tmp_3;
  case 7:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = true;
    { step = 5; continue; }
  case 2:
  case 3:
    r0 = (s.unnamed487___U3 + 1);
    s.unnamed487___U3 = (r0);
    { step = 1; continue; }
  case 4:
    s.unnamed486___U2 = (undefined);
    r0 = false;
  case 5:
    return leave(s, r0)
  default: oops()
} } }
controller_AnyButton_isPressed__P34511.info = {"start":5874,"length":202,"line":185,"column":8,"endLine":192,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"isPressed","argumentNames":["this"]}

function controller_AnyButton_isPressed__P34511_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_AnyButton_isPressed__P34511, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  ctrl___55736: undefined,
  b___55740: undefined,
  unnamed486___U2: undefined,
  unnamed487___U3: undefined,
  arg0: undefined,
} }





function controller_Button_toString__P31369(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, controller_Button__C31364_VT)) failedCast(r0);
    r0 = s.arg0.fields["_pressed"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = "down";
    { step = 2; continue; }
  case 1:
    r0 = "up";
  case 2:
    // jmp value (already in r0)
    s.tmp_1 = r0;
    r0 = s.arg0.fields["id"];
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 3);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 3:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat("btn ", s.tmp_4);
    s.tmp_3 = r0;
    r0 = pxsim_String__concat(s.tmp_3, " ");
    s.tmp_2 = r0;
    if ((s.tmp_1) && (s.tmp_1).vtable) {
    setupResume(s, 4);
    pxsim_String__stringConv(s.tmp_1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_1) + ""; }
  case 4:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_2, s.tmp_6);
    return leave(s, r0)
  default: oops()
} } }
controller_Button_toString__P31369.info = {"start":1479,"length":100,"line":63,"column":8,"endLine":65,"endColumn":9,"fileName":"pxt_modules/game/controller.ts","functionName":"toString","argumentNames":["this"]}

function controller_Button_toString__P31369_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: controller_Button_toString__P31369, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  arg0: undefined,
} }





function jacdac_OutStream_close__P33673(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_OutStream__C33669_VT)) failedCast(r0);
    s.tmp_0 = jacdac_OutStream_writeAndClose__P33672_mk(s);
    s.tmp_0.arg0 = s.arg0;
    r0 = pxsim.control.createBuffer(0);
    s.tmp_0.arg1 = r0;
    s.callLocIdx = 1553; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutStream_close__P33673.info = {"start":3500,"length":68,"line":124,"column":8,"endLine":126,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"close","argumentNames":["this"]}

function jacdac_OutStream_close__P33673_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutStream_close__P33673, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_OutStream_writeAndClose__P33672(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_OutStream__C33669_VT)) failedCast(r0);
    s.tmp_0 = jacdac_OutStream_writeEx__P36470_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = 32;
    s.callLocIdx = 1552; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutStream_writeAndClose__P33672.info = {"start":3410,"length":80,"line":120,"column":8,"endLine":122,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"writeAndClose","argumentNames":["this","buf"]}

function jacdac_OutStream_writeAndClose__P33672_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutStream_writeAndClose__P33672, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_OutStream_writeEx__P36470(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pkt___55772 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_OutStream__C33669_VT)) failedCast(r0);
    r0 = s.arg0.fields["port"];
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 7; continue; }
  case 1:
  case 2:
    s.tmp_3 = jacdac_JDPacket_from__P33605_mk(s);
    r0 = s.arg0.fields["nextCnt"];
    s.tmp_6 = r0;
    r0 = (s.tmp_6 & 31);
    s.tmp_5 = r0;
    r0 = s.arg0.fields["port"];
    s.tmp_8 = r0;
    r0 = (s.tmp_8 << 7);
    s.tmp_7 = r0;
    r0 = (s.tmp_5 | s.tmp_7);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 | s.arg2);
    s.tmp_3.arg0 = r0;
    s.tmp_3.arg1 = s.arg1;
    s.callLocIdx = 1548; s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
    s.pkt___55772 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.tmp_0.fields["nextCnt"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["nextCnt"] = (s.tmp_1);
    r0 = (s.arg2 & 32);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 3; continue; }
    r0 = (s.arg0).fields["port"] = (null);
  case 3:
  case 4:
    s.tmp_0 = jacdac_JDPacket_service_number__P33616_mk(s);
    s.tmp_0.arg0 = s.pkt___55772;
    s.tmp_0.arg1 = 62;
    s.callLocIdx = 1549; s.pc = 9; return s.tmp_0;
  case 9:
    r0 = s.retval;
    s.tmp_3 = jacdac_JDPacket__sendWithAck__P33636_mk(s);
    s.tmp_3.arg0 = s.pkt___55772;
    r0 = s.arg0.fields["device"];
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 1550; s.pc = 10; return s.tmp_3;
  case 10:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.throwValue("No ACK (stream)");
  case 5:
  case 6:
  case 7:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutStream_writeEx__P36470.info = {"start":2885,"length":442,"line":105,"column":8,"endLine":114,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"writeEx","argumentNames":["this","buf","flags"]}

function jacdac_OutStream_writeEx__P36470_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutStream_writeEx__P36470, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  pkt___55772: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Socket_read__P34061(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Socket__C34057_VT)) failedCast(r0);
    r0 = s.arg0.fields["isConnected"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = jacdac_InStream_read__P33664_mk(s);
    r0 = s.arg0.fields["inp"];
    s.tmp_1.arg0 = r0;
    s.callLocIdx = 1735; s.pc = 4; return s.tmp_1;
  case 4:
    r0 = s.retval;
    { step = 3; continue; }
    { step = 2; continue; }
  case 1:
    r0 = null;
    { step = 3; continue; }
  case 2:
    r0 = undefined;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
jacdac_Socket_read__P34061.info = {"start":2148,"length":144,"line":75,"column":8,"endLine":80,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"read","argumentNames":["this"]}

function jacdac_Socket_read__P34061_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Socket_read__P34061, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_Socket_close__P34059(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Socket__C34057_VT)) failedCast(r0);
    s.tmp_0 = jacdac_OutStream_close__P33673_mk(s);
    r0 = s.arg0.fields["outp"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1733; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Socket_close__P34059.info = {"start":1980,"length":49,"line":68,"column":8,"endLine":70,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"close","argumentNames":["this"]}

function jacdac_Socket_close__P34059_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Socket_close__P34059, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_InStream_close__P33665(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_InStream__C33659_VT)) failedCast(r0);
    s.tmp_0 = jacdac_InStream__close__P36469_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 1540; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["inQ"] = (s.tmp_1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_InStream_close__P33665.info = {"start":1876,"length":71,"line":67,"column":8,"endLine":70,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"close","argumentNames":["this"]}

function jacdac_InStream_close__P33665_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_InStream_close__P33665, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function jacdac_TcpClient_handlePacket__P34068(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_TcpClient__C34065_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 128);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_3 = r0 = s.arg0;
    s.tmp_5 = jacdac_JDPacket_intData__P33624_mk(s);
    s.tmp_5.arg0 = s.arg1;
    s.callLocIdx = 1749; s.pc = 3; return s.tmp_5;
  case 3:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = (s.tmp_3).fields["_retPort"] = (s.tmp_4);
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_TcpClient_handlePacket__P34068.info = {"start":3484,"length":148,"line":115,"column":8,"endLine":119,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"handlePacket","argumentNames":["this","pkt"]}

function jacdac_TcpClient_handlePacket__P34068_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_TcpClient_handlePacket__P34068, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_WifiClient_handlePacket__P34054(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiClient__C34051_VT)) failedCast(r0);
    r0 = s.arg1.fields["_header"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.getNumber(s.tmp_2, 4, 14);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 4; continue; }
    r0 = s.arg1.fields["_data"];
    s.tmp_4 = r0;
    r0 = pxsim.BufferMethods.getByte(s.tmp_4, 0);
    s.tmp_3 = r0;
    r0 = pxsim_pxtcore.switch_eq(1, s.tmp_3);
    if (r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.switch_eq(2, s.tmp_3);
    if (r0) { step = 2; continue; }
    r0 = s.tmp_3;
    { step = 3; continue; }
  case 1:
    r0 = (s.arg0).fields["gotIP"] = (true);
    { step = 3; continue; }
  case 2:
    r0 = (s.arg0).fields["gotIP"] = (false);
  case 3:
  case 4:
  case 5:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiClient_handlePacket__P34054.info = {"start":791,"length":374,"line":30,"column":8,"endLine":41,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"handlePacket","argumentNames":["this","p"]}

function jacdac_WifiClient_handlePacket__P34054_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiClient_handlePacket__P34054, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function sprites_StaticObstacle_width__P31617(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_StaticObstacle__C31607_VT)) failedCast(r0);
    r0 = s.arg0.fields["image"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
sprites_StaticObstacle_width__P31617.info = {"start":1088,"length":68,"line":48,"column":8,"endLine":50,"endColumn":9,"fileName":"pxt_modules/game/obstacle.ts","functionName":"width","argumentNames":["this"]}
sprites_StaticObstacle_width__P31617.isGetter = true;

function sprites_StaticObstacle_width__P31617_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_StaticObstacle_width__P31617, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function sprites_StaticObstacle_height__P31616(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_StaticObstacle__C31607_VT)) failedCast(r0);
    r0 = s.arg0.fields["image"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_0);
    return leaveAccessor(s, r0)
  default: oops()
} } }
sprites_StaticObstacle_height__P31616.info = {"start":1008,"length":70,"line":44,"column":8,"endLine":46,"endColumn":9,"fileName":"pxt_modules/game/obstacle.ts","functionName":"height","argumentNames":["this"]}
sprites_StaticObstacle_height__P31616.isGetter = true;

function sprites_StaticObstacle_height__P31616_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_StaticObstacle_height__P31616, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function sprites_StaticObstacle_y__P31615(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_StaticObstacle__C31607_VT)) failedCast(r0);
    r0 = s.arg0.fields["top"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    return leaveAccessor(s, r0)
  default: oops()
} } }
sprites_StaticObstacle_y__P31615.info = {"start":921,"length":77,"line":40,"column":8,"endLine":42,"endColumn":9,"fileName":"pxt_modules/game/obstacle.ts","functionName":"y","argumentNames":["this"]}
sprites_StaticObstacle_y__P31615.isGetter = true;

function sprites_StaticObstacle_y__P31615_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_StaticObstacle_y__P31615, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function sprites_StaticObstacle_x__P31614(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, sprites_StaticObstacle__C31607_VT)) failedCast(r0);
    r0 = s.arg0.fields["left"];
    s.tmp_0 = r0;
    r0 = s.arg0.fields["image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.width(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 + s.tmp_1);
    return leaveAccessor(s, r0)
  default: oops()
} } }
sprites_StaticObstacle_x__P31614.info = {"start":834,"length":77,"line":36,"column":8,"endLine":38,"endColumn":9,"fileName":"pxt_modules/game/obstacle.ts","functionName":"x","argumentNames":["this"]}
sprites_StaticObstacle_x__P31614.isGetter = true;

function sprites_StaticObstacle_x__P31614_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: sprites_StaticObstacle_x__P31614, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  arg0: undefined,
} }





function tiles_Location_y__P31755(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.scale___55870 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_Location__C31750_VT)) failedCast(r0);
    r0 = s.arg0.fields["tileMap"];
    s.tmp_0 = r0;
    r0 = s.tmp_0.fields["_scale"];
    s.scale___55870 = (r0);
    r0 = s.arg0.fields["_row"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 << s.scale___55870);
    s.tmp_0 = r0;
    r0 = (s.scale___55870 - 1);
    s.tmp_3 = r0;
    r0 = (1 << s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_0 + s.tmp_2);
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_Location_y__P31755.info = {"start":836,"length":135,"line":38,"column":8,"endLine":41,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"y","argumentNames":["this"]}
tiles_Location_y__P31755.isGetter = true;

function tiles_Location_y__P31755_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_Location_y__P31755, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  scale___55870: undefined,
  arg0: undefined,
} }





function tiles_Location_x__P31754(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.scale___55887 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, tiles_Location__C31750_VT)) failedCast(r0);
    r0 = s.arg0.fields["tileMap"];
    s.tmp_0 = r0;
    r0 = s.tmp_0.fields["_scale"];
    s.scale___55887 = (r0);
    r0 = s.arg0.fields["_col"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 << s.scale___55887);
    s.tmp_0 = r0;
    r0 = (s.scale___55887 - 1);
    s.tmp_3 = r0;
    r0 = (1 << s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_0 + s.tmp_2);
    return leaveAccessor(s, r0)
  default: oops()
} } }
tiles_Location_x__P31754.info = {"start":691,"length":135,"line":33,"column":8,"endLine":36,"endColumn":9,"fileName":"pxt_modules/game/tilemap.ts","functionName":"x","argumentNames":["this"]}
tiles_Location_x__P31754.isGetter = true;

function tiles_Location_x__P31754_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: tiles_Location_x__P31754, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  scale___55887: undefined,
  arg0: undefined,
} }





function scene_Renderable___drawCore__P31839(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Renderable__C31836_VT)) failedCast(r0);
    s.tmp_0 = if_handler_3_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = globals.screen___31263;
    s.tmp_0.arg2 = s.arg1;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "handler"), 3);
      s.callLocIdx = 867; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["handler"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["handler"], 3); s.callLocIdx = 867; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 867; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 867; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
scene_Renderable___drawCore__P31839.info = {"start":390,"length":86,"line":14,"column":8,"endLine":16,"endColumn":9,"fileName":"pxt_modules/game/renderable.ts","functionName":"__drawCore","argumentNames":["this","camera"]}

function scene_Renderable___drawCore__P31839_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Renderable___drawCore__P31839, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function scene_Renderable___visible__P31838(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Renderable__C31836_VT)) failedCast(r0);
    s.tmp_0 = if_shouldBeVisible_1_mk(s);
    s.tmp_0.arg0 = s.arg0;
    if (!s.tmp_0.arg0.vtable.iface) {
      setupLambda(s.tmp_0, pxsim_pxtrt.mapGetByString(s.tmp_0.arg0, "shouldBeVisible"), 1);
      s.callLocIdx = 866; s.pc = 1; return s.tmp_0;
    } else {
      s.tmp_0.fn = s.tmp_0.arg0.vtable.iface["shouldBeVisible"];
      if (s.tmp_0.fn == null) { setupLambda(s.tmp_0, s.tmp_0.arg0.fields["shouldBeVisible"], 1); s.callLocIdx = 866; s.pc = 1; return s.tmp_0; }
      else if (s.tmp_0.fn.isGetter) { s.tmp_0.stage2Call = true; s.callLocIdx = 866; s.pc = 1; return s.tmp_0;; }
     else { s.callLocIdx = 866; s.pc = 1; return s.tmp_0; }
    }
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
scene_Renderable___visible__P31838.info = {"start":305,"length":75,"line":10,"column":8,"endLine":12,"endColumn":9,"fileName":"pxt_modules/game/renderable.ts","functionName":"__visible","argumentNames":["this"]}

function scene_Renderable___visible__P31838_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Renderable___visible__P31838, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function net_ControllerSocket_read__P34143(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.avail___56160 = undefined;
    s.ret___56180 = undefined;
    s.stamp___56188 = undefined;
    s.to_read___56190 = undefined;
    s.received___56196 = undefined;
    s.avail___56201 = undefined;
    s.recv___56212 = undefined;
    s.ret___56250 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_ControllerSocket__C34126_VT)) failedCast(r0);
    r0 = (s.arg1 == 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = s.arg0.fields["_buffer"];
    s.tmp_3 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == 0);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    s.tmp_4 = Math_min__P29553_mk(s);
    s.tmp_5 = net_Controller__C34103_v4_2_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_5.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_5.arg1 = r0;
    if (!checkSubtype(s.tmp_5.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_5.arg0);
    s.tmp_5.fn = s.tmp_5.arg0.vtable.methods.socketAvailable;
    s.pc = 19; return s.tmp_5;
  case 19:
    r0 = s.retval;
    s.tmp_4.arg0 = r0;
    s.tmp_4.arg1 = 4000;
    s.callLocIdx = 1797; s.pc = 18; return s.tmp_4;
  case 18:
    r0 = s.retval;
    s.avail___56160 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.avail___56160);
    if (!r0) { step = 1; continue; }
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = helpers_bufferConcat__P29606_mk(s);
    r0 = s.arg0.fields["_buffer"];
    s.tmp_2.arg0 = r0;
    s.tmp_3 = net_Controller__C34103_v5_3_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_3.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_3.arg1 = r0;
    s.tmp_3.arg2 = s.avail___56160;
    if (!checkSubtype(s.tmp_3.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_3.arg0);
    s.tmp_3.fn = s.tmp_3.arg0.vtable.methods.socketRead;
    s.pc = 21; return s.tmp_3;
  case 21:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 1798; s.pc = 20; return s.tmp_2;
  case 20:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_buffer"] = (s.tmp_1);
  case 1:
  case 2:
  case 3:
  case 4:
    r0 = s.arg0.fields["_buffer"];
    s.ret___56180 = (r0);
    r0 = (s.arg0).fields["_buffer"] = (_hex56186);
    r0 = s.ret___56180;
    { step = 17; continue; }
  case 5:
  case 6:
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 1000);
    s.stamp___56188 = (r0);
    s.tmp_0 = r0 = s.arg1;
    r0 = s.arg0.fields["_buffer"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.to_read___56190 = (r0);
    r0 = pxsim_Array__mk();
    s.received___56196 = (r0);
  case 7:
    r0 = (s.to_read___56190 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 14; continue; }
    s.tmp_1 = Math_min__P29553_mk(s);
    s.tmp_2 = net_Controller__C34103_v4_2_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_2.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_2.arg1 = r0;
    if (!checkSubtype(s.tmp_2.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_2.arg0);
    s.tmp_2.fn = s.tmp_2.arg0.vtable.methods.socketAvailable;
    s.pc = 23; return s.tmp_2;
  case 23:
    r0 = s.retval;
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = 4000;
    s.callLocIdx = 1800; s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
    s.avail___56201 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.avail___56201);
    if (!r0) { step = 8; continue; }
    r0 = pxsim.control.millis();
    s.tmp_0 = r0;
    r0 = (s.tmp_0 / 1000);
    s.stamp___56188 = (r0);
    s.tmp_0 = net_Controller__C34103_v5_3_mk(s);
    r0 = s.arg0.fields["controller"];
    s.tmp_0.arg0 = r0;
    r0 = s.arg0.fields["_socknum"];
    s.tmp_0.arg1 = r0;
    s.tmp_1 = Math_min__P29553_mk(s);
    s.tmp_1.arg0 = s.to_read___56190;
    s.tmp_1.arg1 = s.avail___56201;
    s.callLocIdx = 1802; s.pc = 25; return s.tmp_1;
  case 25:
    r0 = s.retval;
    s.tmp_0.arg2 = r0;
    if (!checkSubtype(s.tmp_0.arg0, net_Controller__C34103_VT)) failedCast(s.tmp_0.arg0);
    s.tmp_0.fn = s.tmp_0.arg0.vtable.methods.socketRead;
    s.pc = 24; return s.tmp_0;
  case 24:
    r0 = s.retval;
    s.recv___56212 = (r0);
    r0 = pxsim_Array__push(s.received___56196, s.recv___56212);
    s.tmp_0 = r0 = s.to_read___56190;
    r0 = pxsim.BufferMethods.length(s.recv___56212);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.to_read___56190 = (r0);
    { step = 9; continue; }
  case 8:
    s.tmp_0 = pause__P29829_mk(s);
    s.tmp_0.arg0 = 20;
    s.callLocIdx = 1803; s.pc = 26; return s.tmp_0;
  case 26:
    r0 = s.retval;
  case 9:
    r0 = s.arg0.fields["_timeout"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 0);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 10; continue; }
    r0 = s.tmp_0;
    { step = 11; continue; }
  case 10:
    r0 = pxsim.control.millis();
    s.tmp_4 = r0;
    r0 = (s.tmp_4 / 1000);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 - s.stamp___56188);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["_timeout"];
    s.tmp_5 = r0;
    r0 = (s.tmp_2 > s.tmp_5);
  case 11:
    // jmp value (already in r0)
    s.tmp_6 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_6);
    if (!r0) { step = 12; continue; }
    { step = 14; continue; }
  case 12:
  case 13:
    { step = 7; continue; }
  case 14:
    s.tmp_7 = helpers_arrayUnshift__P29529_mk(s);
    s.tmp_7.arg0 = s.received___56196;
    r0 = s.arg0.fields["_buffer"];
    s.tmp_7.arg1 = r0;
    s.callLocIdx = 1805; s.pc = 27; return s.tmp_7;
  case 27:
    r0 = s.retval;
    s.tmp_0 = r0 = s.arg0;
    s.tmp_2 = pins_concatBuffers__P29601_mk(s);
    s.tmp_2.arg0 = s.received___56196;
    s.callLocIdx = 1806; s.pc = 28; return s.tmp_2;
  case 28:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_buffer"] = (s.tmp_1);
    s.ret___56250 = (null);
    r0 = s.arg0.fields["_buffer"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.length(s.tmp_2);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == s.arg1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    r0 = s.arg0.fields["_buffer"];
    s.ret___56250 = (r0);
    r0 = (s.arg0).fields["_buffer"] = (_hex56263);
    { step = 16; continue; }
  case 15:
    r0 = s.arg0.fields["_buffer"];
    s.tmp_0 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_0, 0, s.arg1);
    s.ret___56250 = (r0);
    s.tmp_0 = r0 = s.arg0;
    r0 = s.arg0.fields["_buffer"];
    s.tmp_2 = r0;
    r0 = pxsim.BufferMethods.slice(s.tmp_2, s.arg1, -1);
    s.tmp_1 = r0;
    r0 = (s.tmp_0).fields["_buffer"] = (s.tmp_1);
  case 16:
    r0 = s.ret___56250;
  case 17:
    return leave(s, r0)
  default: oops()
} } }
net_ControllerSocket_read__P34143.info = {"start":4241,"length":1752,"line":109,"column":8,"endLine":155,"endColumn":9,"fileName":"pxt_modules/net/controllersocket.ts","functionName":"read","argumentNames":["this","size"]}

function net_ControllerSocket_read__P34143_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_ControllerSocket_read__P34143, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  avail___56160: undefined,
  ret___56180: undefined,
  stamp___56188: undefined,
  to_read___56190: undefined,
  received___56196: undefined,
  avail___56201: undefined,
  recv___56212: undefined,
  ret___56250: undefined,
  arg0: undefined,
  arg1: undefined,
} }

const _hex56186 = pxsim.BufferMethods.createBufferFromHex("")
const _hex56263 = pxsim.BufferMethods.createBufferFromHex("")




function pins_concatBuffers__P29601(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    s.tmp_0 = Buffer_concat__P29627_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.callLocIdx = 22; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
pins_concatBuffers__P29601.info = {"start":863,"length":88,"line":32,"column":4,"endLine":34,"endColumn":5,"fileName":"pxt_modules/base/buffer.ts","functionName":"concatBuffers","argumentNames":["bufs"]}

function pins_concatBuffers__P29601_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: pins_concatBuffers__P29601, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function helpers_arrayUnshift__P29529(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = pxsim_Array_.insertAt(s.arg0, 0, s.arg1);
    r0 = pxsim_Array__length(s.arg0);
    return leave(s, r0)
  default: oops()
} } }
helpers_arrayUnshift__P29529.info = {"start":4898,"length":126,"line":180,"column":4,"endLine":183,"endColumn":5,"fileName":"pxt_modules/base/pxt-helpers.ts","functionName":"arrayUnshift","argumentNames":["arr","value"]}

function helpers_arrayUnshift__P29529_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: helpers_arrayUnshift__P29529, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
  arg1: undefined,
} }





function net_Response_close__P34187(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Response__C34180_VT)) failedCast(r0);
    r0 = s.arg0.fields["socket"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = if_close_1_mk(s);
    r0 = s.arg0.fields["socket"];
    s.tmp_1.arg0 = r0;
    if (!s.tmp_1.arg0.vtable.iface) {
      setupLambda(s.tmp_1, pxsim_pxtrt.mapGetByString(s.tmp_1.arg0, "close"), 1);
      s.callLocIdx = 1817; s.pc = 3; return s.tmp_1;
    } else {
      s.tmp_1.fn = s.tmp_1.arg0.vtable.iface["close"];
      if (s.tmp_1.fn == null) { setupLambda(s.tmp_1, s.tmp_1.arg0.fields["close"], 1); s.callLocIdx = 1817; s.pc = 3; return s.tmp_1; }
      else if (s.tmp_1.fn.isGetter) { s.tmp_1.stage2Call = true; s.callLocIdx = 1817; s.pc = 3; return s.tmp_1;; }
     else { s.callLocIdx = 1817; s.pc = 3; return s.tmp_1; }
    }
  case 3:
    r0 = s.retval;
    r0 = (s.arg0).fields["socket"] = (null);
  case 1:
  case 2:
    r0 = (s.arg0).fields["_cached"] = (null);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
net_Response_close__P34187.info = {"start":1077,"length":174,"line":41,"column":8,"endLine":47,"endColumn":9,"fileName":"pxt_modules/net/requests.ts","functionName":"close","argumentNames":["this"]}

function net_Response_close__P34187_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Response_close__P34187, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
} }





function Sprite___drawCore__P31538(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.ox___55914 = undefined;
    s.oy___55922 = undefined;
    s.l___55930 = undefined;
    s.t___55934 = undefined;
    s.font___55949 = undefined;
    s.tx___55953 = undefined;
    s.ty___55955 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    s.tmp_1 = Sprite_isOutOfScreen__P31537_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 386; s.pc = 20; return s.tmp_1;
  case 20:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 19; continue; }
  case 1:
  case 2:
    r0 = s.arg0.fields["flags"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 & 512);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 3; continue; }
    r0 = 0;
    { step = 4; continue; }
  case 3:
    r0 = s.arg1.fields["drawOffsetX"];
  case 4:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    s.ox___55914 = (s.tmp_4);
    r0 = s.arg0.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 512);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = 0;
    { step = 6; continue; }
  case 5:
    r0 = s.arg1.fields["drawOffsetY"];
  case 6:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    s.oy___55922 = (s.tmp_2);
    s.tmp_1 = Sprite_left__P31523_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 387; s.pc = 21; return s.tmp_1;
  case 21:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.ox___55914);
    s.l___55930 = (r0);
    s.tmp_1 = Sprite_top__P31527_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 388; s.pc = 22; return s.tmp_1;
  case 22:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = (s.tmp_0 - s.oy___55922);
    s.t___55934 = (r0);
    r0 = s.arg0.fields["_image"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.drawTransparentImage(globals.screen___31263, s.tmp_0, s.l___55930, s.t___55934);
    r0 = s.arg0.fields["flags"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 & 64);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 15; continue; }
    s.font___55949 = (globals.font5___31211);
    s.tx___55953 = (s.l___55930);
    s.tmp_1 = r0 = s.t___55934;
    r0 = s.arg0.fields["_image"];
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.height(s.tmp_3);
    s.tmp_2 = r0;
    r0 = (s.tmp_1 + s.tmp_2);
    s.tmp_0 = r0;
    r0 = (s.tmp_0 + 2);
    s.ty___55955 = (r0);
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    r0 = pxsim_String_.mkEmpty();
    s.tmp_3 = r0;
    s.tmp_7 = Sprite_x__P31486_mk(s);
    s.tmp_7.arg0 = s.arg0;
    s.callLocIdx = 390; s.pc = 24; return s.tmp_7;
  case 24:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = (s.tmp_6 >> 0);
    s.tmp_5 = r0;
    if ((s.tmp_5) && (s.tmp_5).vtable) {
    setupResume(s, 25);
    pxsim_String__stringConv(s.tmp_5);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_5) + ""; }
  case 25:
    r0 = s.retval;
    s.tmp_4 = r0;
    r0 = pxsim_String__concat(s.tmp_3, s.tmp_4);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ",");
    s.tmp_1 = r0;
    s.tmp_11 = Sprite_y__P31488_mk(s);
    s.tmp_11.arg0 = s.arg0;
    s.callLocIdx = 391; s.pc = 26; return s.tmp_11;
  case 26:
    r0 = s.retval;
    s.tmp_10 = r0;
    r0 = (s.tmp_10 >> 0);
    s.tmp_9 = r0;
    if ((s.tmp_9) && (s.tmp_9).vtable) {
    setupResume(s, 27);
    pxsim_String__stringConv(s.tmp_9);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_9) + ""; }
  case 27:
    r0 = s.retval;
    s.tmp_8 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_8);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.tx___55953;
    s.tmp_0.arg3 = s.ty___55955;
    s.tmp_0.arg4 = 1;
    s.tmp_0.arg5 = s.font___55949;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 392; s.pc = 23; return s.tmp_0;
  case 23:
    r0 = s.retval;
    s.tmp_0 = r0 = s.tx___55953;
    s.tmp_2 = if_charWidth_1_mk(s);
    s.tmp_2.arg0 = s.font___55949;
    if (!s.tmp_2.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_2.arg0, "charWidth");
    } else {
      s.tmp_2.fn = s.tmp_2.arg0.vtable.iface["charWidth"];
      if (s.tmp_2.fn == null) { s.retval = s.tmp_2.arg0.fields["charWidth"]; }
      else if (!s.tmp_2.fn.isGetter) { s.retval = bind(s.tmp_2); }
     else { s.callLocIdx = 393; s.pc = 28; return s.tmp_2; }
    }
  case 28:
    r0 = s.retval;
    s.tmp_1 = r0;
    r0 = (s.tmp_0 - s.tmp_1);
    s.tx___55953 = (r0);
    s.tmp_1 = Sprite_vx__P31490_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 394; s.pc = 29; return s.tmp_1;
  case 29:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 7; continue; }
    r0 = s.tmp_0;
    { step = 8; continue; }
  case 7:
    s.tmp_2 = Sprite_vy__P31492_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 395; s.pc = 30; return s.tmp_2;
  case 30:
    r0 = s.retval;
  case 8:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 9; continue; }
    s.tmp_4 = r0 = s.ty___55955;
    s.tmp_7 = if_charHeight_1_mk(s);
    s.tmp_7.arg0 = s.font___55949;
    if (!s.tmp_7.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, "charHeight");
    } else {
      s.tmp_7.fn = s.tmp_7.arg0.vtable.iface["charHeight"];
      if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields["charHeight"]; }
      else if (!s.tmp_7.fn.isGetter) { s.retval = bind(s.tmp_7); }
     else { s.callLocIdx = 396; s.pc = 31; return s.tmp_7; }
    }
  case 31:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + 2);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 + s.tmp_5);
    s.ty___55955 = (r0);
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_6 = Sprite_vx__P31490_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.callLocIdx = 397; s.pc = 33; return s.tmp_6;
  case 33:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >> 0);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 34);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 34:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("v", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ",");
    s.tmp_1 = r0;
    s.tmp_10 = Sprite_vy__P31492_mk(s);
    s.tmp_10.arg0 = s.arg0;
    s.callLocIdx = 398; s.pc = 35; return s.tmp_10;
  case 35:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = (s.tmp_9 >> 0);
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 36);
    pxsim_String__stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 36:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_7);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.tx___55953;
    s.tmp_0.arg3 = s.ty___55955;
    s.tmp_0.arg4 = 1;
    s.tmp_0.arg5 = s.font___55949;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 399; s.pc = 32; return s.tmp_0;
  case 32:
    r0 = s.retval;
  case 9:
  case 10:
    s.tmp_1 = Sprite_ax__P31494_mk(s);
    s.tmp_1.arg0 = s.arg0;
    s.callLocIdx = 400; s.pc = 37; return s.tmp_1;
  case 37:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 11; continue; }
    r0 = s.tmp_0;
    { step = 12; continue; }
  case 11:
    s.tmp_2 = Sprite_ay__P31496_mk(s);
    s.tmp_2.arg0 = s.arg0;
    s.callLocIdx = 401; s.pc = 38; return s.tmp_2;
  case 38:
    r0 = s.retval;
  case 12:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 13; continue; }
    s.tmp_4 = r0 = s.ty___55955;
    s.tmp_7 = if_charHeight_1_mk(s);
    s.tmp_7.arg0 = s.font___55949;
    if (!s.tmp_7.arg0.vtable.iface) {
      s.retval = pxsim_pxtrt.mapGetByString(s.tmp_7.arg0, "charHeight");
    } else {
      s.tmp_7.fn = s.tmp_7.arg0.vtable.iface["charHeight"];
      if (s.tmp_7.fn == null) { s.retval = s.tmp_7.arg0.fields["charHeight"]; }
      else if (!s.tmp_7.fn.isGetter) { s.retval = bind(s.tmp_7); }
     else { s.callLocIdx = 402; s.pc = 39; return s.tmp_7; }
    }
  case 39:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + 2);
    s.tmp_5 = r0;
    r0 = (s.tmp_4 + s.tmp_5);
    s.ty___55955 = (r0);
    s.tmp_0 = helpers_imagePrint__P31221_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_6 = Sprite_ax__P31494_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.callLocIdx = 403; s.pc = 41; return s.tmp_6;
  case 41:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >> 0);
    s.tmp_4 = r0;
    if ((s.tmp_4) && (s.tmp_4).vtable) {
    setupResume(s, 42);
    pxsim_String__stringConv(s.tmp_4);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_4) + ""; }
  case 42:
    r0 = s.retval;
    s.tmp_3 = r0;
    r0 = pxsim_String__concat("a", s.tmp_3);
    s.tmp_2 = r0;
    r0 = pxsim_String__concat(s.tmp_2, ",");
    s.tmp_1 = r0;
    s.tmp_10 = Sprite_ay__P31496_mk(s);
    s.tmp_10.arg0 = s.arg0;
    s.callLocIdx = 404; s.pc = 43; return s.tmp_10;
  case 43:
    r0 = s.retval;
    s.tmp_9 = r0;
    r0 = (s.tmp_9 >> 0);
    s.tmp_8 = r0;
    if ((s.tmp_8) && (s.tmp_8).vtable) {
    setupResume(s, 44);
    pxsim_String__stringConv(s.tmp_8);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.tmp_8) + ""; }
  case 44:
    r0 = s.retval;
    s.tmp_7 = r0;
    r0 = pxsim_String__concat(s.tmp_1, s.tmp_7);
    s.tmp_0.arg1 = r0;
    s.tmp_0.arg2 = s.tx___55953;
    s.tmp_0.arg3 = s.ty___55955;
    s.tmp_0.arg4 = 1;
    s.tmp_0.arg5 = s.font___55949;
    s.tmp_0.arg6 = undefined;
    s.callLocIdx = 405; s.pc = 40; return s.tmp_0;
  case 40:
    r0 = s.retval;
  case 13:
  case 14:
  case 15:
  case 16:
    r0 = pxsim_numops_toBoolDecr(globals.debug___31986);
    if (!r0) { step = 17; continue; }
    s.tmp_0 = helpers_imageDrawRect__P31192_mk(s);
    s.tmp_0.arg0 = globals.screen___31263;
    s.tmp_3 = game_Hitbox_left__P31427_mk(s);
    r0 = s.arg0.fields["_hitbox"];
    s.tmp_3.arg0 = r0;
    s.callLocIdx = 406; s.pc = 46; return s.tmp_3;
  case 46:
    r0 = s.retval;
    s.tmp_2 = r0;
    r0 = (s.tmp_2 + 128);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >> 8);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 - s.ox___55914);
    s.tmp_0.arg1 = r0;
    s.tmp_7 = game_Hitbox_top__P31428_mk(s);
    r0 = s.arg0.fields["_hitbox"];
    s.tmp_7.arg0 = r0;
    s.callLocIdx = 408; s.pc = 47; return s.tmp_7;
  case 47:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = (s.tmp_6 + 128);
    s.tmp_8 = r0;
    r0 = (s.tmp_8 >> 8);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 - s.oy___55922);
    s.tmp_0.arg2 = r0;
    r0 = s.arg0.fields["_hitbox"];
    r0 = r0.fields["width"];
    s.tmp_9 = r0;
    r0 = (s.tmp_9 + 128);
    s.tmp_10 = r0;
    r0 = (s.tmp_10 >> 8);
    s.tmp_0.arg3 = r0;
    r0 = s.arg0.fields["_hitbox"];
    r0 = r0.fields["height"];
    s.tmp_11 = r0;
    r0 = (s.tmp_11 + 128);
    s.tmp_12 = r0;
    r0 = (s.tmp_12 >> 8);
    s.tmp_0.arg4 = r0;
    s.tmp_0.arg5 = 1;
    s.callLocIdx = 412; s.pc = 45; return s.tmp_0;
  case 45:
    r0 = s.retval;
  case 17:
  case 18:
  case 19:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
Sprite___drawCore__P31538.info = {"start":20775,"length":1383,"line":642,"column":4,"endLine":680,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"__drawCore","argumentNames":["this","camera"]}

function Sprite___drawCore__P31538_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite___drawCore__P31538, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  tmp_10: undefined,
  tmp_11: undefined,
  tmp_12: undefined,
  ox___55914: undefined,
  oy___55922: undefined,
  l___55930: undefined,
  t___55934: undefined,
  font___55949: undefined,
  tx___55953: undefined,
  ty___55955: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function Sprite___visible__P31520(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Sprite__C31477_VT)) failedCast(r0);
    r0 = s.arg0.fields["flags"];
    s.tmp_2 = r0;
    r0 = (s.tmp_2 & 128);
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_0);
    return leave(s, r0)
  default: oops()
} } }
Sprite___visible__P31520.info = {"start":8329,"length":72,"line":303,"column":4,"endLine":305,"endColumn":5,"fileName":"pxt_modules/game/sprite.ts","functionName":"__visible","argumentNames":["this"]}

function Sprite___visible__P31520_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Sprite___visible__P31520, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  arg0: undefined,
} }





function scene_Camera_top__P31831(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Camera__C31818_VT)) failedCast(r0);
    r0 = s.arg0.fields["drawOffsetY"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
scene_Camera_top__P31831.info = {"start":1638,"length":58,"line":58,"column":8,"endLine":60,"endColumn":9,"fileName":"pxt_modules/game/camera.ts","functionName":"top","argumentNames":["this"]}
scene_Camera_top__P31831.isGetter = true;

function scene_Camera_top__P31831_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Camera_top__P31831, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function scene_Camera_left__P31829(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, scene_Camera__C31818_VT)) failedCast(r0);
    r0 = s.arg0.fields["drawOffsetX"];
    return leaveAccessor(s, r0)
  default: oops()
} } }
scene_Camera_left__P31829.info = {"start":1486,"length":59,"line":52,"column":8,"endLine":54,"endColumn":9,"fileName":"pxt_modules/game/camera.ts","functionName":"left","argumentNames":["this"]}
scene_Camera_left__P31829.isGetter = true;

function scene_Camera_left__P31829_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: scene_Camera_left__P31829, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }





function particles_ShapeFactory_drawParticle__P32201(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.pImage___56079 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_ShapeFactory__C32198_VT)) failedCast(r0);
    s.tmp_1 = Math_FastRandom_pickRandom__P32049_mk(s);
    r0 = s.arg0.fields["galois"];
    s.tmp_1.arg0 = r0;
    r0 = s.arg0.fields["sources"];
    s.tmp_1.arg1 = r0;
    s.callLocIdx = 1248; s.pc = 1; return s.tmp_1;
  case 1:
    r0 = s.retval;
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.clone(s.tmp_0);
    s.pImage___56079 = (r0);
    r0 = s.arg1.fields["color"];
    s.tmp_0 = r0;
    r0 = pxsim_ImageMethods.replace(s.pImage___56079, 15, s.tmp_0);
    s.tmp_0 = r0 = globals.screen___31263;
    s.tmp_1 = r0 = s.pImage___56079;
    r0 = s.arg0.fields["ox"];
    s.tmp_4 = r0;
    r0 = (s.arg2 - s.tmp_4);
    s.tmp_3 = r0;
    r0 = (s.tmp_3 + 128);
    s.tmp_5 = r0;
    r0 = (s.tmp_5 >> 8);
    s.tmp_2 = r0;
    r0 = s.arg0.fields["oy"];
    s.tmp_8 = r0;
    r0 = (s.arg3 - s.tmp_8);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 + 128);
    s.tmp_9 = r0;
    r0 = (s.tmp_9 >> 8);
    s.tmp_6 = r0;
    r0 = pxsim_ImageMethods.drawTransparentImage(s.tmp_0, s.tmp_1, s.tmp_2, s.tmp_6);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_ShapeFactory_drawParticle__P32201.info = {"start":7172,"length":323,"line":229,"column":8,"endLine":237,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"drawParticle","argumentNames":["this","p","x","y"]}

function particles_ShapeFactory_drawParticle__P32201_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_ShapeFactory_drawParticle__P32201, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  tmp_8: undefined,
  tmp_9: undefined,
  pImage___56079: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function Math_FastRandom_pickRandom__P32049(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, Math_FastRandom__C32044_VT)) failedCast(r0);
    r0 = pxsim_numops_toBoolDecr(s.arg1);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = s.tmp_0;
    { step = 2; continue; }
  case 1:
    r0 = pxsim_Array__length(s.arg1);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 == 0);
  case 2:
    // jmp value (already in r0)
    s.tmp_3 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_3);
    if (!r0) { step = 3; continue; }
    r0 = undefined;
    { step = 5; continue; }
  case 3:
  case 4:
    s.tmp_4 = r0 = s.arg1;
    s.tmp_6 = Math_FastRandom_randomRange__P32048_mk(s);
    s.tmp_6.arg0 = s.arg0;
    s.tmp_6.arg1 = 0;
    r0 = pxsim_Array__length(s.arg1);
    s.tmp_7 = r0;
    r0 = (s.tmp_7 - 1);
    s.tmp_6.arg2 = r0;
    s.callLocIdx = 978; s.pc = 6; return s.tmp_6;
  case 6:
    r0 = s.retval;
    s.tmp_5 = r0;
    r0 = pxsim_Array__getAt(s.tmp_4, s.tmp_5);
  case 5:
    return leave(s, r0)
  default: oops()
} } }
Math_FastRandom_pickRandom__P32049.info = {"start":2358,"length":192,"line":70,"column":8,"endLine":75,"endColumn":9,"fileName":"pxt_modules/game/mathUtil.ts","functionName":"pickRandom","argumentNames":["this","list"]}

function Math_FastRandom_pickRandom__P32049_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: Math_FastRandom_pickRandom__P32049, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  tmp_7: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function particles_AreaFactory_drawParticle__P32189(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.col___56125 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_AreaFactory__C32182_VT)) failedCast(r0);
    r0 = s.arg1.fields["lifespan"];
    s.tmp_1 = r0;
    r0 = (s.tmp_1 > 500);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 4;
    { step = 4; continue; }
  case 1:
    r0 = s.arg1.fields["lifespan"];
    s.tmp_3 = r0;
    r0 = (s.tmp_3 > 250);
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 2; continue; }
    r0 = 5;
    { step = 3; continue; }
  case 2:
    r0 = 1;
  case 3:
    // jmp value (already in r0)
    s.tmp_4 = r0;
    r0 = s.tmp_4;
  case 4:
    // jmp value (already in r0)
    s.tmp_5 = r0;
    s.col___56125 = (s.tmp_5);
    s.tmp_0 = r0 = globals.screen___31263;
    r0 = (s.arg2 + 128);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 8);
    s.tmp_1 = r0;
    r0 = (s.arg3 + 128);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >> 8);
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, s.tmp_1, s.tmp_3, s.col___56125);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_AreaFactory_drawParticle__P32189.info = {"start":4770,"length":222,"line":158,"column":8,"endLine":163,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"drawParticle","argumentNames":["this","p","x","y"]}

function particles_AreaFactory_drawParticle__P32189_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_AreaFactory_drawParticle__P32189, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  col___56125: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function particles_SprayFactory_drawParticle__P32179(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, particles_SprayFactory__C32176_VT)) failedCast(r0);
    s.tmp_0 = r0 = globals.screen___31263;
    r0 = (s.arg2 + 128);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 >> 8);
    s.tmp_1 = r0;
    r0 = (s.arg3 + 128);
    s.tmp_4 = r0;
    r0 = (s.tmp_4 >> 8);
    s.tmp_3 = r0;
    r0 = pxsim_ImageMethods.setPixel(s.tmp_0, s.tmp_1, s.tmp_3, 1);
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
particles_SprayFactory_drawParticle__P32179.info = {"start":3194,"length":118,"line":115,"column":8,"endLine":117,"endColumn":9,"fileName":"pxt_modules/game/particlefactories.ts","functionName":"drawParticle","argumentNames":["this","particle","x","y"]}

function particles_SprayFactory_drawParticle__P32179_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: particles_SprayFactory_drawParticle__P32179, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }





function jacdac_WifiController_socketClose__P34081(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___56304 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    r0 = s.arg0.fields["sockets"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.arg1);
    s.s___56304 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.s___56304);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_Socket_close__P34059_mk(s);
    s.tmp_2.arg0 = s.s___56304;
    s.callLocIdx = 1765; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiController_socketClose__P34081.info = {"start":5960,"length":152,"line":202,"column":8,"endLine":206,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"socketClose","argumentNames":["this","socket_num"]}

function jacdac_WifiController_socketClose__P34081_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_socketClose__P34081, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  s___56304: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_WifiController_socketRead__P34080(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___56316 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    r0 = s.arg0.fields["sockets"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.arg1);
    s.s___56316 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.s___56316);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = undefined;
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_Socket_read__P34061_mk(s);
    s.tmp_2.arg0 = s.s___56316;
    s.callLocIdx = 1764; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiController_socketRead__P34080.info = {"start":5767,"length":183,"line":196,"column":8,"endLine":200,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"socketRead","argumentNames":["this","socket_num","size"]}

function jacdac_WifiController_socketRead__P34080_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_socketRead__P34080, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  s___56316: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_WifiController_socketAvailable__P34079(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___56328 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    r0 = s.arg0.fields["sockets"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.arg1);
    s.s___56328 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.s___56328);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = 0;
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_Socket_bytesAvailable__P34062_mk(s);
    s.tmp_2.arg0 = s.s___56328;
    s.callLocIdx = 1763; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
  case 3:
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiController_socketAvailable__P34079.info = {"start":5581,"length":176,"line":190,"column":8,"endLine":194,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"socketAvailable","argumentNames":["this","socket_num"]}

function jacdac_WifiController_socketAvailable__P34079_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_socketAvailable__P34079, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  s___56328: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_Socket_bytesAvailable__P34062(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Socket__C34057_VT)) failedCast(r0);
    s.tmp_0 = jacdac_InStream_bytesAvailable__P33663_mk(s);
    r0 = s.arg0.fields["inp"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1736; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Socket_bytesAvailable__P34062.info = {"start":2301,"length":81,"line":81,"column":8,"endLine":83,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"bytesAvailable","argumentNames":["this"]}

function jacdac_Socket_bytesAvailable__P34062_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Socket_bytesAvailable__P34062, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
} }





function jacdac_InStream_bytesAvailable__P33663(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.sum___56342 = undefined;
    s.b___56344 = undefined;
    s.unnamed536___U2 = undefined;
    s.unnamed537___U3 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_InStream__C33659_VT)) failedCast(r0);
    s.sum___56342 = (0);
    s.b___56344 = (undefined);
    r0 = s.arg0.fields["inQ"];
    s.unnamed536___U2 = (r0);
    s.unnamed537___U3 = (0);
  case 1:
    s.tmp_0 = r0 = s.unnamed537___U3;
    r0 = pxsim_Array__length(s.unnamed536___U2);
    s.tmp_1 = r0;
    r0 = (s.tmp_0 < s.tmp_1);
    if (!r0) { step = 2; continue; }
    r0 = pxsim_Array__getAt(s.unnamed536___U2, s.unnamed537___U3);
    s.b___56344 = (r0);
    s.tmp_2 = r0 = s.sum___56342;
    r0 = pxsim.BufferMethods.length(s.b___56344);
    s.tmp_3 = r0;
    r0 = (s.tmp_2 + s.tmp_3);
    s.sum___56342 = (r0);
    r0 = (s.unnamed537___U3 + 1);
    s.unnamed537___U3 = (r0);
    { step = 1; continue; }
  case 2:
    s.unnamed536___U2 = (undefined);
    r0 = s.sum___56342;
    return leave(s, r0)
  default: oops()
} } }
jacdac_InStream_bytesAvailable__P33663.info = {"start":1321,"length":145,"line":43,"column":8,"endLine":48,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"bytesAvailable","argumentNames":["this"]}

function jacdac_InStream_bytesAvailable__P33663_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_InStream_bytesAvailable__P33663, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  sum___56342: undefined,
  b___56344: undefined,
  unnamed536___U2: undefined,
  unnamed537___U3: undefined,
  arg0: undefined,
} }





function jacdac_WifiController_socketWrite__P34078(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___56356 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    r0 = s.arg0.fields["sockets"];
    s.tmp_0 = r0;
    r0 = pxsim_Array__getAt(s.tmp_0, s.arg1);
    s.s___56356 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.s___56356);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    { step = 3; continue; }
  case 1:
  case 2:
    s.tmp_2 = jacdac_Socket_write__P34060_mk(s);
    s.tmp_2.arg0 = s.s___56356;
    s.tmp_2.arg1 = s.arg2;
    s.callLocIdx = 1762; s.pc = 4; return s.tmp_2;
  case 4:
    r0 = s.retval;
  case 3:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiController_socketWrite__P34078.info = {"start":5397,"length":174,"line":184,"column":8,"endLine":188,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"socketWrite","argumentNames":["this","socket_num","buffer"]}

function jacdac_WifiController_socketWrite__P34078_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_socketWrite__P34078, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  s___56356: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_Socket_write__P34060(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Socket__C34057_VT)) failedCast(r0);
    r0 = s.arg0.fields["isConnected"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    s.tmp_1 = jacdac_OutStream_write__P33671_mk(s);
    r0 = s.arg0.fields["outp"];
    s.tmp_1.arg0 = r0;
    s.tmp_1.arg1 = s.arg1;
    s.callLocIdx = 1734; s.pc = 3; return s.tmp_1;
  case 3:
    r0 = s.retval;
  case 1:
  case 2:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Socket_write__P34060.info = {"start":2038,"length":101,"line":71,"column":8,"endLine":74,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"write","argumentNames":["this","buf"]}

function jacdac_Socket_write__P34060_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Socket_write__P34060, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_OutStream_write__P33671(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_OutStream__C33669_VT)) failedCast(r0);
    s.tmp_0 = jacdac_OutStream_writeEx__P36470_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = 0;
    s.callLocIdx = 1551; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutStream_write__P33671.info = {"start":3337,"length":63,"line":116,"column":8,"endLine":118,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"write","argumentNames":["this","buf"]}

function jacdac_OutStream_write__P33671_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutStream_write__P33671, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function jacdac_WifiController_socketConnect__P34077(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.s___56389 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.arg3 = (s.lambdaArgs[3]);
      s.arg4 = (s.lambdaArgs[4]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_WifiController__C34070_VT)) failedCast(r0);
    r0 = (s.arg4 != 2);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.throwValue("only SSL supported now");
  case 1:
  case 2:
    r0 = pxsim_pxtcore.typeOf(s.arg2);
    s.tmp_2 = r0;
    r0 = (s.tmp_2 != "string");
    s.tmp_1 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_1);
    if (!r0) { step = 3; continue; }
    r0 = pxsim_pxtcore.throwValue("only string hostnames supported");
  case 3:
  case 4:
    r0 = s.arg0.fields["sockets"];
    s.tmp_3 = r0;
    r0 = pxsim_Array__getAt(s.tmp_3, s.arg1);
    s.s___56389 = (r0);
    r0 = pxsim_numops_toBoolDecr(s.s___56389);
    s.tmp_1 = r0;
    r0 = pxsim_Boolean__bang(s.tmp_1);
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 5; continue; }
    r0 = pxsim_pxtcore.throwValue("no such socket");
  case 5:
  case 6:
    r0 = pxsim_pxtcore.beginTry(7);
    s.tmp_0 = jacdac_Socket_connectSSL__P34063_mk(s);
    s.tmp_0.arg0 = s.s___56389;
    s.tmp_0.arg1 = s.arg2;
    s.tmp_0.arg2 = s.arg3;
    s.callLocIdx = 1761; s.pc = 10; return s.tmp_0;
  case 10:
    r0 = s.retval;
    r0 = true;
    { step = 9; continue; }
    r0 = pxsim_pxtcore.endTry();
    { step = 8; continue; }
  case 7:
    r0 = false;
    { step = 9; continue; }
  case 8:
    r0 = undefined;
  case 9:
    return leave(s, r0)
  default: oops()
} } }
jacdac_WifiController_socketConnect__P34077.info = {"start":4816,"length":571,"line":166,"column":8,"endLine":182,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"socketConnect","argumentNames":["this","socket_num","dest","port","conn_mode"]}

function jacdac_WifiController_socketConnect__P34077_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_WifiController_socketConnect__P34077, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  s___56389: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }





function jacdac_Socket_connectSSL__P34063(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    s.buf___56420 = undefined;
    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.arg2 = (s.lambdaArgs[2]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_Socket__C34057_VT)) failedCast(r0);
    r0 = s.arg0.fields["isConnected"];
    s.tmp_0 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_0);
    if (!r0) { step = 1; continue; }
    r0 = pxsim_pxtcore.throwValue("already connected");
  case 1:
  case 2:
    r0 = pxsim_Array__mk();
    s.tmp_1 = r0;
    r0 = pxsim_Array__push(s.tmp_1, 1);
    r0 = pxsim_Array__push(s.tmp_1, s.arg2);
    s.tmp_2 = jacdac_OutStream_writeMeta__P33674_mk(s);
    r0 = s.arg0.fields["outp"];
    s.tmp_2.arg0 = r0;
    s.tmp_3 = helpers_bufferConcat__P29606_mk(s);
    s.tmp_4 = Buffer_pack__P29629_mk(s);
    s.tmp_4.arg0 = "IH";
    s.tmp_4.arg1 = s.tmp_1;
    s.callLocIdx = 1737; s.pc = 9; return s.tmp_4;
  case 9:
    r0 = s.retval;
    s.tmp_3.arg0 = r0;
    if ((s.arg1) && (s.arg1).vtable) {
    setupResume(s, 10);
    pxsim_String__stringConv(s.arg1);
    checkResumeConsumed();
    return;
    } else { s.retval = (s.arg1) + ""; }
  case 10:
    r0 = s.retval;
    s.tmp_6 = r0;
    r0 = pxsim_String__concat(s.tmp_6, "\u0000");
    s.tmp_5 = r0;
    r0 = pxsim.control.createBufferFromUTF8(s.tmp_5);
    s.tmp_3.arg1 = r0;
    s.callLocIdx = 1738; s.pc = 8; return s.tmp_3;
  case 8:
    r0 = s.retval;
    s.tmp_2.arg1 = r0;
    s.callLocIdx = 1739; s.pc = 7; return s.tmp_2;
  case 7:
    r0 = s.retval;
    s.tmp_0 = jacdac_InStream_read__P33664_mk(s);
    r0 = s.arg0.fields["inp"];
    s.tmp_0.arg0 = r0;
    s.callLocIdx = 1740; s.pc = 11; return s.tmp_0;
  case 11:
    r0 = s.retval;
    s.buf___56420 = (r0);
    s.tmp_0 = r0 = s.buf___56420;
    r0 = pxsim_numops_toBool(s.tmp_0);
    if (r0) { step = 3; continue; }
    r0 = s.tmp_0;
    { step = 4; continue; }
  case 3:
    r0 = pxsim.BufferMethods.length(s.buf___56420);
    s.tmp_1 = r0;
    r0 = (s.tmp_1 == 0);
  case 4:
    // jmp value (already in r0)
    s.tmp_2 = r0;
    r0 = pxsim_numops_toBoolDecr(s.tmp_2);
    if (!r0) { step = 5; continue; }
    r0 = (s.arg0).fields["isConnected"] = (true);
    { step = 6; continue; }
  case 5:
    r0 = pxsim_pxtcore.throwValue("can't connect");
  case 6:
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_Socket_connectSSL__P34063.info = {"start":2392,"length":432,"line":85,"column":8,"endLine":95,"endColumn":9,"fileName":"pxt_modules/jacdac-services/wificlient.ts","functionName":"connectSSL","argumentNames":["this","hostname","port"]}

function jacdac_Socket_connectSSL__P34063_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_Socket_connectSSL__P34063, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  tmp_5: undefined,
  tmp_6: undefined,
  buf___56420: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }





function jacdac_OutStream_writeMeta__P33674(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.arg1 = (s.lambdaArgs[1]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, jacdac_OutStream__C33669_VT)) failedCast(r0);
    s.tmp_0 = jacdac_OutStream_writeEx__P36470_mk(s);
    s.tmp_0.arg0 = s.arg0;
    s.tmp_0.arg1 = s.arg1;
    s.tmp_0.arg2 = 64;
    s.callLocIdx = 1554; s.pc = 1; return s.tmp_0;
  case 1:
    r0 = s.retval;
    r0 = undefined;
    return leave(s, r0)
  default: oops()
} } }
jacdac_OutStream_writeMeta__P33674.info = {"start":3578,"length":79,"line":128,"column":8,"endLine":130,"endColumn":9,"fileName":"pxt_modules/jacdac-services/streams.ts","functionName":"writeMeta","argumentNames":["this","buf"]}

function jacdac_OutStream_writeMeta__P33674_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: jacdac_OutStream_writeMeta__P33674, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  arg0: undefined,
  arg1: undefined,
} }





function net_Controller_scanNetworks__P34105(s) {
let r0 = s.r0, step = s.pc;
s.pc = -1;


while (true) {
if (yieldSteps-- < 0 && maybeYield(s, step, r0) || runtime !== pxsim.runtime) return null;
switch (step) {
  case 0:

    if (s.lambdaArgs) {
      s.arg0 = (s.lambdaArgs[0]);
      s.lambdaArgs = null;
    }
    r0 = s.arg0;
    if (!checkSubtype(r0, net_Controller__C34103_VT)) failedCast(r0);
    r0 = pxsim_Array__mk();
    return leave(s, r0)
  default: oops()
} } }
net_Controller_scanNetworks__P34105.info = {"start":81,"length":75,"line":4,"column":8,"endLine":6,"endColumn":9,"fileName":"pxt_modules/net/controller.ts","functionName":"scanNetworks","argumentNames":["this"]}

function net_Controller_scanNetworks__P34105_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: net_Controller_scanNetworks__P34105, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  arg0: undefined,
} }




function lambda_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_handler_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function lambda_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function lambda_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_condition_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function lambda_4_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }


function if_flags_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function particles_ParticleFactory__C32172_v0_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function particles_ParticleSource__C32136_v4_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function if_x_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_y_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_id_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function PhysicsEngine__C31620_v4_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if___update_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function PhysicsEngine__C31620_v3_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_charHeight_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_charWidth_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_multiplier_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_data_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_xOffset_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_yOffset_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if___draw_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_z_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_id_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function controller_Button__C31364_v0_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_s_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_vx_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_vy_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_headers_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_headers_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_setTimeout_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_timeout_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_connect_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_send_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_json_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_data_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_readLine_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function net_Controller__C34103_v7_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function net_Controller__C34103_v1_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_factory_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function game_BaseDialog__C31935_v2_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function PhysicsEngine__C31620_v0_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_handler_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function jacdac_Host__C33508_v2_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function jacdac_Host__C33508_v0_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function jacdac_Client__C33529_v0_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function jacdac_Host__C33508_v1_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function jacdac_Host__C33508_v3_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function jacdac_JDMelodyPlayer__C36581_v0_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_onPlayFinished_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function lambda_5_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }


function music_MelodyPlayer__C31069_v1_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function jacdac_lightanimation_Base__C33859_v0_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function jacdac_lightanimation_Base__C33859_v1_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_lastGesture_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_gestureHandlers_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_lastGesture_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_lastCustomGesture_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_customGestureHandlers_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_lastCustomGesture_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_lightHandlers_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_lastLightCondition_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_lastLightCondition_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_effect_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function if_sourceFactory_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function PhysicsEngine__C31620_v1_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_destroyHandler_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_generator_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_padding_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_cardsPerRow_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_cardWidth_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_cardSpacing_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_cardsTop_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_headerText_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_headerFont_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_infoTop_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_infoFont_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_getText_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function PhysicsEngine__C31620_v2_4_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }


function if_basicCard_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_selectedCard_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_activeCard_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_z_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_onUpdate_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function net_Controller__C34103_v4_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function net_Controller__C34103_v5_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function net_Controller__C34103_v6_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if__closeHandler_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function net_Controller__C34103_v3_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function net_Controller__C34103_v2_5_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
  arg4: undefined,
} }


function if__openHandler_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if__errorHandler_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_read_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_close_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_handler_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function if_tileIndex_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_left_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_top_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_updateSay_3_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
} }


function if_height_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function particles_ParticleFactory__C32172_v1_4_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }


function sprites_BaseSprite__C31319_v0_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function sprites_BaseSprite__C31319_v2_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_onMessageReceived_4_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
  arg2: undefined,
  arg3: undefined,
} }


function jacdac_WifiController__C34070_v8_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function jacdac_WifiController__C34070_v0_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if__stateChangedHandler_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_shouldBeVisible_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_scene_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_state_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_up_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_yOffset_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_up_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_elements_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_elements_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_width_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function net_Controller__C34103_v9_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function net_Controller__C34103_v10_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function net_Controller__C34103_v8_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_testFn_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_title_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_active_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_update_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_update_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_active_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_cb_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_onB_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_onB_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_onLeft_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_onRight_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function if_title_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_highlightColor_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_footer_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function game_SplashDialog__C31963_v1_2_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
  arg1: undefined,
} }


function game_BaseDialog__C31935_v0_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_files_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_volumeLabel_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }


function if_writeHandler_1_mk(s) {
    checkStack(s.depth);
    return {
        parent: s, fn: null, depth: s.depth + 1,
        pc: 0, retval: undefined, r0: undefined, overwrittenPC: false, lambdaArgs: null,
  tmp_0: undefined,
  tmp_1: undefined,
  tmp_2: undefined,
  tmp_3: undefined,
  tmp_4: undefined,
  arg0: undefined,
} }

const controller_Button__C31364_VT = mkVTable({
  name: "Button",
  numFields: 7,
  classNo: 16,
  lastSubtypeNo: 17,
  maxBgInstances: null,
  methods: {
    "isPressed": controller_Button_isPressed__P31373,
  },
  iface: {
    "_owner": null,
    "set/_owner": null,
    "id": null,
    "set/id": null,
    "repeatDelay": null,
    "set/repeatDelay": null,
    "repeatInterval": null,
    "set/repeatInterval": null,
    "_pressed": null,
    "set/_pressed": null,
    "_pressedElasped": null,
    "set/_pressedElasped": null,
    "_repeatCount": null,
    "set/_repeatCount": null,
    "toString": controller_Button_toString__P31369,
    "raiseButtonUp": controller_Button_raiseButtonUp__P34506,
    "raiseButtonDown": controller_Button_raiseButtonDown__P34507,
    "raiseButtonRepeat": controller_Button_raiseButtonRepeat__P34508,
    "onEvent": controller_Button_onEvent__P31371,
    "isPressed": controller_Button_isPressed__P31373,
    "pressureLevel": controller_Button_pressureLevel__P31374,
    "setPressed": controller_Button_setPressed__P31375,
    "__update": controller_Button___update__P31376,
  },
  toStringMethod: controller_Button_toString__P31369,
});
const controller_AnyButton__C34509_VT = mkVTable({
  name: "AnyButton",
  numFields: 7,
  classNo: 17,
  lastSubtypeNo: 17,
  maxBgInstances: null,
  methods: {
    "isPressed": controller_AnyButton_isPressed__P34511,
  },
  iface: {
    "_owner": null,
    "set/_owner": null,
    "id": null,
    "set/id": null,
    "repeatDelay": null,
    "set/repeatDelay": null,
    "repeatInterval": null,
    "set/repeatInterval": null,
    "_pressed": null,
    "set/_pressed": null,
    "_pressedElasped": null,
    "set/_pressedElasped": null,
    "_repeatCount": null,
    "set/_repeatCount": null,
    "isPressed": controller_AnyButton_isPressed__P34511,
    "toString": controller_Button_toString__P31369,
    "raiseButtonUp": controller_Button_raiseButtonUp__P34506,
    "raiseButtonDown": controller_Button_raiseButtonDown__P34507,
    "raiseButtonRepeat": controller_Button_raiseButtonRepeat__P34508,
    "onEvent": controller_Button_onEvent__P31371,
    "pressureLevel": controller_Button_pressureLevel__P31374,
    "setPressed": controller_Button_setPressed__P31375,
    "__update": controller_Button___update__P31376,
  },
});
const Math_FastRandom__C32044_VT = mkVTable({
  name: "FastRandom",
  numFields: 2,
  classNo: 18,
  lastSubtypeNo: 18,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "lfsr": null,
    "set/lfsr": null,
    "seed": null,
    "set/seed": null,
    "next": Math_FastRandom_next__P32047,
    "randomRange": Math_FastRandom_randomRange__P32048,
    "pickRandom": Math_FastRandom_pickRandom__P32049,
  },
});
const texteffects_TextEffect__C32289_VT = mkVTable({
  name: "TextEffect",
  numFields: 1,
  classNo: 19,
  lastSubtypeNo: 19,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "getState": null,
    "set/getState": null,
  },
});
const jacdac_Client__C33529_VT = mkVTable({
  name: "Client",
  numFields: 12,
  classNo: 20,
  lastSubtypeNo: 34,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P33543,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "handlePacket": jacdac_Client_handlePacket__P33543,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const jacdac_SensorClient__C33769_VT = mkVTable({
  name: "SensorClient",
  numFields: 16,
  classNo: 21,
  lastSubtypeNo: 24,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_SensorClient_handlePacket__P33776,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "_localTime": null,
    "set/_localTime": null,
    "_lastState": null,
    "set/_lastState": null,
    "_stateChangedHandler": null,
    "set/_stateChangedHandler": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "state": jacdac_SensorClient_state__P33772,
    "setStreaming": jacdac_SensorClient_setStreaming__P33773,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P33775,
    "handlePacket": jacdac_SensorClient_handlePacket__P33776,
    "handleCustomCommand": jacdac_SensorClient_handleCustomCommand__P36508,
    "handleVirtualState": jacdac_SensorClient_handleVirtualState__P36509,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const jacdac_RotaryEncoderClient__C34032_VT = mkVTable({
  name: "RotaryEncoderClient",
  numFields: 20,
  classNo: 22,
  lastSubtypeNo: 22,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_SensorClient_handlePacket__P33776,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "_localTime": null,
    "set/_localTime": null,
    "_lastState": null,
    "set/_lastState": null,
    "_stateChangedHandler": null,
    "set/_stateChangedHandler": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "scale": null,
    "set/scale": null,
    "_min": null,
    "set/_min": null,
    "_max": null,
    "set/_max": null,
    "_offset": null,
    "set/_offset": null,
    "state": jacdac_SensorClient_state__P33772,
    "setStreaming": jacdac_SensorClient_setStreaming__P33773,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P33775,
    "handlePacket": jacdac_SensorClient_handlePacket__P33776,
    "handleCustomCommand": jacdac_SensorClient_handleCustomCommand__P36508,
    "handleVirtualState": jacdac_SensorClient_handleVirtualState__P36509,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const net_Net__C34167_VT = mkVTable({
  name: "Net",
  numFields: 2,
  classNo: 35,
  lastSubtypeNo: 35,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_controller": null,
    "set/_controller": null,
    "factory": null,
    "set/factory": null,
    "controller": net_Net_controller__P34170,
    "createSocket": net_Net_createSocket__P34172,
    "hostByName": net_Net_hostByName__P34173,
  },
});
const net_Controller__C34103_VT = mkVTable({
  name: "Controller",
  numFields: 0,
  classNo: 36,
  lastSubtypeNo: 37,
  maxBgInstances: null,
  methods: {
    "scanNetworks": net_Controller_scanNetworks__P34105,
    "socket": net_Controller_socket__P34106,
    "socketConnect": net_Controller_socketConnect__P34107,
    "socketWrite": net_Controller_socketWrite__P34108,
    "socketAvailable": net_Controller_socketAvailable__P34109,
    "socketRead": net_Controller_socketRead__P34110,
    "socketClose": net_Controller_socketClose__P34111,
    "hostbyName": net_Controller_hostbyName__P34112,
    "isConnected": net_Controller_isConnected__P34114,
    "connect": net_Controller_connect__P34115,
    "MACaddress": net_Controller_MACaddress__P34117,
  },
  iface: {
    "scanNetworks": net_Controller_scanNetworks__P34105,
    "socket": net_Controller_socket__P34106,
    "socketConnect": net_Controller_socketConnect__P34107,
    "socketWrite": net_Controller_socketWrite__P34108,
    "socketAvailable": net_Controller_socketAvailable__P34109,
    "socketRead": net_Controller_socketRead__P34110,
    "socketClose": net_Controller_socketClose__P34111,
    "hostbyName": net_Controller_hostbyName__P34112,
    "isConnected": net_Controller_isConnected__P34114,
    "connect": net_Controller_connect__P34115,
    "MACaddress": net_Controller_MACaddress__P34117,
  },
});
const jacdac_WifiController__C34070_VT = mkVTable({
  name: "WifiController",
  numFields: 4,
  classNo: 37,
  lastSubtypeNo: 37,
  maxBgInstances: null,
  methods: {
    "scanNetworks": jacdac_WifiController_scanNetworks__P34075,
    "socket": jacdac_WifiController_socket__P34076,
    "socketConnect": jacdac_WifiController_socketConnect__P34077,
    "socketWrite": jacdac_WifiController_socketWrite__P34078,
    "socketAvailable": jacdac_WifiController_socketAvailable__P34079,
    "socketRead": jacdac_WifiController_socketRead__P34080,
    "socketClose": jacdac_WifiController_socketClose__P34081,
    "hostbyName": jacdac_WifiController_hostbyName__P34082,
    "isConnected": jacdac_WifiController_isConnected__P34084,
    "connect": jacdac_WifiController_connect__P34085,
    "MACaddress": jacdac_WifiController_MACaddress__P34087,
  },
  iface: {
    "wifiClient": null,
    "set/wifiClient": null,
    "tcpClient": null,
    "set/tcpClient": null,
    "sockets": null,
    "set/sockets": null,
    "_ssid": null,
    "set/_ssid": null,
    "start": jacdac_WifiController_start__P34074,
    "scanNetworks": jacdac_WifiController_scanNetworks__P34075,
    "socket": jacdac_WifiController_socket__P34076,
    "socketConnect": jacdac_WifiController_socketConnect__P34077,
    "socketWrite": jacdac_WifiController_socketWrite__P34078,
    "socketAvailable": jacdac_WifiController_socketAvailable__P34079,
    "socketRead": jacdac_WifiController_socketRead__P34080,
    "socketClose": jacdac_WifiController_socketClose__P34081,
    "hostbyName": jacdac_WifiController_hostbyName__P34082,
    "isConnected": jacdac_WifiController_isConnected__P34084,
    "connect": jacdac_WifiController_connect__P34085,
    "MACaddress": jacdac_WifiController_MACaddress__P34087,
  },
});
const ServiceDesc__C34250_VT = mkVTable({
  name: "ServiceDesc",
  numFields: 3,
  classNo: 38,
  lastSubtypeNo: 38,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "classNum": null,
    "set/classNum": null,
    "name": null,
    "set/name": null,
    "testFn": null,
    "set/testFn": null,
  },
});
const jacdac_LightClient__C33849_VT = mkVTable({
  name: "LightClient",
  numFields: 14,
  classNo: 25,
  lastSubtypeNo: 25,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P33543,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "_length": null,
    "set/_length": null,
    "currAnimation": null,
    "set/currAnimation": null,
    "setStrip": jacdac_LightClient_setStrip__P33852,
    "setBrightness": jacdac_LightClient_setBrightness__P33853,
    "runProgram": jacdac_LightClient_runProgram__P33854,
    "runEncoded": jacdac_LightClient_runEncoded__P33855,
    "showAnimation": jacdac_LightClient_showAnimation__P33857,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "handlePacket": jacdac_Client_handlePacket__P33543,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const jacdac_lightanimation_Base__C33859_VT = mkVTable({
  name: "Base",
  numFields: 3,
  classNo: 39,
  lastSubtypeNo: 46,
  maxBgInstances: null,
  methods: {
    "clear": jacdac_lightanimation_Base_clear__P33864,
    "nextFrame": jacdac_lightanimation_Base_nextFrame__P33865,
  },
  iface: {
    "length": null,
    "set/length": null,
    "step": null,
    "set/step": null,
    "color": null,
    "set/color": null,
    "clear": jacdac_lightanimation_Base_clear__P33864,
    "nextFrame": jacdac_lightanimation_Base_nextFrame__P33865,
  },
});
const jacdac_lightanimation_Comet__C33871_VT = mkVTable({
  name: "Comet",
  numFields: 3,
  classNo: 40,
  lastSubtypeNo: 40,
  maxBgInstances: null,
  methods: {
    "clear": jacdac_lightanimation_Base_clear__P33864,
    "nextFrame": jacdac_lightanimation_Comet_nextFrame__P33873,
  },
  iface: {
    "length": null,
    "set/length": null,
    "step": null,
    "set/step": null,
    "color": null,
    "set/color": null,
    "nextFrame": jacdac_lightanimation_Comet_nextFrame__P33873,
    "clear": jacdac_lightanimation_Base_clear__P33864,
  },
});
const jacdac_lightanimation_Fireflys__C33883_VT = mkVTable({
  name: "Fireflys",
  numFields: 4,
  classNo: 41,
  lastSubtypeNo: 41,
  maxBgInstances: null,
  methods: {
    "clear": jacdac_lightanimation_Fireflys_clear__P33886,
    "nextFrame": jacdac_lightanimation_Fireflys_nextFrame__P33887,
  },
  iface: {
    "length": null,
    "set/length": null,
    "step": null,
    "set/step": null,
    "color": null,
    "set/color": null,
    "positions": null,
    "set/positions": null,
    "clear": jacdac_lightanimation_Fireflys_clear__P33886,
    "nextFrame": jacdac_lightanimation_Fireflys_nextFrame__P33887,
  },
});
const jacdac_lightanimation_RainbowCycle__C33866_VT = mkVTable({
  name: "RainbowCycle",
  numFields: 3,
  classNo: 42,
  lastSubtypeNo: 42,
  maxBgInstances: null,
  methods: {
    "clear": jacdac_lightanimation_Base_clear__P33864,
    "nextFrame": jacdac_lightanimation_RainbowCycle_nextFrame__P33867,
  },
  iface: {
    "length": null,
    "set/length": null,
    "step": null,
    "set/step": null,
    "color": null,
    "set/color": null,
    "nextFrame": jacdac_lightanimation_RainbowCycle_nextFrame__P33867,
    "clear": jacdac_lightanimation_Base_clear__P33864,
  },
});
const jacdac_lightanimation_RunningLights__C33868_VT = mkVTable({
  name: "RunningLights",
  numFields: 3,
  classNo: 43,
  lastSubtypeNo: 43,
  maxBgInstances: null,
  methods: {
    "clear": jacdac_lightanimation_Base_clear__P33864,
    "nextFrame": jacdac_lightanimation_RunningLights_nextFrame__P33870,
  },
  iface: {
    "length": null,
    "set/length": null,
    "step": null,
    "set/step": null,
    "color": null,
    "set/color": null,
    "nextFrame": jacdac_lightanimation_RunningLights_nextFrame__P33870,
    "clear": jacdac_lightanimation_Base_clear__P33864,
  },
});
const jacdac_lightanimation_Sparkle__C33874_VT = mkVTable({
  name: "Sparkle",
  numFields: 4,
  classNo: 44,
  lastSubtypeNo: 44,
  maxBgInstances: null,
  methods: {
    "clear": jacdac_lightanimation_Base_clear__P33864,
    "nextFrame": jacdac_lightanimation_Sparkle_nextFrame__P33876,
  },
  iface: {
    "length": null,
    "set/length": null,
    "step": null,
    "set/step": null,
    "color": null,
    "set/color": null,
    "lastpix": null,
    "set/lastpix": null,
    "nextFrame": jacdac_lightanimation_Sparkle_nextFrame__P33876,
    "clear": jacdac_lightanimation_Base_clear__P33864,
  },
});
const jacdac_lightanimation_TheaterChase__C33880_VT = mkVTable({
  name: "TheaterChase",
  numFields: 3,
  classNo: 45,
  lastSubtypeNo: 45,
  maxBgInstances: null,
  methods: {
    "clear": jacdac_lightanimation_Base_clear__P33864,
    "nextFrame": jacdac_lightanimation_TheaterChase_nextFrame__P33882,
  },
  iface: {
    "length": null,
    "set/length": null,
    "step": null,
    "set/step": null,
    "color": null,
    "set/color": null,
    "nextFrame": jacdac_lightanimation_TheaterChase_nextFrame__P33882,
    "clear": jacdac_lightanimation_Base_clear__P33864,
  },
});
const jacdac_lightanimation_ColorWipe__C33877_VT = mkVTable({
  name: "ColorWipe",
  numFields: 3,
  classNo: 46,
  lastSubtypeNo: 46,
  maxBgInstances: null,
  methods: {
    "clear": jacdac_lightanimation_Base_clear__P33864,
    "nextFrame": jacdac_lightanimation_ColorWipe_nextFrame__P33879,
  },
  iface: {
    "length": null,
    "set/length": null,
    "step": null,
    "set/step": null,
    "color": null,
    "set/color": null,
    "nextFrame": jacdac_lightanimation_ColorWipe_nextFrame__P33879,
    "clear": jacdac_lightanimation_Base_clear__P33864,
  },
});
const jacdac_ServoClient__C33987_VT = mkVTable({
  name: "ServoClient",
  numFields: 15,
  classNo: 26,
  lastSubtypeNo: 26,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P33543,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "pulse": null,
    "set/pulse": null,
    "autoOff": null,
    "set/autoOff": null,
    "lastSet": null,
    "set/lastSet": null,
    "sync": jacdac_ServoClient_sync__P36554,
    "turnOff": jacdac_ServoClient_turnOff__P33990,
    "setAngle": jacdac_ServoClient_setAngle__P33991,
    "setPulse": jacdac_ServoClient_setPulse__P33993,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "handlePacket": jacdac_Client_handlePacket__P33543,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const jacdac_MotorClient__C33996_VT = mkVTable({
  name: "MotorClient",
  numFields: 12,
  classNo: 27,
  lastSubtypeNo: 27,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P33543,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "run": jacdac_MotorClient_run__P33999,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "handlePacket": jacdac_Client_handlePacket__P33543,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const jacdac_MonoLightClient__C34096_VT = mkVTable({
  name: "MonoLightClient",
  numFields: 12,
  classNo: 28,
  lastSubtypeNo: 28,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P33543,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "setIterations": jacdac_MonoLightClient_setIterations__P34098,
    "setBrightness": jacdac_MonoLightClient_setBrightness__P34099,
    "showAnimation": jacdac_MonoLightClient_showAnimation__P34100,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "handlePacket": jacdac_Client_handlePacket__P33543,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const jacdac_MusicClient__C34045_VT = mkVTable({
  name: "MusicClient",
  numFields: 13,
  classNo: 29,
  lastSubtypeNo: 29,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_Client_handlePacket__P33543,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "player": null,
    "set/player": null,
    "playMelody": jacdac_MusicClient_playMelody__P34047,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "handlePacket": jacdac_Client_handlePacket__P33543,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const jacdac_JDPacket__C33601_VT = mkVTable({
  name: "JDPacket",
  numFields: 2,
  classNo: 47,
  lastSubtypeNo: 47,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_header": null,
    "set/_header": null,
    "_data": null,
    "set/_data": null,
    "fromBinary": jacdac_JDPacket_fromBinary__P33604,
    "from": jacdac_JDPacket_from__P33605,
    "onlyHeader": jacdac_JDPacket_onlyHeader__P33606,
    "packed": jacdac_JDPacket_packed__P33607,
    "device_identifier": jacdac_JDPacket_device_identifier__P33608,
    "set/device_identifier": jacdac_JDPacket_device_identifier__P33609,
    "packet_flags": jacdac_JDPacket_packet_flags__P33610,
    "multicommand_class": jacdac_JDPacket_multicommand_class__P33611,
    "size": jacdac_JDPacket_size__P33612,
    "requires_ack": jacdac_JDPacket_requires_ack__P33613,
    "set/requires_ack": jacdac_JDPacket_requires_ack__P33614,
    "service_number": jacdac_JDPacket_service_number__P33615,
    "set/service_number": jacdac_JDPacket_service_number__P33616,
    "crc": jacdac_JDPacket_crc__P33617,
    "service_command": jacdac_JDPacket_service_command__P33618,
    "set/service_command": jacdac_JDPacket_service_command__P33619,
    "is_reg_set": jacdac_JDPacket_is_reg_set__P33620,
    "data": jacdac_JDPacket_data__P33622,
    "set/data": jacdac_JDPacket_data__P33623,
    "intData": jacdac_JDPacket_intData__P33624,
    "compress": jacdac_JDPacket_compress__P33625,
    "withFrameStripped": jacdac_JDPacket_withFrameStripped__P33626,
    "getNumber": jacdac_JDPacket_getNumber__P33627,
    "is_command": jacdac_JDPacket_is_command__P33629,
    "toString": jacdac_JDPacket_toString__P33631,
    "_sendCore": jacdac_JDPacket__sendCore__P33632,
    "_sendReport": jacdac_JDPacket__sendReport__P33633,
    "_sendCmd": jacdac_JDPacket__sendCmd__P33634,
    "sendAsMultiCommand": jacdac_JDPacket_sendAsMultiCommand__P33635,
    "_sendWithAck": jacdac_JDPacket__sendWithAck__P33636,
  },
  toStringMethod: jacdac_JDPacket_toString__P33631,
});
const jacdac_ConsoleClient__C33778_VT = mkVTable({
  name: "ConsoleClient",
  numFields: 14,
  classNo: 30,
  lastSubtypeNo: 30,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_ConsoleClient_handlePacket__P33782,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "minPriority": null,
    "set/minPriority": null,
    "onMessageReceived": null,
    "set/onMessageReceived": null,
    "handlePacket": jacdac_ConsoleClient_handlePacket__P33782,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const sprites_BaseSprite__C31319_VT = mkVTable({
  name: "BaseSprite",
  numFields: 2,
  classNo: 48,
  lastSubtypeNo: 51,
  maxBgInstances: null,
  methods: {
    "__visible": sprites_BaseSprite___visible__P31322,
    "__draw": sprites_BaseSprite___draw__P31325,
    "__drawCore": sprites_BaseSprite___drawCore__P31326,
    "__update": sprites_BaseSprite___update__P31327,
  },
  iface: {
    "_z": null,
    "set/_z": null,
    "id": null,
    "set/id": null,
    "__visible": sprites_BaseSprite___visible__P31322,
    "z": sprites_BaseSprite_z__P31323,
    "set/z": sprites_BaseSprite_z__P31324,
    "__draw": sprites_BaseSprite___draw__P31325,
    "__drawCore": sprites_BaseSprite___drawCore__P31326,
    "__update": sprites_BaseSprite___update__P31327,
  },
});
const particles_ParticleSource__C32136_VT = mkVTable({
  name: "ParticleSource",
  numFields: 13,
  classNo: 49,
  lastSubtypeNo: 49,
  maxBgInstances: null,
  methods: {
    "__visible": sprites_BaseSprite___visible__P31322,
    "__draw": particles_ParticleSource___draw__P32142,
    "__drawCore": sprites_BaseSprite___drawCore__P31326,
    "__update": sprites_BaseSprite___update__P31327,
    "updateParticle": particles_ParticleSource_updateParticle__P35025,
  },
  iface: {
    "_z": null,
    "set/_z": null,
    "id": null,
    "set/id": null,
    "priority": null,
    "set/priority": null,
    "_dt": null,
    "set/_dt": null,
    "anchor": null,
    "set/anchor": null,
    "lifespan": null,
    "set/lifespan": null,
    "pFlags": null,
    "set/pFlags": null,
    "head": null,
    "set/head": null,
    "timer": null,
    "set/timer": null,
    "period": null,
    "set/period": null,
    "_factory": null,
    "set/_factory": null,
    "ax": null,
    "set/ax": null,
    "ay": null,
    "set/ay": null,
    "__draw": particles_ParticleSource___draw__P32142,
    "_update": particles_ParticleSource__update__P32143,
    "_prune": particles_ParticleSource__prune__P32144,
    "setAcceleration": particles_ParticleSource_setAcceleration__P32145,
    "setRelativeToCamera": particles_ParticleSource_setRelativeToCamera__P32147,
    "enabled": particles_ParticleSource_enabled__P32148,
    "set/enabled": particles_ParticleSource_enabled__P32149,
    "destroy": particles_ParticleSource_destroy__P32150,
    "clear": particles_ParticleSource_clear__P32151,
    "setAnchor": particles_ParticleSource_setAnchor__P32152,
    "setRate": particles_ParticleSource_setRate__P32153,
    "factory": particles_ParticleSource_factory__P32154,
    "setFactory": particles_ParticleSource_setFactory__P32155,
    "updateParticle": particles_ParticleSource_updateParticle__P35025,
    "drawParticle": particles_ParticleSource_drawParticle__P35026,
    "__visible": sprites_BaseSprite___visible__P31322,
    "z": sprites_BaseSprite_z__P31323,
    "set/z": sprites_BaseSprite_z__P31324,
    "__drawCore": sprites_BaseSprite___drawCore__P31326,
    "__update": sprites_BaseSprite___update__P31327,
  },
});
const control_EventContext__C29811_VT = mkVTable({
  name: "EventContext",
  numFields: 9,
  classNo: 52,
  lastSubtypeNo: 52,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "handlers": null,
    "set/handlers": null,
    "frameCallbacks": null,
    "set/frameCallbacks": null,
    "frameWorker": null,
    "set/frameWorker": null,
    "framesInSample": null,
    "set/framesInSample": null,
    "timeInSample": null,
    "set/timeInSample": null,
    "deltaTimeMillis": null,
    "set/deltaTimeMillis": null,
    "prevTimeMillis": null,
    "set/prevTimeMillis": null,
    "idleCallbacks": null,
    "set/idleCallbacks": null,
    "runningCallbacks": null,
    "set/runningCallbacks": null,
    "deltaTime": control_EventContext_deltaTime__P29816,
    "runCallbacks": control_EventContext_runCallbacks__P34351,
    "registerFrameCallbacks": control_EventContext_registerFrameCallbacks__P34352,
    "register": control_EventContext_register__P29817,
    "unregister": control_EventContext_unregister__P29818,
    "registerFrameHandler": control_EventContext_registerFrameHandler__P29819,
    "registerHandler": control_EventContext_registerHandler__P29821,
  },
});
const control_EventHandler__C34346_VT = mkVTable({
  name: "EventHandler",
  numFields: 4,
  classNo: 53,
  lastSubtypeNo: 53,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "src": null,
    "set/src": null,
    "value": null,
    "set/value": null,
    "handler": null,
    "set/handler": null,
    "flags": null,
    "set/flags": null,
    "register": control_EventHandler_register__P34347,
    "unregister": control_EventHandler_unregister__P34348,
  },
});
const control_PollEvent__C34325_VT = mkVTable({
  name: "PollEvent",
  numFields: 6,
  classNo: 54,
  lastSubtypeNo: 54,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "eid": null,
    "set/eid": null,
    "vid": null,
    "set/vid": null,
    "start": null,
    "set/start": null,
    "timeOut": null,
    "set/timeOut": null,
    "condition": null,
    "set/condition": null,
    "once": null,
    "set/once": null,
  },
});
const scene_Scene__C31877_VT = mkVTable({
  name: "Scene",
  numFields: 23,
  classNo: 55,
  lastSubtypeNo: 55,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "eventContext": null,
    "set/eventContext": null,
    "background": null,
    "set/background": null,
    "tileMap": null,
    "set/tileMap": null,
    "allSprites": null,
    "set/allSprites": null,
    "spriteNextId": null,
    "set/spriteNextId": null,
    "spritesByKind": null,
    "set/spritesByKind": null,
    "physicsEngine": null,
    "set/physicsEngine": null,
    "camera": null,
    "set/camera": null,
    "flags": null,
    "set/flags": null,
    "destroyedHandlers": null,
    "set/destroyedHandlers": null,
    "createdHandlers": null,
    "set/createdHandlers": null,
    "overlapHandlers": null,
    "set/overlapHandlers": null,
    "overlapMap": null,
    "set/overlapMap": null,
    "tileOverlapHandlers": null,
    "set/tileOverlapHandlers": null,
    "collisionHandlers": null,
    "set/collisionHandlers": null,
    "wallCollisionHandlers": null,
    "set/wallCollisionHandlers": null,
    "gameForeverHandlers": null,
    "set/gameForeverHandlers": null,
    "particleSources": null,
    "set/particleSources": null,
    "controlledSprites": null,
    "set/controlledSprites": null,
    "followingSprites": null,
    "set/followingSprites": null,
    "_millis": null,
    "set/_millis": null,
    "_data": null,
    "set/_data": null,
    "previousScene": null,
    "set/previousScene": null,
    "init": scene_Scene_init__P31899,
    "data": scene_Scene_data__P31900,
    "millis": scene_Scene_millis__P31901,
    "addSprite": scene_Scene_addSprite__P31902,
    "render": scene_Scene_render__P31904,
  },
});
const effects_ImageEffect__C32274_VT = mkVTable({
  name: "ImageEffect",
  numFields: 4,
  classNo: 56,
  lastSubtypeNo: 56,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "preferredDelay": null,
    "set/preferredDelay": null,
    "effect": null,
    "set/effect": null,
    "fastRandom": null,
    "set/fastRandom": null,
    "times": null,
    "set/times": null,
    "applyTo": effects_ImageEffect_applyTo__P32276,
    "change": effects_ImageEffect_change__P32277,
  },
});
const effects_ParticleEffect__C32247_VT = mkVTable({
  name: "ParticleEffect",
  numFields: 3,
  classNo: 57,
  lastSubtypeNo: 58,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "sourceFactory": null,
    "set/sourceFactory": null,
    "defaultRate": null,
    "set/defaultRate": null,
    "defaultLifespan": null,
    "set/defaultLifespan": null,
    "start": effects_ParticleEffect_start__P32249,
    "destroy": effects_ParticleEffect_destroy__P32250,
  },
});
const effects_ScreenEffect__C32251_VT = mkVTable({
  name: "ScreenEffect",
  numFields: 5,
  classNo: 58,
  lastSubtypeNo: 58,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "sourceFactory": null,
    "set/sourceFactory": null,
    "defaultRate": null,
    "set/defaultRate": null,
    "defaultLifespan": null,
    "set/defaultLifespan": null,
    "source": null,
    "set/source": null,
    "sceneDefaultRate": null,
    "set/sceneDefaultRate": null,
    "start": effects_ParticleEffect_start__P32249,
    "destroy": effects_ParticleEffect_destroy__P32250,
  },
});
const particles_ParticleFactory__C32172_VT = mkVTable({
  name: "ParticleFactory",
  numFields: 0,
  classNo: 59,
  lastSubtypeNo: 63,
  maxBgInstances: null,
  methods: {
    "createParticle": particles_ParticleFactory_createParticle__P32174,
    "drawParticle": particles_ParticleFactory_drawParticle__P32175,
  },
  iface: {
    "createParticle": particles_ParticleFactory_createParticle__P32174,
    "drawParticle": particles_ParticleFactory_drawParticle__P32175,
  },
});
const particles_SprayFactory__C32176_VT = mkVTable({
  name: "SprayFactory",
  numFields: 3,
  classNo: 60,
  lastSubtypeNo: 63,
  maxBgInstances: null,
  methods: {
    "createParticle": particles_SprayFactory_createParticle__P32178,
    "drawParticle": particles_SprayFactory_drawParticle__P32179,
  },
  iface: {
    "speed": null,
    "set/speed": null,
    "minAngle": null,
    "set/minAngle": null,
    "spread": null,
    "set/spread": null,
    "createParticle": particles_SprayFactory_createParticle__P32178,
    "drawParticle": particles_SprayFactory_drawParticle__P32179,
    "setSpeed": particles_SprayFactory_setSpeed__P32180,
    "setDirection": particles_SprayFactory_setDirection__P32181,
  },
});
const particles_AreaFactory__C32182_VT = mkVTable({
  name: "AreaFactory",
  numFields: 8,
  classNo: 61,
  lastSubtypeNo: 63,
  maxBgInstances: null,
  methods: {
    "createParticle": particles_AreaFactory_createParticle__P32188,
    "drawParticle": particles_AreaFactory_drawParticle__P32189,
  },
  iface: {
    "speed": null,
    "set/speed": null,
    "minAngle": null,
    "set/minAngle": null,
    "spread": null,
    "set/spread": null,
    "xRange": null,
    "set/xRange": null,
    "yRange": null,
    "set/yRange": null,
    "minLifespan": null,
    "set/minLifespan": null,
    "maxLifespan": null,
    "set/maxLifespan": null,
    "galois": null,
    "set/galois": null,
    "createParticle": particles_AreaFactory_createParticle__P32188,
    "drawParticle": particles_AreaFactory_drawParticle__P32189,
    "setSpeed": particles_SprayFactory_setSpeed__P32180,
    "setDirection": particles_SprayFactory_setDirection__P32181,
  },
});
const particles_ShapeFactory__C32198_VT = mkVTable({
  name: "ShapeFactory",
  numFields: 11,
  classNo: 62,
  lastSubtypeNo: 63,
  maxBgInstances: null,
  methods: {
    "createParticle": particles_ShapeFactory_createParticle__P32202,
    "drawParticle": particles_ShapeFactory_drawParticle__P32201,
  },
  iface: {
    "speed": null,
    "set/speed": null,
    "minAngle": null,
    "set/minAngle": null,
    "spread": null,
    "set/spread": null,
    "xRange": null,
    "set/xRange": null,
    "yRange": null,
    "set/yRange": null,
    "minLifespan": null,
    "set/minLifespan": null,
    "maxLifespan": null,
    "set/maxLifespan": null,
    "galois": null,
    "set/galois": null,
    "sources": null,
    "set/sources": null,
    "ox": null,
    "set/ox": null,
    "oy": null,
    "set/oy": null,
    "addShape": particles_ShapeFactory_addShape__P32200,
    "drawParticle": particles_ShapeFactory_drawParticle__P32201,
    "createParticle": particles_ShapeFactory_createParticle__P32202,
    "setSpeed": particles_SprayFactory_setSpeed__P32180,
    "setDirection": particles_SprayFactory_setDirection__P32181,
  },
});
const particles_ConfettiFactory__C32203_VT = mkVTable({
  name: "ConfettiFactory",
  numFields: 11,
  classNo: 63,
  lastSubtypeNo: 63,
  maxBgInstances: null,
  methods: {
    "createParticle": particles_ShapeFactory_createParticle__P32202,
    "drawParticle": particles_ShapeFactory_drawParticle__P32201,
  },
  iface: {
    "speed": null,
    "set/speed": null,
    "minAngle": null,
    "set/minAngle": null,
    "spread": null,
    "set/spread": null,
    "xRange": null,
    "set/xRange": null,
    "yRange": null,
    "set/yRange": null,
    "minLifespan": null,
    "set/minLifespan": null,
    "maxLifespan": null,
    "set/maxLifespan": null,
    "galois": null,
    "set/galois": null,
    "sources": null,
    "set/sources": null,
    "ox": null,
    "set/ox": null,
    "oy": null,
    "set/oy": null,
    "addShape": particles_ShapeFactory_addShape__P32200,
    "drawParticle": particles_ShapeFactory_drawParticle__P32201,
    "createParticle": particles_ShapeFactory_createParticle__P32202,
    "setSpeed": particles_SprayFactory_setSpeed__P32180,
    "setDirection": particles_SprayFactory_setDirection__P32181,
  },
});
const particles_Particle__C32117_VT = mkVTable({
  name: "Particle",
  numFields: 8,
  classNo: 64,
  lastSubtypeNo: 64,
  maxBgInstances: 200,
  methods: {
  },
  iface: {
    "_x": null,
    "set/_x": null,
    "_y": null,
    "set/_y": null,
    "vx": null,
    "set/vx": null,
    "vy": null,
    "set/vy": null,
    "lifespan": null,
    "set/lifespan": null,
    "next": null,
    "set/next": null,
    "data": null,
    "set/data": null,
    "color": null,
    "set/color": null,
  },
});
const control_FrameCallback__C29808_VT = mkVTable({
  name: "FrameCallback",
  numFields: 2,
  classNo: 65,
  lastSubtypeNo: 65,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "order": null,
    "set/order": null,
    "handler": null,
    "set/handler": null,
  },
});
const PhysicsEngine__C31620_VT = mkVTable({
  name: "PhysicsEngine",
  numFields: 0,
  classNo: 66,
  lastSubtypeNo: 67,
  maxBgInstances: null,
  methods: {
    "addSprite": PhysicsEngine_addSprite__P31622,
    "removeSprite": PhysicsEngine_removeSprite__P31623,
    "moveSprite": PhysicsEngine_moveSprite__P31624,
    "draw": PhysicsEngine_draw__P31625,
    "move": PhysicsEngine_move__P31626,
  },
  iface: {
    "addSprite": PhysicsEngine_addSprite__P31622,
    "removeSprite": PhysicsEngine_removeSprite__P31623,
    "moveSprite": PhysicsEngine_moveSprite__P31624,
    "draw": PhysicsEngine_draw__P31625,
    "move": PhysicsEngine_move__P31626,
  },
});
const scene_Camera__C31818_VT = mkVTable({
  name: "Camera",
  numFields: 8,
  classNo: 68,
  lastSubtypeNo: 68,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_offsetX": null,
    "set/_offsetX": null,
    "_offsetY": null,
    "set/_offsetY": null,
    "drawOffsetX": null,
    "set/drawOffsetX": null,
    "drawOffsetY": null,
    "set/drawOffsetY": null,
    "sprite": null,
    "set/sprite": null,
    "shakeStartTime": null,
    "set/shakeStartTime": null,
    "shakeDuration": null,
    "set/shakeDuration": null,
    "shakeAmplitude": null,
    "set/shakeAmplitude": null,
    "offsetX": scene_Camera_offsetX__P31823,
    "set/offsetX": scene_Camera_offsetX__P31824,
    "offsetY": scene_Camera_offsetY__P31825,
    "set/offsetY": scene_Camera_offsetY__P31826,
    "x": scene_Camera_x__P31827,
    "y": scene_Camera_y__P31828,
    "left": scene_Camera_left__P31829,
    "top": scene_Camera_top__P31831,
    "update": scene_Camera_update__P31834,
  },
});
const scene_Background__C31726_VT = mkVTable({
  name: "Background",
  numFields: 4,
  classNo: 69,
  lastSubtypeNo: 69,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "color": null,
    "set/color": null,
    "_image": null,
    "set/_image": null,
    "camera": null,
    "set/camera": null,
    "_layers": null,
    "set/_layers": null,
    "draw": scene_Background_draw__P31735,
  },
});
const scene_BackgroundLayer__C31736_VT = mkVTable({
  name: "BackgroundLayer",
  numFields: 6,
  classNo: 70,
  lastSubtypeNo: 70,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "distance": null,
    "set/distance": null,
    "img": null,
    "set/img": null,
    "repeatX": null,
    "set/repeatX": null,
    "repeatY": null,
    "set/repeatY": null,
    "alignX": null,
    "set/alignX": null,
    "alignY": null,
    "set/alignY": null,
    "draw": scene_BackgroundLayer_draw__P31744,
  },
});
const Sprite__C31477_VT = mkVTable({
  name: "Sprite",
  numFields: 26,
  classNo: 50,
  lastSubtypeNo: 50,
  maxBgInstances: null,
  methods: {
    "__visible": Sprite___visible__P31520,
    "__draw": sprites_BaseSprite___draw__P31325,
    "__drawCore": Sprite___drawCore__P31538,
    "__update": Sprite___update__P31539,
  },
  iface: {
    "_z": null,
    "set/_z": null,
    "id": null,
    "set/id": null,
    "_x": null,
    "set/_x": null,
    "_y": null,
    "set/_y": null,
    "_vx": null,
    "set/_vx": null,
    "_vy": null,
    "set/_vy": null,
    "_ax": null,
    "set/_ax": null,
    "_ay": null,
    "set/_ay": null,
    "_fx": null,
    "set/_fx": null,
    "_fy": null,
    "set/_fy": null,
    "_data": null,
    "set/_data": null,
    "_kind": null,
    "set/_kind": null,
    "layer": null,
    "set/layer": null,
    "_lastX": null,
    "set/_lastX": null,
    "_lastY": null,
    "set/_lastY": null,
    "_action": null,
    "set/_action": null,
    "lifespan": null,
    "set/lifespan": null,
    "_image": null,
    "set/_image": null,
    "_obstacles": null,
    "set/_obstacles": null,
    "updateSay": null,
    "set/updateSay": null,
    "sayBubbleSprite": null,
    "set/sayBubbleSprite": null,
    "_hitbox": null,
    "set/_hitbox": null,
    "_overlappers": null,
    "set/_overlappers": null,
    "_kindsOverlappedWith": null,
    "set/_kindsOverlappedWith": null,
    "flags": null,
    "set/flags": null,
    "destroyHandler": null,
    "set/destroyHandler": null,
    "x": Sprite_x__P31486,
    "set/x": Sprite_x__P31487,
    "y": Sprite_y__P31488,
    "set/y": Sprite_y__P31489,
    "vx": Sprite_vx__P31490,
    "set/vx": Sprite_vx__P31491,
    "vy": Sprite_vy__P31492,
    "set/vy": Sprite_vy__P31493,
    "ax": Sprite_ax__P31494,
    "set/ax": Sprite_ax__P31495,
    "ay": Sprite_ay__P31496,
    "set/ay": Sprite_ay__P31497,
    "fx": Sprite_fx__P31498,
    "set/fx": Sprite_fx__P31499,
    "fy": Sprite_fy__P31500,
    "set/fy": Sprite_fy__P31501,
    "data": Sprite_data__P31502,
    "set/data": Sprite_data__P31503,
    "image": Sprite_image__P31516,
    "setImage": Sprite_setImage__P31517,
    "setHitbox": Sprite_setHitbox__P31518,
    "isStatic": Sprite_isStatic__P31519,
    "__visible": Sprite___visible__P31520,
    "width": Sprite_width__P31521,
    "height": Sprite_height__P31522,
    "left": Sprite_left__P31523,
    "set/left": Sprite_left__P31524,
    "right": Sprite_right__P31525,
    "set/right": Sprite_right__P31526,
    "top": Sprite_top__P31527,
    "set/top": Sprite_top__P31528,
    "bottom": Sprite_bottom__P31529,
    "set/bottom": Sprite_bottom__P31530,
    "kind": Sprite_kind__P31531,
    "setKind": Sprite_setKind__P31532,
    "isOutOfScreen": Sprite_isOutOfScreen__P31537,
    "__drawCore": Sprite___drawCore__P31538,
    "__update": Sprite___update__P31539,
    "setFlag": Sprite_setFlag__P31540,
    "overlapsWith": Sprite_overlapsWith__P31541,
    "clearObstacles": Sprite_clearObstacles__P31545,
    "registerObstacle": Sprite_registerObstacle__P31546,
    "destroy": Sprite_destroy__P31548,
    "_destroyCore": Sprite__destroyCore__P31549,
    "toString": Sprite_toString__P31551,
    "z": sprites_BaseSprite_z__P31323,
    "set/z": sprites_BaseSprite_z__P31324,
    "__draw": sprites_BaseSprite___draw__P31325,
  },
  toStringMethod: Sprite_toString__P31551,
});
const tiles_TileMap__C31778_VT = mkVTable({
  name: "TileMap",
  numFields: 3,
  classNo: 71,
  lastSubtypeNo: 71,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_scale": null,
    "set/_scale": null,
    "_layer": null,
    "set/_layer": null,
    "_map": null,
    "set/_map": null,
    "scale": tiles_TileMap_scale__P31780,
    "set/scale": tiles_TileMap_scale__P31781,
    "data": tiles_TileMap_data__P34614,
    "offsetX": tiles_TileMap_offsetX__P31782,
    "offsetY": tiles_TileMap_offsetY__P31783,
    "areaWidth": tiles_TileMap_areaWidth__P31784,
    "areaHeight": tiles_TileMap_areaHeight__P31785,
    "layer": tiles_TileMap_layer__P31786,
    "enabled": tiles_TileMap_enabled__P31788,
    "getTile": tiles_TileMap_getTile__P31790,
    "getTileIndex": tiles_TileMap_getTileIndex__P31791,
    "draw": tiles_TileMap_draw__P34616,
    "isObstacle": tiles_TileMap_isObstacle__P31797,
    "getObstacle": tiles_TileMap_getObstacle__P31798,
    "isOnWall": tiles_TileMap_isOnWall__P31799,
    "getTileImage": tiles_TileMap_getTileImage__P31800,
  },
});
const tiles_TileMapData__C31765_VT = mkVTable({
  name: "TileMapData",
  numFields: 7,
  classNo: 72,
  lastSubtypeNo: 72,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "data": null,
    "set/data": null,
    "layers": null,
    "set/layers": null,
    "tileset": null,
    "set/tileset": null,
    "cachedTileView": null,
    "set/cachedTileView": null,
    "_scale": null,
    "set/_scale": null,
    "_width": null,
    "set/_width": null,
    "_height": null,
    "set/_height": null,
    "width": tiles_TileMapData_width__P31767,
    "height": tiles_TileMapData_height__P31768,
    "scale": tiles_TileMapData_scale__P31769,
    "set/scale": tiles_TileMapData_scale__P31770,
    "getTile": tiles_TileMapData_getTile__P31771,
    "getTileImage": tiles_TileMapData_getTileImage__P31774,
    "isWall": tiles_TileMapData_isWall__P31776,
    "isOutsideMap": tiles_TileMapData_isOutsideMap__P31777,
  },
});
const controller_Controller__C31384_VT = mkVTable({
  name: "Controller",
  numFields: 5,
  classNo: 73,
  lastSubtypeNo: 73,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "playerIndex": null,
    "set/playerIndex": null,
    "buttons": null,
    "set/buttons": null,
    "analog": null,
    "set/analog": null,
    "_id": null,
    "set/_id": null,
    "_connected": null,
    "set/_connected": null,
    "_controlledSprites": controller_Controller__controlledSprites__P31389,
    "set/_controlledSprites": controller_Controller__controlledSprites__P31390,
    "id": controller_Controller_id__P31391,
    "left": controller_Controller_left__P31393,
    "right": controller_Controller_right__P31394,
    "up": controller_Controller_up__P31395,
    "down": controller_Controller_down__P31396,
    "button": controller_Controller_button__P34514,
    "connected": controller_Controller_connected__P31403,
    "set/connected": controller_Controller_connected__P31404,
    "__preUpdate": controller_Controller___preUpdate__P31408,
    "__update": controller_Controller___update__P31409,
  },
});
const ArcadePhysicsEngine__C31634_VT = mkVTable({
  name: "ArcadePhysicsEngine",
  numFields: 6,
  classNo: 67,
  lastSubtypeNo: 67,
  maxBgInstances: null,
  methods: {
    "addSprite": ArcadePhysicsEngine_addSprite__P31643,
    "removeSprite": ArcadePhysicsEngine_removeSprite__P31644,
    "moveSprite": ArcadePhysicsEngine_moveSprite__P31648,
    "draw": ArcadePhysicsEngine_draw__P31645,
    "move": ArcadePhysicsEngine_move__P31646,
  },
  iface: {
    "sprites": null,
    "set/sprites": null,
    "map": null,
    "set/map": null,
    "maxVelocity": null,
    "set/maxVelocity": null,
    "maxNegativeVelocity": null,
    "set/maxNegativeVelocity": null,
    "minSingleStep": null,
    "set/minSingleStep": null,
    "maxSingleStep": null,
    "set/maxSingleStep": null,
    "maxSpeed": ArcadePhysicsEngine_maxSpeed__P31636,
    "set/maxSpeed": ArcadePhysicsEngine_maxSpeed__P31637,
    "minStep": ArcadePhysicsEngine_minStep__P31638,
    "set/minStep": ArcadePhysicsEngine_minStep__P31639,
    "maxStep": ArcadePhysicsEngine_maxStep__P31640,
    "set/maxStep": ArcadePhysicsEngine_maxStep__P31641,
    "addSprite": ArcadePhysicsEngine_addSprite__P31643,
    "removeSprite": ArcadePhysicsEngine_removeSprite__P31644,
    "draw": ArcadePhysicsEngine_draw__P31645,
    "move": ArcadePhysicsEngine_move__P31646,
    "createMovingSprite": ArcadePhysicsEngine_createMovingSprite__P34543,
    "spriteCollisions": ArcadePhysicsEngine_spriteCollisions__P34544,
    "tilemapCollisions": ArcadePhysicsEngine_tilemapCollisions__P34545,
    "tilemapOverlaps": ArcadePhysicsEngine_tilemapOverlaps__P34546,
    "moveSprite": ArcadePhysicsEngine_moveSprite__P31648,
    "canResolveClipping": ArcadePhysicsEngine_canResolveClipping__P34547,
    "constrain": ArcadePhysicsEngine_constrain__P34548,
  },
});
const sprites_SpriteMap__C31555_VT = mkVTable({
  name: "SpriteMap",
  numFields: 5,
  classNo: 74,
  lastSubtypeNo: 74,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "cellWidth": null,
    "set/cellWidth": null,
    "cellHeight": null,
    "set/cellHeight": null,
    "rowCount": null,
    "set/rowCount": null,
    "columnCount": null,
    "set/columnCount": null,
    "buckets": null,
    "set/buckets": null,
    "neighbors": sprites_SpriteMap_neighbors__P31557,
    "overlaps": sprites_SpriteMap_overlaps__P31558,
    "draw": sprites_SpriteMap_draw__P31559,
    "resizeBuckets": sprites_SpriteMap_resizeBuckets__P31560,
    "clear": sprites_SpriteMap_clear__P31561,
    "key": sprites_SpriteMap_key__P34520,
    "insertAtKey": sprites_SpriteMap_insertAtKey__P34521,
    "insertAABB": sprites_SpriteMap_insertAABB__P31562,
    "mergeAtKey": sprites_SpriteMap_mergeAtKey__P34522,
    "toString": sprites_SpriteMap_toString__P31563,
  },
  toStringMethod: sprites_SpriteMap_toString__P31563,
});
const music_Melody__C31059_VT = mkVTable({
  name: "Melody",
  numFields: 2,
  classNo: 75,
  lastSubtypeNo: 75,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_text": null,
    "set/_text": null,
    "_player": null,
    "set/_player": null,
    "toString": music_Melody_toString__P31068,
  },
  toStringMethod: music_Melody_toString__P31068,
});
const jacdac_ClientPacketQueue__C33524_VT = mkVTable({
  name: "ClientPacketQueue",
  numFields: 2,
  classNo: 76,
  lastSubtypeNo: 76,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "pkts": null,
    "set/pkts": null,
    "parent": null,
    "set/parent": null,
    "updateQueue": jacdac_ClientPacketQueue_updateQueue__P36417,
    "send": jacdac_ClientPacketQueue_send__P33527,
    "resend": jacdac_ClientPacketQueue_resend__P33528,
  },
});
const net_Response__C34180_VT = mkVTable({
  name: "Response",
  numFields: 6,
  classNo: 77,
  lastSubtypeNo: 77,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_cached": null,
    "set/_cached": null,
    "status_code": null,
    "set/status_code": null,
    "reason": null,
    "set/reason": null,
    "_read_so_far": null,
    "set/_read_so_far": null,
    "headers": null,
    "set/headers": null,
    "socket": null,
    "set/socket": null,
    "close": net_Response_close__P34187,
    "content": net_Response_content__P34188,
    "text": net_Response_text__P34189,
    "json": net_Response_json__P34190,
    "toString": net_Response_toString__P34191,
  },
  toStringMethod: net_Response_toString__P34191,
});
const net_ControllerSocket__C34126_VT = mkVTable({
  name: "ControllerSocket",
  numFields: 12,
  classNo: 78,
  lastSubtypeNo: 78,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_buffer": null,
    "set/_buffer": null,
    "_socknum": null,
    "set/_socknum": null,
    "_timeout": null,
    "set/_timeout": null,
    "_closed": null,
    "set/_closed": null,
    "_openHandler": null,
    "set/_openHandler": null,
    "_closeHandler": null,
    "set/_closeHandler": null,
    "_errorHandler": null,
    "set/_errorHandler": null,
    "_messageHandler": null,
    "set/_messageHandler": null,
    "controller": null,
    "set/controller": null,
    "host": null,
    "set/host": null,
    "port": null,
    "set/port": null,
    "conntype": null,
    "set/conntype": null,
    "connect": net_ControllerSocket_connect__P34136,
    "send": net_ControllerSocket_send__P34137,
    "error": net_ControllerSocket_error__P36621,
    "readLine": net_ControllerSocket_readLine__P34142,
    "read": net_ControllerSocket_read__P34143,
    "setTimeout": net_ControllerSocket_setTimeout__P34144,
    "close": net_ControllerSocket_close__P34145,
  },
});
const JSON_Stringifier__C34343_VT = mkVTable({
  name: "Stringifier",
  numFields: 3,
  classNo: 79,
  lastSubtypeNo: 79,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "currIndent": null,
    "set/currIndent": null,
    "indentStep": null,
    "set/indentStep": null,
    "indent": null,
    "set/indent": null,
    "doString": JSON_Stringifier_doString__P34344,
    "go": JSON_Stringifier_go__P34345,
  },
});
const jacdac_Device__C33554_VT = mkVTable({
  name: "Device",
  numFields: 7,
  classNo: 80,
  lastSubtypeNo: 80,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "services": null,
    "set/services": null,
    "lastSeen": null,
    "set/lastSeen": null,
    "clients": null,
    "set/clients": null,
    "_name": null,
    "set/_name": null,
    "_shortId": null,
    "set/_shortId": null,
    "queries": null,
    "set/queries": null,
    "deviceId": null,
    "set/deviceId": null,
    "isConnected": jacdac_Device_isConnected__P33559,
    "name": jacdac_Device_name__P33560,
    "shortId": jacdac_Device_shortId__P33561,
    "toString": jacdac_Device_toString__P33562,
    "lookupQuery": jacdac_Device_lookupQuery__P36424,
    "queryInt": jacdac_Device_queryInt__P33563,
    "query": jacdac_Device_query__P33564,
    "classDescription": jacdac_Device_classDescription__P33565,
    "temperature": jacdac_Device_temperature__P33566,
    "firmwareVersion": jacdac_Device_firmwareVersion__P33567,
    "handleCtrlReport": jacdac_Device_handleCtrlReport__P33568,
    "hasService": jacdac_Device_hasService__P33569,
    "sendCtrlCommand": jacdac_Device_sendCtrlCommand__P33570,
    "clearNameCache": jacdac_Device_clearNameCache__P33571,
  },
  toStringMethod: jacdac_Device_toString__P33562,
});
const RawSensorClient__C34253_VT = mkVTable({
  name: "RawSensorClient",
  numFields: 16,
  classNo: 23,
  lastSubtypeNo: 23,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_SensorClient_handlePacket__P33776,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "_localTime": null,
    "set/_localTime": null,
    "_lastState": null,
    "set/_lastState": null,
    "_stateChangedHandler": null,
    "set/_stateChangedHandler": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "state": jacdac_SensorClient_state__P33772,
    "setStreaming": jacdac_SensorClient_setStreaming__P33773,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P33775,
    "handlePacket": jacdac_SensorClient_handlePacket__P33776,
    "handleCustomCommand": jacdac_SensorClient_handleCustomCommand__P36508,
    "handleVirtualState": jacdac_SensorClient_handleVirtualState__P36509,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const jacdac_RegQuery__C36422_VT = mkVTable({
  name: "RegQuery",
  numFields: 3,
  classNo: 81,
  lastSubtypeNo: 81,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "lastQuery": null,
    "set/lastQuery": null,
    "value": null,
    "set/value": null,
    "reg": null,
    "set/reg": null,
  },
});
const jacdac_DeviceNameClient__C33761_VT = mkVTable({
  name: "DeviceNameClient",
  numFields: 14,
  classNo: 31,
  lastSubtypeNo: 31,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_DeviceNameClient_handlePacket__P33767,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "remoteRequestedDevices": null,
    "set/remoteRequestedDevices": null,
    "usedNames": null,
    "set/usedNames": null,
    "scan": jacdac_DeviceNameClient_scan__P33764,
    "clearNames": jacdac_DeviceNameClient_clearNames__P33765,
    "setName": jacdac_DeviceNameClient_setName__P33766,
    "handlePacket": jacdac_DeviceNameClient_handlePacket__P33767,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const jacdac_RemoteRequestedDevice__C33754_VT = mkVTable({
  name: "RemoteRequestedDevice",
  numFields: 5,
  classNo: 82,
  lastSubtypeNo: 82,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "services": null,
    "set/services": null,
    "boundTo": null,
    "set/boundTo": null,
    "candidates": null,
    "set/candidates": null,
    "parent": null,
    "set/parent": null,
    "name": null,
    "set/name": null,
    "isCandidate": jacdac_RemoteRequestedDevice_isCandidate__P33759,
    "select": jacdac_RemoteRequestedDevice_select__P33760,
  },
});
const jacdac_AckAwaiter__C36452_VT = mkVTable({
  name: "AckAwaiter",
  numFields: 6,
  classNo: 83,
  lastSubtypeNo: 83,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "added": null,
    "set/added": null,
    "numTries": null,
    "set/numTries": null,
    "crc": null,
    "set/crc": null,
    "eventId": null,
    "set/eventId": null,
    "pkt": null,
    "set/pkt": null,
    "srcId": null,
    "set/srcId": null,
  },
});
const jacdac_Dechunker__C33749_VT = mkVTable({
  name: "Dechunker",
  numFields: 4,
  classNo: 84,
  lastSubtypeNo: 84,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "pending": null,
    "set/pending": null,
    "previous": null,
    "set/previous": null,
    "cmd": null,
    "set/cmd": null,
    "onUpdate": null,
    "set/onUpdate": null,
    "handlePacket": jacdac_Dechunker_handlePacket__P33753,
  },
});
const menu_Item__C34216_VT = mkVTable({
  name: "Item",
  numFields: 4,
  classNo: 85,
  lastSubtypeNo: 85,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "onRight": null,
    "set/onRight": null,
    "onLeft": null,
    "set/onLeft": null,
    "name": null,
    "set/name": null,
    "cb": null,
    "set/cb": null,
  },
});
const scene_Renderable__C31836_VT = mkVTable({
  name: "Renderable",
  numFields: 4,
  classNo: 51,
  lastSubtypeNo: 51,
  maxBgInstances: null,
  methods: {
    "__visible": scene_Renderable___visible__P31838,
    "__draw": sprites_BaseSprite___draw__P31325,
    "__drawCore": scene_Renderable___drawCore__P31839,
    "__update": sprites_BaseSprite___update__P31327,
  },
  iface: {
    "_z": null,
    "set/_z": null,
    "id": null,
    "set/id": null,
    "handler": null,
    "set/handler": null,
    "shouldBeVisible": null,
    "set/shouldBeVisible": null,
    "__visible": scene_Renderable___visible__P31838,
    "__drawCore": scene_Renderable___drawCore__P31839,
    "z": sprites_BaseSprite_z__P31323,
    "set/z": sprites_BaseSprite_z__P31324,
    "__draw": sprites_BaseSprite___draw__P31325,
    "__update": sprites_BaseSprite___update__P31327,
  },
});
const game_BaseDialog__C31935_VT = mkVTable({
  name: "BaseDialog",
  numFields: 11,
  classNo: 86,
  lastSubtypeNo: 87,
  maxBgInstances: null,
  methods: {
    "update": game_BaseDialog_update__P31948,
    "setText": game_BaseDialog_setText__P31949,
    "drawTextCore": game_BaseDialog_drawTextCore__P31950,
  },
  iface: {
    "image": null,
    "set/image": null,
    "frame": null,
    "set/frame": null,
    "cursor": null,
    "set/cursor": null,
    "columns": null,
    "set/columns": null,
    "rows": null,
    "set/rows": null,
    "unit": null,
    "set/unit": null,
    "innerLeft": null,
    "set/innerLeft": null,
    "innerTop": null,
    "set/innerTop": null,
    "cursorCount": null,
    "set/cursorCount": null,
    "font": null,
    "set/font": null,
    "textColor": null,
    "set/textColor": null,
    "update": game_BaseDialog_update__P31948,
    "setText": game_BaseDialog_setText__P31949,
    "drawTextCore": game_BaseDialog_drawTextCore__P31950,
    "drawCursorRow": game_BaseDialog_drawCursorRow__P31951,
    "drawBorder": game_BaseDialog_drawBorder__P34643,
    "fastFill": game_BaseDialog_fastFill__P34644,
    "clearInterior": game_BaseDialog_clearInterior__P34645,
    "drawPartial": game_BaseDialog_drawPartial__P34646,
    "cursorRowHeight": game_BaseDialog_cursorRowHeight__P34647,
    "textAreaWidth": game_BaseDialog_textAreaWidth__P34649,
    "textAreaHeight": game_BaseDialog_textAreaHeight__P34650,
    "setFont": game_BaseDialog_setFont__P34651,
  },
});
const game_SplashDialog__C31963_VT = mkVTable({
  name: "SplashDialog",
  numFields: 17,
  classNo: 87,
  lastSubtypeNo: 87,
  maxBgInstances: null,
  methods: {
    "update": game_BaseDialog_update__P31948,
    "setText": game_SplashDialog_setText__P31971,
    "drawTextCore": game_SplashDialog_drawTextCore__P31973,
  },
  iface: {
    "image": null,
    "set/image": null,
    "frame": null,
    "set/frame": null,
    "cursor": null,
    "set/cursor": null,
    "columns": null,
    "set/columns": null,
    "rows": null,
    "set/rows": null,
    "unit": null,
    "set/unit": null,
    "innerLeft": null,
    "set/innerLeft": null,
    "innerTop": null,
    "set/innerTop": null,
    "cursorCount": null,
    "set/cursorCount": null,
    "font": null,
    "set/font": null,
    "textColor": null,
    "set/textColor": null,
    "text": null,
    "set/text": null,
    "subtext": null,
    "set/subtext": null,
    "timer": null,
    "set/timer": null,
    "offset": null,
    "set/offset": null,
    "maxOffset": null,
    "set/maxOffset": null,
    "maxSubOffset": null,
    "set/maxSubOffset": null,
    "updateFont": game_SplashDialog_updateFont__P34654,
    "setText": game_SplashDialog_setText__P31971,
    "drawTextCore": game_SplashDialog_drawTextCore__P31973,
    "update": game_BaseDialog_update__P31948,
    "drawCursorRow": game_BaseDialog_drawCursorRow__P31951,
    "drawBorder": game_BaseDialog_drawBorder__P34643,
    "fastFill": game_BaseDialog_fastFill__P34644,
    "clearInterior": game_BaseDialog_clearInterior__P34645,
    "drawPartial": game_BaseDialog_drawPartial__P34646,
    "cursorRowHeight": game_BaseDialog_cursorRowHeight__P34647,
    "textAreaWidth": game_BaseDialog_textAreaWidth__P34649,
    "textAreaHeight": game_BaseDialog_textAreaHeight__P34650,
    "setFont": game_BaseDialog_setFont__P34651,
  },
});
const sprites_SpriteSet__C31572_VT = mkVTable({
  name: "SpriteSet",
  numFields: 1,
  classNo: 88,
  lastSubtypeNo: 88,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_sprites": null,
    "set/_sprites": null,
    "length": sprites_SpriteSet_length__P31575,
    "add": sprites_SpriteSet_add__P31577,
    "remove": sprites_SpriteSet_remove__P31579,
    "contains": sprites_SpriteSet_contains__P31580,
    "toString": sprites_SpriteSet_toString__P31583,
  },
  toStringMethod: sprites_SpriteSet_toString__P31583,
});
const game_Hitbox__C31420_VT = mkVTable({
  name: "Hitbox",
  numFields: 5,
  classNo: 89,
  lastSubtypeNo: 89,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "parent": null,
    "set/parent": null,
    "ox": null,
    "set/ox": null,
    "oy": null,
    "set/oy": null,
    "width": null,
    "set/width": null,
    "height": null,
    "set/height": null,
    "left": game_Hitbox_left__P31427,
    "top": game_Hitbox_top__P31428,
    "right": game_Hitbox_right__P31429,
    "bottom": game_Hitbox_bottom__P31430,
  },
});
const jacdac_Host__C33508_VT = mkVTable({
  name: "Host",
  numFields: 6,
  classNo: 90,
  lastSubtypeNo: 92,
  maxBgInstances: null,
  methods: {
    "handlePacketOuter": jacdac_Host_handlePacketOuter__P33512,
    "handlePacket": jacdac_Host_handlePacket__P33513,
    "start": jacdac_Host_start__P33522,
    "log": jacdac_Host_log__P36416,
  },
  iface: {
    "supressLog": null,
    "set/supressLog": null,
    "running": null,
    "set/running": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "stateUpdated": null,
    "set/stateUpdated": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "handlePacketOuter": jacdac_Host_handlePacketOuter__P33512,
    "handlePacket": jacdac_Host_handlePacket__P33513,
    "advertisementData": jacdac_Host_advertisementData__P33515,
    "sendReport": jacdac_Host_sendReport__P33516,
    "start": jacdac_Host_start__P33522,
    "log": jacdac_Host_log__P36416,
  },
});
const jacdac_ConsoleHost__C33640_VT = mkVTable({
  name: "ConsoleHost",
  numFields: 8,
  classNo: 91,
  lastSubtypeNo: 91,
  maxBgInstances: null,
  methods: {
    "handlePacketOuter": jacdac_Host_handlePacketOuter__P33512,
    "handlePacket": jacdac_ConsoleHost_handlePacket__P33643,
    "start": jacdac_Host_start__P33522,
    "log": jacdac_ConsoleHost_log__P33645,
  },
  iface: {
    "supressLog": null,
    "set/supressLog": null,
    "running": null,
    "set/running": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "stateUpdated": null,
    "set/stateUpdated": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "_lastListenerTime": null,
    "set/_lastListenerTime": null,
    "minPriority": null,
    "set/minPriority": null,
    "handlePacket": jacdac_ConsoleHost_handlePacket__P33643,
    "log": jacdac_ConsoleHost_log__P33645,
    "add": jacdac_ConsoleHost_add__P33648,
    "handlePacketOuter": jacdac_Host_handlePacketOuter__P33512,
    "advertisementData": jacdac_Host_advertisementData__P33515,
    "sendReport": jacdac_Host_sendReport__P33516,
    "start": jacdac_Host_start__P33522,
  },
});
const jacdac_ControlService__C36426_VT = mkVTable({
  name: "ControlService",
  numFields: 6,
  classNo: 92,
  lastSubtypeNo: 92,
  maxBgInstances: null,
  methods: {
    "handlePacketOuter": jacdac_ControlService_handlePacketOuter__P36428,
    "handlePacket": jacdac_Host_handlePacket__P33513,
    "start": jacdac_Host_start__P33522,
    "log": jacdac_Host_log__P36416,
  },
  iface: {
    "supressLog": null,
    "set/supressLog": null,
    "running": null,
    "set/running": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "stateUpdated": null,
    "set/stateUpdated": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "handlePacketOuter": jacdac_ControlService_handlePacketOuter__P36428,
    "handlePacket": jacdac_Host_handlePacket__P33513,
    "advertisementData": jacdac_Host_advertisementData__P33515,
    "sendReport": jacdac_Host_sendReport__P33516,
    "start": jacdac_Host_start__P33522,
    "log": jacdac_Host_log__P36416,
  },
});
const jdflash_FlashClient__C34262_VT = mkVTable({
  name: "FlashClient",
  numFields: 22,
  classNo: 32,
  lastSubtypeNo: 32,
  maxBgInstances: null,
  methods: {
    "handlePacket": jdflash_FlashClient_handlePacket__P34265,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "pageSize": null,
    "set/pageSize": null,
    "flashSize": null,
    "set/flashSize": null,
    "pageBuffer": null,
    "set/pageBuffer": null,
    "offset": null,
    "set/offset": null,
    "sessionId": null,
    "set/sessionId": null,
    "classClients": null,
    "set/classClients": null,
    "pageAddr": null,
    "set/pageAddr": null,
    "lastStatus": null,
    "set/lastStatus": null,
    "pending": null,
    "set/pending": null,
    "dev_class": null,
    "set/dev_class": null,
    "handlePacket": jdflash_FlashClient_handlePacket__P34265,
    "startFlash": jdflash_FlashClient_startFlash__P34266,
    "endFlash": jdflash_FlashClient_endFlash__P34267,
    "allPending": jdflash_FlashClient_allPending__P37470,
    "numPending": jdflash_FlashClient_numPending__P37471,
    "waitForStatus": jdflash_FlashClient_waitForStatus__P37472,
    "flush": jdflash_FlashClient_flush__P37473,
    "everyoneConnected": jdflash_FlashClient_everyoneConnected__P34268,
    "addChunk": jdflash_FlashClient_addChunk__P34269,
    "forDeviceClass": jdflash_FlashClient_forDeviceClass__P34270,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const music_MelodyPlayer__C31069_VT = mkVTable({
  name: "MelodyPlayer",
  numFields: 2,
  classNo: 93,
  lastSubtypeNo: 94,
  maxBgInstances: null,
  methods: {
    "stop": music_MelodyPlayer_stop__P31073,
    "queuePlayInstructions": music_MelodyPlayer_queuePlayInstructions__P34398,
  },
  iface: {
    "melody": null,
    "set/melody": null,
    "onPlayFinished": null,
    "set/onPlayFinished": null,
    "stop": music_MelodyPlayer_stop__P31073,
    "queuePlayInstructions": music_MelodyPlayer_queuePlayInstructions__P34398,
    "play": music_MelodyPlayer_play__P31074,
  },
});
const jacdac_JDMelodyPlayer__C36581_VT = mkVTable({
  name: "JDMelodyPlayer",
  numFields: 4,
  classNo: 94,
  lastSubtypeNo: 94,
  maxBgInstances: null,
  methods: {
    "stop": jacdac_JDMelodyPlayer_stop__P36583,
    "queuePlayInstructions": jacdac_JDMelodyPlayer_queuePlayInstructions__P36585,
  },
  iface: {
    "melody": null,
    "set/melody": null,
    "onPlayFinished": null,
    "set/onPlayFinished": null,
    "queue": null,
    "set/queue": null,
    "musicClient": null,
    "set/musicClient": null,
    "stop": jacdac_JDMelodyPlayer_stop__P36583,
    "playLoop": jacdac_JDMelodyPlayer_playLoop__P36584,
    "queuePlayInstructions": jacdac_JDMelodyPlayer_queuePlayInstructions__P36585,
    "play": music_MelodyPlayer_play__P31074,
  },
});
const jacdac_MonoLightAnimation__C34090_VT = mkVTable({
  name: "MonoLightAnimation",
  numFields: 1,
  classNo: 95,
  lastSubtypeNo: 95,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "buffer": null,
    "set/buffer": null,
  },
});
const jacdac_AccelerometerClient__C33798_VT = mkVTable({
  name: "AccelerometerClient",
  numFields: 16,
  classNo: 24,
  lastSubtypeNo: 24,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_SensorClient_handlePacket__P33776,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "_localTime": null,
    "set/_localTime": null,
    "_lastState": null,
    "set/_lastState": null,
    "_stateChangedHandler": null,
    "set/_stateChangedHandler": null,
    "isStreaming": null,
    "set/isStreaming": null,
    "x": jacdac_AccelerometerClient_x__P33800,
    "y": jacdac_AccelerometerClient_y__P33801,
    "z": jacdac_AccelerometerClient_z__P33802,
    "get": jacdac_AccelerometerClient_get__P33804,
    "state": jacdac_SensorClient_state__P33772,
    "setStreaming": jacdac_SensorClient_setStreaming__P33773,
    "onStateChanged": jacdac_SensorClient_onStateChanged__P33775,
    "handlePacket": jacdac_SensorClient_handlePacket__P33776,
    "handleCustomCommand": jacdac_SensorClient_handleCustomCommand__P36508,
    "handleVirtualState": jacdac_SensorClient_handleVirtualState__P36509,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const scene_systemMenu_PauseMenu__C32080_VT = mkVTable({
  name: "PauseMenu",
  numFields: 7,
  classNo: 96,
  lastSubtypeNo: 96,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "options": null,
    "set/options": null,
    "theme": null,
    "set/theme": null,
    "selection": null,
    "set/selection": null,
    "scrollRow": null,
    "set/scrollRow": null,
    "scrollTarget": null,
    "set/scrollTarget": null,
    "scrollOffset": null,
    "set/scrollOffset": null,
    "generator": null,
    "set/generator": null,
    "show": scene_systemMenu_PauseMenu_show__P32082,
    "onUpdate": scene_systemMenu_PauseMenu_onUpdate__P32083,
    "setSelection": scene_systemMenu_PauseMenu_setSelection__P32084,
    "drawText": scene_systemMenu_PauseMenu_drawText__P32085,
    "dispose": scene_systemMenu_PauseMenu_dispose__P32086,
    "updateScrollTarget": scene_systemMenu_PauseMenu_updateScrollTarget__P34925,
  },
});
const scene_systemMenu_MenuOption__C32072_VT = mkVTable({
  name: "MenuOption",
  numFields: 8,
  classNo: 97,
  lastSubtypeNo: 97,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "card": null,
    "set/card": null,
    "icon": null,
    "set/icon": null,
    "top": null,
    "set/top": null,
    "state": null,
    "set/state": null,
    "theme": null,
    "set/theme": null,
    "iconImage": null,
    "set/iconImage": null,
    "getText": null,
    "set/getText": null,
    "action": null,
    "set/action": null,
    "show": scene_systemMenu_MenuOption_show__P32074,
    "position": scene_systemMenu_MenuOption_position__P32075,
    "setOffset": scene_systemMenu_MenuOption_setOffset__P32076,
    "setTheme": scene_systemMenu_MenuOption_setTheme__P32077,
    "setState": scene_systemMenu_MenuOption_setState__P32078,
    "dispose": scene_systemMenu_MenuOption_dispose__P32079,
    "updateCard": scene_systemMenu_MenuOption_updateCard__P34924,
  },
});
const jacdac_ToneToPlay__C36578_VT = mkVTable({
  name: "ToneToPlay",
  numFields: 2,
  classNo: 98,
  lastSubtypeNo: 98,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "payload": null,
    "set/payload": null,
    "timestamp": null,
    "set/timestamp": null,
  },
});
const JSON_Parser__C34333_VT = mkVTable({
  name: "Parser",
  numFields: 3,
  classNo: 99,
  lastSubtypeNo: 99,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "ptr": null,
    "set/ptr": null,
    "s": null,
    "set/s": null,
    "errorMsg": null,
    "set/errorMsg": null,
    "error": JSON_Parser_error__P34334,
    "skipWS": JSON_Parser_skipWS__P34335,
    "nextChar": JSON_Parser_nextChar__P34336,
    "doString": JSON_Parser_doString__P34337,
    "doArray": JSON_Parser_doArray__P34338,
    "doObject": JSON_Parser_doObject__P34339,
    "doNumber": JSON_Parser_doNumber__P34340,
    "checkKw": JSON_Parser_checkKw__P34341,
    "value": JSON_Parser_value__P34342,
  },
});
const MovingSprite__C31632_VT = mkVTable({
  name: "MovingSprite",
  numFields: 7,
  classNo: 100,
  lastSubtypeNo: 100,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "sprite": null,
    "set/sprite": null,
    "cachedVx": null,
    "set/cachedVx": null,
    "cachedVy": null,
    "set/cachedVy": null,
    "dx": null,
    "set/dx": null,
    "dy": null,
    "set/dy": null,
    "xStep": null,
    "set/xStep": null,
    "yStep": null,
    "set/yStep": null,
  },
});
const tiles_Location__C31750_VT = mkVTable({
  name: "Location",
  numFields: 3,
  classNo: 101,
  lastSubtypeNo: 101,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "_row": null,
    "set/_row": null,
    "_col": null,
    "set/_col": null,
    "tileMap": null,
    "set/tileMap": null,
    "col": tiles_Location_col__P31751,
    "row": tiles_Location_row__P31752,
    "x": tiles_Location_x__P31754,
    "y": tiles_Location_y__P31755,
    "tileSet": tiles_Location_tileSet__P31756,
  },
});
const sprites_StaticObstacle__C31607_VT = mkVTable({
  name: "StaticObstacle",
  numFields: 5,
  classNo: 102,
  lastSubtypeNo: 102,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "layer": null,
    "set/layer": null,
    "image": null,
    "set/image": null,
    "tileIndex": null,
    "set/tileIndex": null,
    "top": null,
    "set/top": null,
    "left": null,
    "set/left": null,
    "x": sprites_StaticObstacle_x__P31614,
    "y": sprites_StaticObstacle_y__P31615,
    "height": sprites_StaticObstacle_height__P31616,
    "width": sprites_StaticObstacle_width__P31617,
  },
});
const jacdac_WifiClient__C34051_VT = mkVTable({
  name: "WifiClient",
  numFields: 13,
  classNo: 33,
  lastSubtypeNo: 33,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_WifiClient_handlePacket__P34054,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "gotIP": null,
    "set/gotIP": null,
    "hasIP": jacdac_WifiClient_hasIP__P34053,
    "handlePacket": jacdac_WifiClient_handlePacket__P34054,
    "scan": jacdac_WifiClient_scan__P34055,
    "connect": jacdac_WifiClient_connect__P34056,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const settings_SecretStore__C31299_VT = mkVTable({
  name: "SecretStore",
  numFields: 1,
  classNo: 103,
  lastSubtypeNo: 103,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "key": null,
    "set/key": null,
    "readSecret": settings_SecretStore_readSecret__P31303,
    "readSecrets": settings_SecretStore_readSecrets__P31305,
  },
});
const jacdac_TcpClient__C34065_VT = mkVTable({
  name: "TcpClient",
  numFields: 13,
  classNo: 34,
  lastSubtypeNo: 34,
  maxBgInstances: null,
  methods: {
    "handlePacket": jacdac_TcpClient_handlePacket__P34068,
  },
  iface: {
    "device": null,
    "set/device": null,
    "currentDevice": null,
    "set/currentDevice": null,
    "eventId": null,
    "set/eventId": null,
    "broadcast": null,
    "set/broadcast": null,
    "serviceNumber": null,
    "set/serviceNumber": null,
    "supressLog": null,
    "set/supressLog": null,
    "started": null,
    "set/started": null,
    "advertisementData": null,
    "set/advertisementData": null,
    "config": null,
    "set/config": null,
    "name": null,
    "set/name": null,
    "serviceClass": null,
    "set/serviceClass": null,
    "requiredDeviceName": null,
    "set/requiredDeviceName": null,
    "_retPort": null,
    "set/_retPort": null,
    "handlePacket": jacdac_TcpClient_handlePacket__P34068,
    "mkSocket": jacdac_TcpClient_mkSocket__P34069,
    "isConnected": jacdac_Client_isConnected__P33540,
    "handlePacketOuter": jacdac_Client_handlePacketOuter__P33542,
    "_attach": jacdac_Client__attach__P33544,
    "_detach": jacdac_Client__detach__P33545,
    "onAttach": jacdac_Client_onAttach__P36418,
    "onDetach": jacdac_Client_onDetach__P36419,
    "sendCommand": jacdac_Client_sendCommand__P33546,
    "sendCommandWithAck": jacdac_Client_sendCommandWithAck__P33547,
    "setRegInt": jacdac_Client_setRegInt__P33549,
    "setRegBuffer": jacdac_Client_setRegBuffer__P33550,
    "start": jacdac_Client_start__P33551,
    "destroy": jacdac_Client_destroy__P33552,
  },
});
const jacdac_InStream__C33659_VT = mkVTable({
  name: "InStream",
  numFields: 6,
  classNo: 104,
  lastSubtypeNo: 104,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "port": null,
    "set/port": null,
    "nextCnt": null,
    "set/nextCnt": null,
    "closed": null,
    "set/closed": null,
    "inQ": null,
    "set/inQ": null,
    "eventId": null,
    "set/eventId": null,
    "remote": null,
    "set/remote": null,
    "openInfo": jacdac_InStream_openInfo__P33662,
    "bytesAvailable": jacdac_InStream_bytesAvailable__P33663,
    "read": jacdac_InStream_read__P33664,
    "_close": jacdac_InStream__close__P36469,
    "close": jacdac_InStream_close__P33665,
    "meta": jacdac_InStream_meta__P33666,
    "_handle": jacdac_InStream__handle__P33667,
    "readList": jacdac_InStream_readList__P33668,
  },
});
const net_AccessPoint__C34152_VT = mkVTable({
  name: "AccessPoint",
  numFields: 3,
  classNo: 105,
  lastSubtypeNo: 105,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "rssi": null,
    "set/rssi": null,
    "encryption": null,
    "set/encryption": null,
    "ssid": null,
    "set/ssid": null,
  },
});
const jacdac_Socket__C34057_VT = mkVTable({
  name: "Socket",
  numFields: 4,
  classNo: 106,
  lastSubtypeNo: 106,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "outp": null,
    "set/outp": null,
    "inp": null,
    "set/inp": null,
    "isConnected": null,
    "set/isConnected": null,
    "parent": null,
    "set/parent": null,
    "close": jacdac_Socket_close__P34059,
    "write": jacdac_Socket_write__P34060,
    "read": jacdac_Socket_read__P34061,
    "bytesAvailable": jacdac_Socket_bytesAvailable__P34062,
    "connectSSL": jacdac_Socket_connectSSL__P34063,
  },
});
const jacdac_OutStream__C33669_VT = mkVTable({
  name: "OutStream",
  numFields: 3,
  classNo: 107,
  lastSubtypeNo: 107,
  maxBgInstances: null,
  methods: {
  },
  iface: {
    "nextCnt": null,
    "set/nextCnt": null,
    "device": null,
    "set/device": null,
    "port": null,
    "set/port": null,
    "writeEx": jacdac_OutStream_writeEx__P36470,
    "write": jacdac_OutStream_write__P33671,
    "writeAndClose": jacdac_OutStream_writeAndClose__P33672,
    "close": jacdac_OutStream_close__P33673,
    "writeMeta": jacdac_OutStream_writeMeta__P33674,
  },
});

const breakpoints = setupDebugger(1, ["serviceDescs___34252","consoleClient___34240","lastDev___34258","testDevN___34257","dns___34232","skippingFamilyId___38070","currFlasher___38071","flashers___37936"])

return _main___P57383
})
